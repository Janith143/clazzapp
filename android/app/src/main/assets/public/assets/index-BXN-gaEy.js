const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChatWidget-B2-wkd5o.js","assets/vendor-firebase-CLtQg3ae.js","assets/HomePage-DkuGlg7R.js","assets/SearchBar-WR6MAao9.js","assets/TeacherCard-BA7EbZSp.js","assets/StarRating-BeOC4AZb.js","assets/CourseCard-uZsExVwk.js","assets/slug-Be7lxzw5.js","assets/ClassCard-BBTr9XzW.js","assets/QuizCard-COBKBKhv.js","assets/EventCard-Smhp_CKP.js","assets/ExamCard-DZTlommE.js","assets/Countdown-tuRDrQvi.js","assets/MyExamsSection-DJubUmUf.js","assets/SEOHead-fOquVp0s.js","assets/AllTeachersPage-DmAGlbZI.js","assets/useSEO-BjUGcIuA.js","assets/AllCoursesPage-gGDvCYZQ.js","assets/AllClassesPage-D-Fy3wVK.js","assets/SearchableSelect-Dgx7XP55.js","assets/AllQuizzesPage-DXkTZ-58.js","assets/AllExamsPage-9WLjcXQx.js","assets/AllEventsPage-eQaNyrqT.js","assets/AllProductsPage-2_j5662J.js","assets/ProductCard-BOy-eRLr.js","assets/TeacherProfilePage-K1VyrcZt.js","assets/StudentDetailsModal-NtkdRNK3.js","assets/TimeTable-BJ2hd5rK.js","assets/ConfirmationModal-CVK0Y9X0.js","assets/AttendanceSummaryTable-DaIVNjyM.js","assets/html2canvas.esm-CiaFdv3w.js","assets/StudentDashboard-Di9KSJmB.js","assets/PaymentMethodSelector-CJgtkeLh.js","assets/AdminDashboard-BVzgTL6y.js","assets/EditProfilePage-BBDFjFu4.js","assets/CourseEditorPage-2GuXQJAT.js","assets/CourseDetailPage-DL0Of4mJ.js","assets/ClassDetailPage-B7OuyDGP.js","assets/QuizDetailPage-Bk3Tf8So.js","assets/EventDetailPage-BmUnkJTP.js","assets/ProductDetailPage-Cea4ybjo.js","assets/QuizEditorPage-B6WRuO1l.js","assets/QuizTakingPage-BwLIbCNM.js","assets/PaymentRedirectPage-TBXI_AyF.js","assets/StaticPage-DV9ND5zc.js","assets/GiftVoucherPage-4kpBk52H.js","assets/ReferralDashboardPage-lFVl3MLe.js","assets/TuitionInstituteDashboard-Dnsgj-lU.js","assets/AttendanceScannerPage-CBx2aGbX.js","assets/TeacherReferralLandingPage-Bz_aOcCQ.js","assets/SubscriptionSuccessPage-xh1IysCi.js"])))=>i.map(i=>d[i]);
var R2=Object.defineProperty,B2=Object.defineProperties;var $2=Object.getOwnPropertyDescriptors;var xs=Object.getOwnPropertySymbols;var Fp=Object.prototype.hasOwnProperty,zp=Object.prototype.propertyIsEnumerable;var Zu=(e,t,r)=>t in e?R2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q=(e,t)=>{for(var r in t||(t={}))Fp.call(t,r)&&Zu(e,r,t[r]);if(xs)for(var r of xs(t))zp.call(t,r)&&Zu(e,r,t[r]);return e},X=(e,t)=>B2(e,$2(t));var ks=(e,t)=>{var r={};for(var n in e)Fp.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&xs)for(var n of xs(e))t.indexOf(n)<0&&zp.call(e,n)&&(r[n]=e[n]);return r};var cn=(e,t,r)=>Zu(e,typeof t!="symbol"?t+"":t,r);var ne=(e,t,r)=>new Promise((n,a)=>{var i=c=>{try{u(r.next(c))}catch(f){a(f)}},s=c=>{try{u(r.throw(c))}catch(f){a(f)}},u=c=>c.done?n(c.value):Promise.resolve(c.value).then(i,s);u((r=r.apply(e,t)).next())});import{i as K2,a as F2,p as z2,g as U2,b as H2,c as W2,d as q2,e as V2,o as xr,f as he,h as G2,s as Y2,j as Et,q as Zr,w as en,k as tn,G as Q2,l as J2,m as X2,n as ec,r as Z2,E as Up,v as ek,t as tk,u as rk,x as ct,y as nk,z as kl,A as kt,B as Jt,C as bl,D as _r,F as nn,H as it,I as ea,J as ak,K as ik,L as ok,M as sk,N as lk}from"./vendor-firebase-CLtQg3ae.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Hn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Yo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cy={exports:{}},Jl={},Ey={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qo=Symbol.for("react.element"),uk=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),dk=Symbol.for("react.strict_mode"),fk=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),mk=Symbol.for("react.forward_ref"),gk=Symbol.for("react.suspense"),vk=Symbol.for("react.memo"),yk=Symbol.for("react.lazy"),Hp=Symbol.iterator;function wk(e){return e===null||typeof e!="object"?null:(e=Hp&&e[Hp]||e["@@iterator"],typeof e=="function"?e:null)}var Ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,Iy={};function Ai(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Ty}Ai.prototype.isReactComponent={};Ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dy(){}Dy.prototype=Ai.prototype;function Nf(e,t,r){this.props=e,this.context=t,this.refs=Iy,this.updater=r||Ty}var If=Nf.prototype=new Dy;If.constructor=Nf;Ny(If,Ai.prototype);If.isPureReactComponent=!0;var Wp=Array.isArray,My=Object.prototype.hasOwnProperty,Df={current:null},Py={key:!0,ref:!0,__self:!0,__source:!0};function jy(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)My.call(t,n)&&!Py.hasOwnProperty(n)&&(a[n]=t[n]);var u=arguments.length-2;if(u===1)a.children=r;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];a.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)a[n]===void 0&&(a[n]=u[n]);return{$$typeof:Qo,type:e,key:i,ref:s,props:a,_owner:Df.current}}function xk(e,t){return{$$typeof:Qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qo}function kk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qp=/\/+/g;function tc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kk(""+e.key):t.toString(36)}function il(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Qo:case uk:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+tc(s,0):n,Wp(a)?(r="",e!=null&&(r=e.replace(qp,"$&/")+"/"),il(a,t,r,"",function(f){return f})):a!=null&&(Mf(a)&&(a=xk(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(qp,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",Wp(e))for(var u=0;u<e.length;u++){i=e[u];var c=n+tc(i,u);s+=il(i,t,r,c,a)}else if(c=wk(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=n+tc(i,u++),s+=il(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function bs(e,t,r){if(e==null)return e;var n=[],a=0;return il(e,n,"","",function(i){return t.call(r,i,a++)}),n}function bk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qt={current:null},ol={transition:null},Sk={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:Df};function Ly(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:bs,forEach:function(e,t,r){bs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bs(e,function(){t++}),t},toArray:function(e){return bs(e,function(t){return t})||[]},only:function(e){if(!Mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=Ai;Fe.Fragment=ck;Fe.Profiler=fk;Fe.PureComponent=Nf;Fe.StrictMode=dk;Fe.Suspense=gk;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sk;Fe.act=Ly;Fe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ny({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Df.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)My.call(t,c)&&!Py.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];n.children=u}return{$$typeof:Qo,type:e.type,key:a,ref:i,props:n,_owner:s}};Fe.createContext=function(e){return e={$$typeof:pk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hk,_context:e},e.Consumer=e};Fe.createElement=jy;Fe.createFactory=function(e){var t=jy.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:mk,render:e}};Fe.isValidElement=Mf;Fe.lazy=function(e){return{$$typeof:yk,_payload:{_status:-1,_result:e},_init:bk}};Fe.memo=function(e,t){return{$$typeof:vk,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=ol.transition;ol.transition={};try{e()}finally{ol.transition=t}};Fe.unstable_act=Ly;Fe.useCallback=function(e,t){return qt.current.useCallback(e,t)};Fe.useContext=function(e){return qt.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return qt.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return qt.current.useEffect(e,t)};Fe.useId=function(){return qt.current.useId()};Fe.useImperativeHandle=function(e,t,r){return qt.current.useImperativeHandle(e,t,r)};Fe.useInsertionEffect=function(e,t){return qt.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return qt.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return qt.current.useMemo(e,t)};Fe.useReducer=function(e,t,r){return qt.current.useReducer(e,t,r)};Fe.useRef=function(e){return qt.current.useRef(e)};Fe.useState=function(e){return qt.current.useState(e)};Fe.useSyncExternalStore=function(e,t,r){return qt.current.useSyncExternalStore(e,t,r)};Fe.useTransition=function(){return qt.current.useTransition()};Fe.version="18.3.1";Ey.exports=Fe;var T=Ey.exports;const Ke=Yo(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _k=T,Ck=Symbol.for("react.element"),Ek=Symbol.for("react.fragment"),Tk=Object.prototype.hasOwnProperty,Nk=_k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ik={key:!0,ref:!0,__self:!0,__source:!0};function Ay(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Tk.call(t,n)&&!Ik.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ck,type:e,key:i,ref:s,props:a,_owner:Nk.current}}Jl.Fragment=Ek;Jl.jsx=Ay;Jl.jsxs=Ay;Cy.exports=Jl;var l=Cy.exports,fd={},Oy={exports:{}},pr={},Ry={exports:{}},By={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,L){var F=I.length;I.push(L);e:for(;0<F;){var W=F-1>>>1,pe=I[W];if(0<a(pe,L))I[W]=L,I[F]=pe,F=W;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var L=I[0],F=I.pop();if(F!==L){I[0]=F;e:for(var W=0,pe=I.length,ye=pe>>>1;W<ye;){var ce=2*(W+1)-1,oe=I[ce],ge=ce+1,fe=I[ge];if(0>a(oe,F))ge<pe&&0>a(fe,oe)?(I[W]=fe,I[ge]=F,W=ge):(I[W]=oe,I[ce]=F,W=ce);else if(ge<pe&&0>a(fe,F))I[W]=fe,I[ge]=F,W=ge;else break e}}return L}function a(I,L){var F=I.sortIndex-L.sortIndex;return F!==0?F:I.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,m=null,p=3,b=!1,S=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var L=r(f);L!==null;){if(L.callback===null)n(f);else if(L.startTime<=I)n(f),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(f)}}function C(I){if(x=!1,y(I),!S)if(r(c)!==null)S=!0,A(O);else{var L=r(f);L!==null&&j(C,L.startTime-I)}}function O(I,L){S=!1,x&&(x=!1,w(R),R=-1),b=!0;var F=p;try{for(y(L),m=r(c);m!==null&&(!(m.expirationTime>L)||I&&!G());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var pe=W(m.expirationTime<=L);L=e.unstable_now(),typeof pe=="function"?m.callback=pe:m===r(c)&&n(c),y(L)}else n(c);m=r(c)}if(m!==null)var ye=!0;else{var ce=r(f);ce!==null&&j(C,ce.startTime-L),ye=!1}return ye}finally{m=null,p=F,b=!1}}var P=!1,D=null,R=-1,N=5,z=-1;function G(){return!(e.unstable_now()-z<N)}function K(){if(D!==null){var I=e.unstable_now();z=I;var L=!0;try{L=D(!0,I)}finally{L?U():(P=!1,D=null)}}else P=!1}var U;if(typeof v=="function")U=function(){v(K)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=K,U=function(){B.postMessage(null)}}else U=function(){E(K,0)};function A(I){D=I,P||(P=!0,U())}function j(I,L){R=E(function(){I(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,A(O))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var F=p;p=L;try{return I()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,L){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var F=p;p=I;try{return L()}finally{p=F}},e.unstable_scheduleCallback=function(I,L,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,I){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=F+pe,I={id:h++,callback:L,priorityLevel:I,startTime:F,expirationTime:pe,sortIndex:-1},F>W?(I.sortIndex=F,t(f,I),r(c)===null&&I===r(f)&&(x?(w(R),R=-1):x=!0,j(C,F-W))):(I.sortIndex=pe,t(c,I),S||b||(S=!0,A(O))),I},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(I){var L=p;return function(){var F=p;p=L;try{return I.apply(this,arguments)}finally{p=F}}}})(By);Ry.exports=By;var Dk=Ry.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk=T,hr=Dk;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $y=new Set,Mo={};function Na(e,t){Ei(e,t),Ei(e+"Capture",t)}function Ei(e,t){for(Mo[e]=t,e=0;e<t.length;e++)$y.add(t[e])}var kn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),hd=Object.prototype.hasOwnProperty,Pk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vp={},Gp={};function jk(e){return hd.call(Gp,e)?!0:hd.call(Vp,e)?!1:Pk.test(e)?Gp[e]=!0:(Vp[e]=!0,!1)}function Lk(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ak(e,t,r,n){if(t===null||typeof t=="undefined"||Lk(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vt(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Vt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Vt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Vt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Vt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Vt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Vt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Vt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Vt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Vt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pf=/[\-:]([a-z])/g;function jf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pf,jf);Lt[t]=new Vt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pf,jf);Lt[t]=new Vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pf,jf);Lt[t]=new Vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Vt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lf(e,t,r,n){var a=Lt.hasOwnProperty(t)?Lt[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ak(t,r,a,n)&&(r=null),n||a===null?jk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cn=Mk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),ai=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Af=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),Ky=Symbol.for("react.provider"),Fy=Symbol.for("react.context"),Of=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),gd=Symbol.for("react.suspense_list"),Rf=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),zy=Symbol.for("react.offscreen"),Yp=Symbol.iterator;function qi(e){return e===null||typeof e!="object"?null:(e=Yp&&e[Yp]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,rc;function ho(e){if(rc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rc=t&&t[1]||""}return`
`+rc+e}var nc=!1;function ac(e,t){if(!e||nc)return"";nc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,u=i.length-1;1<=s&&0<=u&&a[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(a[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||a[s]!==i[u]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{nc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ho(e):""}function Ok(e){switch(e.tag){case 5:return ho(e.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return e=ac(e.type,!1),e;case 11:return e=ac(e.type.render,!1),e;case 1:return e=ac(e.type,!0),e;default:return""}}function vd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ii:return"Fragment";case ai:return"Portal";case pd:return"Profiler";case Af:return"StrictMode";case md:return"Suspense";case gd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fy:return(e.displayName||"Context")+".Consumer";case Ky:return(e._context.displayName||"Context")+".Provider";case Of:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rf:return t=e.displayName||null,t!==null?t:vd(e.type)||"Memo";case An:t=e._payload,e=e._init;try{return vd(e(t))}catch(r){}}return null}function Rk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vd(t);case 8:return t===Af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ta(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bk(e){var t=Uy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _s(e){e._valueTracker||(e._valueTracker=Bk(e))}function Hy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Uy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sl(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function yd(e,t){var r=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Qp(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ta(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wy(e,t){t=t.checked,t!=null&&Lf(e,"checked",t,!1)}function wd(e,t){Wy(e,t);var r=ta(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xd(e,t.type,r):t.hasOwnProperty("defaultValue")&&xd(e,t.type,ta(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jp(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function xd(e,t,r){(t!=="number"||Sl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var po=Array.isArray;function gi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ta(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function kd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xp(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(po(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ta(r)}}function qy(e,t){var r=ta(t.value),n=ta(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Zp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cs,Gy=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$k=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){$k.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function Yy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function Qy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Yy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Kk=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sd(e,t){if(t){if(Kk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function _d(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function Bf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ed=null,vi=null,yi=null;function em(e){if(e=Zo(e)){if(typeof Ed!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=ru(t),Ed(e.stateNode,e.type,t))}}function Jy(e){vi?yi?yi.push(e):yi=[e]:vi=e}function Xy(){if(vi){var e=vi,t=yi;if(yi=vi=null,em(e),t)for(e=0;e<t.length;e++)em(t[e])}}function Zy(e,t){return e(t)}function e0(){}var ic=!1;function t0(e,t,r){if(ic)return e(t,r);ic=!0;try{return Zy(e,t,r)}finally{ic=!1,(vi!==null||yi!==null)&&(e0(),Xy())}}function jo(e,t){var r=e.stateNode;if(r===null)return null;var n=ru(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Td=!1;if(kn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){Td=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch(e){Td=!1}function Fk(e,t,r,n,a,i,s,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(h){this.onError(h)}}var xo=!1,_l=null,Cl=!1,Nd=null,zk={onError:function(e){xo=!0,_l=e}};function Uk(e,t,r,n,a,i,s,u,c){xo=!1,_l=null,Fk.apply(zk,arguments)}function Hk(e,t,r,n,a,i,s,u,c){if(Uk.apply(this,arguments),xo){if(xo){var f=_l;xo=!1,_l=null}else throw Error(ve(198));Cl||(Cl=!0,Nd=f)}}function Ia(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function r0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tm(e){if(Ia(e)!==e)throw Error(ve(188))}function Wk(e){var t=e.alternate;if(!t){if(t=Ia(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return tm(a),e;if(i===n)return tm(a),t;i=i.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,u=a.child;u;){if(u===r){s=!0,r=a,n=i;break}if(u===n){s=!0,n=a,r=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===r){s=!0,r=i,n=a;break}if(u===n){s=!0,n=i,r=a;break}u=u.sibling}if(!s)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function n0(e){return e=Wk(e),e!==null?a0(e):null}function a0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a0(e);if(t!==null)return t;e=e.sibling}return null}var i0=hr.unstable_scheduleCallback,rm=hr.unstable_cancelCallback,qk=hr.unstable_shouldYield,Vk=hr.unstable_requestPaint,gt=hr.unstable_now,Gk=hr.unstable_getCurrentPriorityLevel,$f=hr.unstable_ImmediatePriority,o0=hr.unstable_UserBlockingPriority,El=hr.unstable_NormalPriority,Yk=hr.unstable_LowPriority,s0=hr.unstable_IdlePriority,Xl=null,an=null;function Qk(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch(t){}}var Br=Math.clz32?Math.clz32:Zk,Jk=Math.log,Xk=Math.LN2;function Zk(e){return e>>>=0,e===0?32:31-(Jk(e)/Xk|0)|0}var Es=64,Ts=4194304;function mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var u=s&~a;u!==0?n=mo(u):(i&=s,i!==0&&(n=mo(i)))}else s=r&~a,s!==0?n=mo(s):i!==0&&(n=mo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Br(t),a=1<<r,n|=e[r],t&=~a;return n}function eb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Br(i),u=1<<s,c=a[s];c===-1?(!(u&r)||u&n)&&(a[s]=eb(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l0(){var e=Es;return Es<<=1,!(Es&4194240)&&(Es=64),e}function oc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Jo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Br(t),e[t]=r}function rb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Br(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function Kf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Br(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Qe=0;function u0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c0,Ff,d0,f0,h0,Dd=!1,Ns=[],Wn=null,qn=null,Vn=null,Lo=new Map,Ao=new Map,$n=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nm(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Lo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Gi(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Zo(t),t!==null&&Ff(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function ab(e,t,r,n,a){switch(t){case"focusin":return Wn=Gi(Wn,e,t,r,n,a),!0;case"dragenter":return qn=Gi(qn,e,t,r,n,a),!0;case"mouseover":return Vn=Gi(Vn,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Lo.set(i,Gi(Lo.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ao.set(i,Gi(Ao.get(i)||null,e,t,r,n,a)),!0}return!1}function p0(e){var t=ga(e.target);if(t!==null){var r=Ia(t);if(r!==null){if(t=r.tag,t===13){if(t=r0(r),t!==null){e.blockedOn=t,h0(e.priority,function(){d0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Md(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Cd=n,r.target.dispatchEvent(n),Cd=null}else return t=Zo(r),t!==null&&Ff(t),e.blockedOn=r,!1;t.shift()}return!0}function am(e,t,r){sl(e)&&r.delete(t)}function ib(){Dd=!1,Wn!==null&&sl(Wn)&&(Wn=null),qn!==null&&sl(qn)&&(qn=null),Vn!==null&&sl(Vn)&&(Vn=null),Lo.forEach(am),Ao.forEach(am)}function Yi(e,t){e.blockedOn===t&&(e.blockedOn=null,Dd||(Dd=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,ib)))}function Oo(e){function t(a){return Yi(a,e)}if(0<Ns.length){Yi(Ns[0],e);for(var r=1;r<Ns.length;r++){var n=Ns[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Wn!==null&&Yi(Wn,e),qn!==null&&Yi(qn,e),Vn!==null&&Yi(Vn,e),Lo.forEach(t),Ao.forEach(t),r=0;r<$n.length;r++)n=$n[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$n.length&&(r=$n[0],r.blockedOn===null);)p0(r),r.blockedOn===null&&$n.shift()}var wi=Cn.ReactCurrentBatchConfig,Nl=!0;function ob(e,t,r,n){var a=Qe,i=wi.transition;wi.transition=null;try{Qe=1,zf(e,t,r,n)}finally{Qe=a,wi.transition=i}}function sb(e,t,r,n){var a=Qe,i=wi.transition;wi.transition=null;try{Qe=4,zf(e,t,r,n)}finally{Qe=a,wi.transition=i}}function zf(e,t,r,n){if(Nl){var a=Md(e,t,r,n);if(a===null)gc(e,t,n,Il,r),nm(e,n);else if(ab(a,e,t,r,n))n.stopPropagation();else if(nm(e,n),t&4&&-1<nb.indexOf(e)){for(;a!==null;){var i=Zo(a);if(i!==null&&c0(i),i=Md(e,t,r,n),i===null&&gc(e,t,n,Il,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else gc(e,t,n,null,r)}}var Il=null;function Md(e,t,r,n){if(Il=null,e=Bf(n),e=ga(e),e!==null)if(t=Ia(e),t===null)e=null;else if(r=t.tag,r===13){if(e=r0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Il=e,null}function m0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gk()){case $f:return 1;case o0:return 4;case El:case Yk:return 16;case s0:return 536870912;default:return 16}default:return 16}}var Fn=null,Uf=null,ll=null;function g0(){if(ll)return ll;var e,t=Uf,r=t.length,n,a="value"in Fn?Fn.value:Fn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return ll=a.slice(e,1<n?1-n:void 0)}function ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function im(){return!1}function mr(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Is:im,this.isPropagationStopped=im,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hf=mr(Oi),Xo=ht({},Oi,{view:0,detail:0}),lb=mr(Xo),sc,lc,Qi,Zl=ht({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qi&&(Qi&&e.type==="mousemove"?(sc=e.screenX-Qi.screenX,lc=e.screenY-Qi.screenY):lc=sc=0,Qi=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:lc}}),om=mr(Zl),ub=ht({},Zl,{dataTransfer:0}),cb=mr(ub),db=ht({},Xo,{relatedTarget:0}),uc=mr(db),fb=ht({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),hb=mr(fb),pb=ht({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mb=mr(pb),gb=ht({},Oi,{data:0}),sm=mr(gb),vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wb[e])?!!t[e]:!1}function Wf(){return xb}var kb=ht({},Xo,{key:function(e){if(e.key){var t=vb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bb=mr(kb),Sb=ht({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lm=mr(Sb),_b=ht({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),Cb=mr(_b),Eb=ht({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=mr(Eb),Nb=ht({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ib=mr(Nb),Db=[9,13,27,32],qf=kn&&"CompositionEvent"in window,ko=null;kn&&"documentMode"in document&&(ko=document.documentMode);var Mb=kn&&"TextEvent"in window&&!ko,v0=kn&&(!qf||ko&&8<ko&&11>=ko),um=" ",cm=!1;function y0(e,t){switch(e){case"keyup":return Db.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oi=!1;function Pb(e,t){switch(e){case"compositionend":return w0(t);case"keypress":return t.which!==32?null:(cm=!0,um);case"textInput":return e=t.data,e===um&&cm?null:e;default:return null}}function jb(e,t){if(oi)return e==="compositionend"||!qf&&y0(e,t)?(e=g0(),ll=Uf=Fn=null,oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v0&&t.locale!=="ko"?null:t.data;default:return null}}var Lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lb[e.type]:t==="textarea"}function x0(e,t,r,n){Jy(n),t=Dl(t,"onChange"),0<t.length&&(r=new Hf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bo=null,Ro=null;function Ab(e){M0(e,0)}function eu(e){var t=ui(e);if(Hy(t))return e}function Ob(e,t){if(e==="change")return t}var k0=!1;if(kn){var cc;if(kn){var dc="oninput"in document;if(!dc){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),dc=typeof fm.oninput=="function"}cc=dc}else cc=!1;k0=cc&&(!document.documentMode||9<document.documentMode)}function hm(){bo&&(bo.detachEvent("onpropertychange",b0),Ro=bo=null)}function b0(e){if(e.propertyName==="value"&&eu(Ro)){var t=[];x0(t,Ro,e,Bf(e)),t0(Ab,t)}}function Rb(e,t,r){e==="focusin"?(hm(),bo=t,Ro=r,bo.attachEvent("onpropertychange",b0)):e==="focusout"&&hm()}function Bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eu(Ro)}function $b(e,t){if(e==="click")return eu(t)}function Kb(e,t){if(e==="input"||e==="change")return eu(t)}function Fb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kr=typeof Object.is=="function"?Object.is:Fb;function Bo(e,t){if(Kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!hd.call(t,a)||!Kr(e[a],t[a]))return!1}return!0}function pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,t){var r=pm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pm(r)}}function S0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _0(){for(var e=window,t=Sl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(n){r=!1}if(r)e=t.contentWindow;else break;t=Sl(e.document)}return t}function Vf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zb(e){var t=_0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S0(r.ownerDocument.documentElement,r)){if(n!==null&&Vf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=mm(r,i);var s=mm(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ub=kn&&"documentMode"in document&&11>=document.documentMode,si=null,Pd=null,So=null,jd=!1;function gm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jd||si==null||si!==Sl(n)||(n=si,"selectionStart"in n&&Vf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),So&&Bo(So,n)||(So=n,n=Dl(Pd,"onSelect"),0<n.length&&(t=new Hf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=si)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var li={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},fc={},C0={};kn&&(C0=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function tu(e){if(fc[e])return fc[e];if(!li[e])return e;var t=li[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in C0)return fc[e]=t[r];return e}var E0=tu("animationend"),T0=tu("animationiteration"),N0=tu("animationstart"),I0=tu("transitionend"),D0=new Map,vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function na(e,t){D0.set(e,t),Na(t,[e])}for(var hc=0;hc<vm.length;hc++){var pc=vm[hc],Hb=pc.toLowerCase(),Wb=pc[0].toUpperCase()+pc.slice(1);na(Hb,"on"+Wb)}na(E0,"onAnimationEnd");na(T0,"onAnimationIteration");na(N0,"onAnimationStart");na("dblclick","onDoubleClick");na("focusin","onFocus");na("focusout","onBlur");na(I0,"onTransitionEnd");Ei("onMouseEnter",["mouseout","mouseover"]);Ei("onMouseLeave",["mouseout","mouseover"]);Ei("onPointerEnter",["pointerout","pointerover"]);Ei("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("cancel close invalid load scroll toggle".split(" ").concat(go));function ym(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Hk(n,t,void 0,e),e.currentTarget=null}function M0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var u=n[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==i&&a.isPropagationStopped())break e;ym(a,u,f),i=c}else for(s=0;s<n.length;s++){if(u=n[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==i&&a.isPropagationStopped())break e;ym(a,u,f),i=c}}}if(Cl)throw e=Nd,Cl=!1,Nd=null,e}function nt(e,t){var r=t[Bd];r===void 0&&(r=t[Bd]=new Set);var n=e+"__bubble";r.has(n)||(P0(t,e,2,!1),r.add(n))}function mc(e,t,r){var n=0;t&&(n|=4),P0(r,e,n,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function $o(e){if(!e[Ms]){e[Ms]=!0,$y.forEach(function(r){r!=="selectionchange"&&(qb.has(r)||mc(r,!1,e),mc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,mc("selectionchange",!1,t))}}function P0(e,t,r,n){switch(m0(t)){case 1:var a=ob;break;case 4:a=sb;break;default:a=zf}r=a.bind(null,t,r,e),a=void 0,!Td||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function gc(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var u=n.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;u!==null;){if(s=ga(u),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}u=u.parentNode}}n=n.return}t0(function(){var f=i,h=Bf(r),m=[];e:{var p=D0.get(e);if(p!==void 0){var b=Hf,S=e;switch(e){case"keypress":if(ul(r)===0)break e;case"keydown":case"keyup":b=bb;break;case"focusin":S="focus",b=uc;break;case"focusout":S="blur",b=uc;break;case"beforeblur":case"afterblur":b=uc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Cb;break;case E0:case T0:case N0:b=hb;break;case I0:b=Tb;break;case"scroll":b=lb;break;case"wheel":b=Ib;break;case"copy":case"cut":case"paste":b=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=lm}var x=(t&4)!==0,E=!x&&e==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var v=f,y;v!==null;){y=v;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,w!==null&&(C=jo(v,w),C!=null&&x.push(Ko(v,C,y)))),E)break;v=v.return}0<x.length&&(p=new b(p,S,null,r,h),m.push({event:p,listeners:x}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&r!==Cd&&(S=r.relatedTarget||r.fromElement)&&(ga(S)||S[bn]))break e;if((b||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,b?(S=r.relatedTarget||r.toElement,b=f,S=S?ga(S):null,S!==null&&(E=Ia(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=f),b!==S)){if(x=om,C="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=lm,C="onPointerLeave",w="onPointerEnter",v="pointer"),E=b==null?p:ui(b),y=S==null?p:ui(S),p=new x(C,v+"leave",b,r,h),p.target=E,p.relatedTarget=y,C=null,ga(h)===f&&(x=new x(w,v+"enter",S,r,h),x.target=y,x.relatedTarget=E,C=x),E=C,b&&S)t:{for(x=b,w=S,v=0,y=x;y;y=qa(y))v++;for(y=0,C=w;C;C=qa(C))y++;for(;0<v-y;)x=qa(x),v--;for(;0<y-v;)w=qa(w),y--;for(;v--;){if(x===w||w!==null&&x===w.alternate)break t;x=qa(x),w=qa(w)}x=null}else x=null;b!==null&&wm(m,p,b,x,!1),S!==null&&E!==null&&wm(m,E,S,x,!0)}}e:{if(p=f?ui(f):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var O=Ob;else if(dm(p))if(k0)O=Kb;else{O=Bb;var P=Rb}else(b=p.nodeName)&&b.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=$b);if(O&&(O=O(e,f))){x0(m,O,r,h);break e}P&&P(e,p,f),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&xd(p,"number",p.value)}switch(P=f?ui(f):window,e){case"focusin":(dm(P)||P.contentEditable==="true")&&(si=P,Pd=f,So=null);break;case"focusout":So=Pd=si=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,gm(m,r,h);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":gm(m,r,h)}var D;if(qf)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else oi?y0(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(v0&&r.locale!=="ko"&&(oi||R!=="onCompositionStart"?R==="onCompositionEnd"&&oi&&(D=g0()):(Fn=h,Uf="value"in Fn?Fn.value:Fn.textContent,oi=!0)),P=Dl(f,R),0<P.length&&(R=new sm(R,e,null,r,h),m.push({event:R,listeners:P}),D?R.data=D:(D=w0(r),D!==null&&(R.data=D)))),(D=Mb?Pb(e,r):jb(e,r))&&(f=Dl(f,"onBeforeInput"),0<f.length&&(h=new sm("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:f}),h.data=D))}M0(m,t)})}function Ko(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=jo(e,r),i!=null&&n.unshift(Ko(e,i,a)),i=jo(e,t),i!=null&&n.push(Ko(e,i,a))),e=e.return}return n}function qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wm(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var u=r,c=u.alternate,f=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&f!==null&&(u=f,a?(c=jo(r,i),c!=null&&s.unshift(Ko(r,c,u))):a||(c=jo(r,i),c!=null&&s.push(Ko(r,c,u)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Vb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(Gb,"")}function Ps(e,t,r){if(t=xm(t),xm(e)!==t&&r)throw Error(ve(425))}function Ml(){}var Ld=null,Ad=null;function Od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof km!="undefined"?function(e){return km.resolve(null).then(e).catch(Jb)}:Rd;function Jb(e){setTimeout(function(){throw e})}function vc(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Oo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Oo(t)}function Gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function bm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ri=Math.random().toString(36).slice(2),rn="__reactFiber$"+Ri,Fo="__reactProps$"+Ri,bn="__reactContainer$"+Ri,Bd="__reactEvents$"+Ri,Xb="__reactListeners$"+Ri,Zb="__reactHandles$"+Ri;function ga(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bn]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=bm(e);e!==null;){if(r=e[rn])return r;e=bm(e)}return t}e=r,r=e.parentNode}return null}function Zo(e){return e=e[rn]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function ru(e){return e[Fo]||null}var $d=[],ci=-1;function aa(e){return{current:e}}function ot(e){0>ci||(e.current=$d[ci],$d[ci]=null,ci--)}function et(e,t){ci++,$d[ci]=e.current,e.current=t}var ra={},Ft=aa(ra),Zt=aa(!1),Sa=ra;function Ti(e,t){var r=e.type.contextTypes;if(!r)return ra;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function er(e){return e=e.childContextTypes,e!=null}function Pl(){ot(Zt),ot(Ft)}function Sm(e,t,r){if(Ft.current!==ra)throw Error(ve(168));et(Ft,t),et(Zt,r)}function j0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,Rk(e)||"Unknown",a));return ht({},r,n)}function jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ra,Sa=Ft.current,et(Ft,e),et(Zt,Zt.current),!0}function _m(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=j0(e,t,Sa),n.__reactInternalMemoizedMergedChildContext=e,ot(Zt),ot(Ft),et(Ft,e)):ot(Zt),et(Zt,r)}var mn=null,nu=!1,yc=!1;function L0(e){mn===null?mn=[e]:mn.push(e)}function e5(e){nu=!0,L0(e)}function ia(){if(!yc&&mn!==null){yc=!0;var e=0,t=Qe;try{var r=mn;for(Qe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mn=null,nu=!1}catch(a){throw mn!==null&&(mn=mn.slice(e+1)),i0($f,ia),a}finally{Qe=t,yc=!1}}return null}var di=[],fi=0,Ll=null,Al=0,br=[],Sr=0,_a=null,vn=1,yn="";function fa(e,t){di[fi++]=Al,di[fi++]=Ll,Ll=e,Al=t}function A0(e,t,r){br[Sr++]=vn,br[Sr++]=yn,br[Sr++]=_a,_a=e;var n=vn;e=yn;var a=32-Br(n)-1;n&=~(1<<a),r+=1;var i=32-Br(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,vn=1<<32-Br(t)+a|r<<a|n,yn=i+e}else vn=1<<i|r<<a|n,yn=e}function Gf(e){e.return!==null&&(fa(e,1),A0(e,1,0))}function Yf(e){for(;e===Ll;)Ll=di[--fi],di[fi]=null,Al=di[--fi],di[fi]=null;for(;e===_a;)_a=br[--Sr],br[Sr]=null,yn=br[--Sr],br[Sr]=null,vn=br[--Sr],br[Sr]=null}var fr=null,dr=null,ut=!1,Or=null;function O0(e,t){var r=Cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,fr=e,dr=Gn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,fr=e,dr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_a!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,fr=e,dr=null,!0):!1;default:return!1}}function Kd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(ut){var t=dr;if(t){var r=t;if(!Cm(e,t)){if(Kd(e))throw Error(ve(418));t=Gn(r.nextSibling);var n=fr;t&&Cm(e,t)?O0(n,r):(e.flags=e.flags&-4097|2,ut=!1,fr=e)}}else{if(Kd(e))throw Error(ve(418));e.flags=e.flags&-4097|2,ut=!1,fr=e}}}function Em(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;fr=e}function js(e){if(e!==fr)return!1;if(!ut)return Em(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Od(e.type,e.memoizedProps)),t&&(t=dr)){if(Kd(e))throw R0(),Error(ve(418));for(;t;)O0(e,t),t=Gn(t.nextSibling)}if(Em(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dr=Gn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dr=null}}else dr=fr?Gn(e.stateNode.nextSibling):null;return!0}function R0(){for(var e=dr;e;)e=Gn(e.nextSibling)}function Ni(){dr=fr=null,ut=!1}function Qf(e){Or===null?Or=[e]:Or.push(e)}var t5=Cn.ReactCurrentBatchConfig;function Ji(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=a.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function Ls(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tm(e){var t=e._init;return t(e._payload)}function B0(e){function t(w,v){if(e){var y=w.deletions;y===null?(w.deletions=[v],w.flags|=16):y.push(v)}}function r(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function n(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function a(w,v){return w=Xn(w,v),w.index=0,w.sibling=null,w}function i(w,v,y){return w.index=y,e?(y=w.alternate,y!==null?(y=y.index,y<v?(w.flags|=2,v):y):(w.flags|=2,v)):(w.flags|=1048576,v)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function u(w,v,y,C){return v===null||v.tag!==6?(v=Cc(y,w.mode,C),v.return=w,v):(v=a(v,y),v.return=w,v)}function c(w,v,y,C){var O=y.type;return O===ii?h(w,v,y.props.children,C,y.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===An&&Tm(O)===v.type)?(C=a(v,y.props),C.ref=Ji(w,v,y),C.return=w,C):(C=gl(y.type,y.key,y.props,null,w.mode,C),C.ref=Ji(w,v,y),C.return=w,C)}function f(w,v,y,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Ec(y,w.mode,C),v.return=w,v):(v=a(v,y.children||[]),v.return=w,v)}function h(w,v,y,C,O){return v===null||v.tag!==7?(v=ba(y,w.mode,C,O),v.return=w,v):(v=a(v,y),v.return=w,v)}function m(w,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Cc(""+v,w.mode,y),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ss:return y=gl(v.type,v.key,v.props,null,w.mode,y),y.ref=Ji(w,null,v),y.return=w,y;case ai:return v=Ec(v,w.mode,y),v.return=w,v;case An:var C=v._init;return m(w,C(v._payload),y)}if(po(v)||qi(v))return v=ba(v,w.mode,y,null),v.return=w,v;Ls(w,v)}return null}function p(w,v,y,C){var O=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return O!==null?null:u(w,v,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:return y.key===O?c(w,v,y,C):null;case ai:return y.key===O?f(w,v,y,C):null;case An:return O=y._init,p(w,v,O(y._payload),C)}if(po(y)||qi(y))return O!==null?null:h(w,v,y,C,null);Ls(w,y)}return null}function b(w,v,y,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(y)||null,u(v,w,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ss:return w=w.get(C.key===null?y:C.key)||null,c(v,w,C,O);case ai:return w=w.get(C.key===null?y:C.key)||null,f(v,w,C,O);case An:var P=C._init;return b(w,v,y,P(C._payload),O)}if(po(C)||qi(C))return w=w.get(y)||null,h(v,w,C,O,null);Ls(v,C)}return null}function S(w,v,y,C){for(var O=null,P=null,D=v,R=v=0,N=null;D!==null&&R<y.length;R++){D.index>R?(N=D,D=null):N=D.sibling;var z=p(w,D,y[R],C);if(z===null){D===null&&(D=N);break}e&&D&&z.alternate===null&&t(w,D),v=i(z,v,R),P===null?O=z:P.sibling=z,P=z,D=N}if(R===y.length)return r(w,D),ut&&fa(w,R),O;if(D===null){for(;R<y.length;R++)D=m(w,y[R],C),D!==null&&(v=i(D,v,R),P===null?O=D:P.sibling=D,P=D);return ut&&fa(w,R),O}for(D=n(w,D);R<y.length;R++)N=b(D,w,R,y[R],C),N!==null&&(e&&N.alternate!==null&&D.delete(N.key===null?R:N.key),v=i(N,v,R),P===null?O=N:P.sibling=N,P=N);return e&&D.forEach(function(G){return t(w,G)}),ut&&fa(w,R),O}function x(w,v,y,C){var O=qi(y);if(typeof O!="function")throw Error(ve(150));if(y=O.call(y),y==null)throw Error(ve(151));for(var P=O=null,D=v,R=v=0,N=null,z=y.next();D!==null&&!z.done;R++,z=y.next()){D.index>R?(N=D,D=null):N=D.sibling;var G=p(w,D,z.value,C);if(G===null){D===null&&(D=N);break}e&&D&&G.alternate===null&&t(w,D),v=i(G,v,R),P===null?O=G:P.sibling=G,P=G,D=N}if(z.done)return r(w,D),ut&&fa(w,R),O;if(D===null){for(;!z.done;R++,z=y.next())z=m(w,z.value,C),z!==null&&(v=i(z,v,R),P===null?O=z:P.sibling=z,P=z);return ut&&fa(w,R),O}for(D=n(w,D);!z.done;R++,z=y.next())z=b(D,w,R,z.value,C),z!==null&&(e&&z.alternate!==null&&D.delete(z.key===null?R:z.key),v=i(z,v,R),P===null?O=z:P.sibling=z,P=z);return e&&D.forEach(function(K){return t(w,K)}),ut&&fa(w,R),O}function E(w,v,y,C){if(typeof y=="object"&&y!==null&&y.type===ii&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:e:{for(var O=y.key,P=v;P!==null;){if(P.key===O){if(O=y.type,O===ii){if(P.tag===7){r(w,P.sibling),v=a(P,y.props.children),v.return=w,w=v;break e}}else if(P.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===An&&Tm(O)===P.type){r(w,P.sibling),v=a(P,y.props),v.ref=Ji(w,P,y),v.return=w,w=v;break e}r(w,P);break}else t(w,P);P=P.sibling}y.type===ii?(v=ba(y.props.children,w.mode,C,y.key),v.return=w,w=v):(C=gl(y.type,y.key,y.props,null,w.mode,C),C.ref=Ji(w,v,y),C.return=w,w=C)}return s(w);case ai:e:{for(P=y.key;v!==null;){if(v.key===P)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(w,v.sibling),v=a(v,y.children||[]),v.return=w,w=v;break e}else{r(w,v);break}else t(w,v);v=v.sibling}v=Ec(y,w.mode,C),v.return=w,w=v}return s(w);case An:return P=y._init,E(w,v,P(y._payload),C)}if(po(y))return S(w,v,y,C);if(qi(y))return x(w,v,y,C);Ls(w,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(w,v.sibling),v=a(v,y),v.return=w,w=v):(r(w,v),v=Cc(y,w.mode,C),v.return=w,w=v),s(w)):r(w,v)}return E}var Ii=B0(!0),$0=B0(!1),Ol=aa(null),Rl=null,hi=null,Jf=null;function Xf(){Jf=hi=Rl=null}function Zf(e){var t=Ol.current;ot(Ol),e._currentValue=t}function zd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xi(e,t){Rl=e,Jf=hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xt=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(Jf!==e)if(e={context:e,memoizedValue:t,next:null},hi===null){if(Rl===null)throw Error(ve(308));hi=e,Rl.dependencies={lanes:0,firstContext:e}}else hi=hi.next=e;return t}var va=null;function eh(e){va===null?va=[e]:va.push(e)}function K0(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,eh(t)):(r.next=a.next,a.next=r),t.interleaved=r,Sn(e,n)}function Sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var On=!1;function th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Sn(e,r)}return a=n.interleaved,a===null?(t.next=t,eh(n)):(t.next=a.next,a.next=t),n.interleaved=t,Sn(e,r)}function cl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}function Nm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bl(e,t,r,n){var a=e.updateQueue;On=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var h=e.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==s&&(u===null?h.firstBaseUpdate=f:u.next=f,h.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;s=0,h=f=c=null,u=i;do{var p=u.lane,b=u.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,x=u;switch(p=t,b=r,x.tag){case 1:if(S=x.payload,typeof S=="function"){m=S.call(b,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=x.payload,p=typeof S=="function"?S.call(b,m,p):S,p==null)break e;m=ht({},m,p);break e;case 2:On=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[u]:p.push(u))}else b={eventTime:b,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(f=h=b,c=m):h=h.next=b,s|=p;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;p=u,u=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(h===null&&(c=m),a.baseState=c,a.firstBaseUpdate=f,a.lastBaseUpdate=h,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Ea|=s,e.lanes=s,e.memoizedState=m}}function Im(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var es={},on=aa(es),zo=aa(es),Uo=aa(es);function ya(e){if(e===es)throw Error(ve(174));return e}function rh(e,t){switch(et(Uo,t),et(zo,e),et(on,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bd(t,e)}ot(on),et(on,t)}function Di(){ot(on),ot(zo),ot(Uo)}function z0(e){ya(Uo.current);var t=ya(on.current),r=bd(t,e.type);t!==r&&(et(zo,e),et(on,r))}function nh(e){zo.current===e&&(ot(on),ot(zo))}var dt=aa(0);function $l(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wc=[];function ah(){for(var e=0;e<wc.length;e++)wc[e]._workInProgressVersionPrimary=null;wc.length=0}var dl=Cn.ReactCurrentDispatcher,xc=Cn.ReactCurrentBatchConfig,Ca=0,ft=null,_t=null,Tt=null,Kl=!1,_o=!1,Ho=0,r5=0;function Bt(){throw Error(ve(321))}function ih(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kr(e[r],t[r]))return!1;return!0}function oh(e,t,r,n,a,i){if(Ca=i,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=e===null||e.memoizedState===null?o5:s5,e=r(n,a),_o){i=0;do{if(_o=!1,Ho=0,25<=i)throw Error(ve(301));i+=1,Tt=_t=null,t.updateQueue=null,dl.current=l5,e=r(n,a)}while(_o)}if(dl.current=Fl,t=_t!==null&&_t.next!==null,Ca=0,Tt=_t=ft=null,Kl=!1,t)throw Error(ve(300));return e}function sh(){var e=Ho!==0;return Ho=0,e}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?ft.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function Nr(){if(_t===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Tt===null?ft.memoizedState:Tt.next;if(t!==null)Tt=t,_t=e;else{if(e===null)throw Error(ve(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Tt===null?ft.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Wo(e,t){return typeof t=="function"?t(e):t}function kc(e){var t=Nr(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=_t,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var u=s=null,c=null,f=i;do{var h=f.lane;if((Ca&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),n=f.hasEagerState?f.eagerState:e(n,f.action);else{var m={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=m,s=n):c=c.next=m,ft.lanes|=h,Ea|=h}f=f.next}while(f!==null&&f!==i);c===null?s=n:c.next=u,Kr(n,t.memoizedState)||(Xt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,ft.lanes|=i,Ea|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bc(e){var t=Nr(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Kr(i,t.memoizedState)||(Xt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function U0(){}function H0(e,t){var r=ft,n=Nr(),a=t(),i=!Kr(n.memoizedState,a);if(i&&(n.memoizedState=a,Xt=!0),n=n.queue,lh(V0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Tt!==null&&Tt.memoizedState.tag&1){if(r.flags|=2048,qo(9,q0.bind(null,r,n,a,t),void 0,null),Nt===null)throw Error(ve(349));Ca&30||W0(r,t,a)}return a}function W0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function q0(e,t,r,n){t.value=r,t.getSnapshot=n,G0(t)&&Y0(e)}function V0(e,t,r){return r(function(){G0(t)&&Y0(e)})}function G0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kr(e,r)}catch(n){return!0}}function Y0(e){var t=Sn(e,1);t!==null&&$r(t,e,1,-1)}function Dm(e){var t=Xr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=i5.bind(null,ft,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Q0(){return Nr().memoizedState}function fl(e,t,r,n){var a=Xr();ft.flags|=e,a.memoizedState=qo(1|t,r,void 0,n===void 0?null:n)}function au(e,t,r,n){var a=Nr();n=n===void 0?null:n;var i=void 0;if(_t!==null){var s=_t.memoizedState;if(i=s.destroy,n!==null&&ih(n,s.deps)){a.memoizedState=qo(t,r,i,n);return}}ft.flags|=e,a.memoizedState=qo(1|t,r,i,n)}function Mm(e,t){return fl(8390656,8,e,t)}function lh(e,t){return au(2048,8,e,t)}function J0(e,t){return au(4,2,e,t)}function X0(e,t){return au(4,4,e,t)}function Z0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e1(e,t,r){return r=r!=null?r.concat([e]):null,au(4,4,Z0.bind(null,t,e),r)}function uh(){}function t1(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ih(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r1(e,t){var r=Nr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ih(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n1(e,t,r){return Ca&21?(Kr(r,t)||(r=l0(),ft.lanes|=r,Ea|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xt=!0),e.memoizedState=r)}function n5(e,t){var r=Qe;Qe=r!==0&&4>r?r:4,e(!0);var n=xc.transition;xc.transition={};try{e(!1),t()}finally{Qe=r,xc.transition=n}}function a1(){return Nr().memoizedState}function a5(e,t,r){var n=Jn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i1(e))o1(t,r);else if(r=K0(e,t,r,n),r!==null){var a=Wt();$r(r,e,n,a),s1(r,t,n)}}function i5(e,t,r){var n=Jn(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i1(e))o1(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,r);if(a.hasEagerState=!0,a.eagerState=u,Kr(u,s)){var c=t.interleaved;c===null?(a.next=a,eh(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch(f){}finally{}r=K0(e,t,a,n),r!==null&&(a=Wt(),$r(r,e,n,a),s1(r,t,n))}}function i1(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function o1(e,t){_o=Kl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function s1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Kf(e,r)}}var Fl={readContext:Tr,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},o5={readContext:Tr,useCallback:function(e,t){return Xr().memoizedState=[e,t===void 0?null:t],e},useContext:Tr,useEffect:Mm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fl(4194308,4,Z0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return fl(4,2,e,t)},useMemo:function(e,t){var r=Xr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=a5.bind(null,ft,e),[n.memoizedState,e]},useRef:function(e){var t=Xr();return e={current:e},t.memoizedState=e},useState:Dm,useDebugValue:uh,useDeferredValue:function(e){return Xr().memoizedState=e},useTransition:function(){var e=Dm(!1),t=e[0];return e=n5.bind(null,e[1]),Xr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ft,a=Xr();if(ut){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),Nt===null)throw Error(ve(349));Ca&30||W0(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Mm(V0.bind(null,n,i,e),[e]),n.flags|=2048,qo(9,q0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Xr(),t=Nt.identifierPrefix;if(ut){var r=yn,n=vn;r=(n&~(1<<32-Br(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ho++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s5={readContext:Tr,useCallback:t1,useContext:Tr,useEffect:lh,useImperativeHandle:e1,useInsertionEffect:J0,useLayoutEffect:X0,useMemo:r1,useReducer:kc,useRef:Q0,useState:function(){return kc(Wo)},useDebugValue:uh,useDeferredValue:function(e){var t=Nr();return n1(t,_t.memoizedState,e)},useTransition:function(){var e=kc(Wo)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:H0,useId:a1,unstable_isNewReconciler:!1},l5={readContext:Tr,useCallback:t1,useContext:Tr,useEffect:lh,useImperativeHandle:e1,useInsertionEffect:J0,useLayoutEffect:X0,useMemo:r1,useReducer:bc,useRef:Q0,useState:function(){return bc(Wo)},useDebugValue:uh,useDeferredValue:function(e){var t=Nr();return _t===null?t.memoizedState=e:n1(t,_t.memoizedState,e)},useTransition:function(){var e=bc(Wo)[0],t=Nr().memoizedState;return[e,t]},useMutableSource:U0,useSyncExternalStore:H0,useId:a1,unstable_isNewReconciler:!1};function Lr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ud(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ht({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var iu={isMounted:function(e){return(e=e._reactInternals)?Ia(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wt(),a=Jn(e),i=wn(n,a);i.payload=t,r!=null&&(i.callback=r),t=Yn(e,i,a),t!==null&&($r(t,e,a,n),cl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wt(),a=Jn(e),i=wn(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yn(e,i,a),t!==null&&($r(t,e,a,n),cl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wt(),n=Jn(e),a=wn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Yn(e,a,n),t!==null&&($r(t,e,n,r),cl(t,e,n))}};function Pm(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Bo(r,n)||!Bo(a,i):!0}function l1(e,t,r){var n=!1,a=ra,i=t.contextType;return typeof i=="object"&&i!==null?i=Tr(i):(a=er(t)?Sa:Ft.current,n=t.contextTypes,i=(n=n!=null)?Ti(e,a):ra),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=iu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function jm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&iu.enqueueReplaceState(t,t.state,null)}function Hd(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},th(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Tr(i):(i=er(t)?Sa:Ft.current,a.context=Ti(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ud(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&iu.enqueueReplaceState(a,a.state,null),Bl(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Mi(e,t){try{var r="",n=t;do r+=Ok(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Sc(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function Wd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var u5=typeof WeakMap=="function"?WeakMap:Map;function u1(e,t,r){r=wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ul||(Ul=!0,tf=n),Wd(e,t)},r}function c1(e,t,r){r=wn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Wd(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wd(e,t),typeof n!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Lm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new u5;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=S5.bind(null,e,t,r),t.then(e,e))}function Am(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Om(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wn(-1,1),t.tag=2,Yn(r,t,1))),r.lanes|=1),e)}var c5=Cn.ReactCurrentOwner,Xt=!1;function Ht(e,t,r,n){t.child=e===null?$0(t,null,r,n):Ii(t,e.child,r,n)}function Rm(e,t,r,n,a){r=r.render;var i=t.ref;return xi(t,a),n=oh(e,t,r,n,i,a),r=sh(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_n(e,t,a)):(ut&&r&&Gf(t),t.flags|=1,Ht(e,t,n,a),t.child)}function Bm(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!vh(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,d1(e,t,i,n,a)):(e=gl(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bo,r(s,n)&&e.ref===t.ref)return _n(e,t,a)}return t.flags|=1,e=Xn(i,n),e.ref=t.ref,e.return=t,t.child=e}function d1(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Bo(i,n)&&e.ref===t.ref)if(Xt=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Xt=!0);else return t.lanes=e.lanes,_n(e,t,a)}return qd(e,t,r,n,a)}function f1(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(mi,ur),ur|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(mi,ur),ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,et(mi,ur),ur|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,et(mi,ur),ur|=n;return Ht(e,t,a,r),t.child}function h1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qd(e,t,r,n,a){var i=er(r)?Sa:Ft.current;return i=Ti(t,i),xi(t,a),r=oh(e,t,r,n,i,a),n=sh(),e!==null&&!Xt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_n(e,t,a)):(ut&&n&&Gf(t),t.flags|=1,Ht(e,t,r,a),t.child)}function $m(e,t,r,n,a){if(er(r)){var i=!0;jl(t)}else i=!1;if(xi(t,a),t.stateNode===null)hl(e,t),l1(t,r,n),Hd(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,f=r.contextType;typeof f=="object"&&f!==null?f=Tr(f):(f=er(r)?Sa:Ft.current,f=Ti(t,f));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==n||c!==f)&&jm(t,s,n,f),On=!1;var p=t.memoizedState;s.state=p,Bl(t,n,s,a),c=t.memoizedState,u!==n||p!==c||Zt.current||On?(typeof h=="function"&&(Ud(t,r,h,n),c=t.memoizedState),(u=On||Pm(t,r,u,n,p,c,f))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=f,n=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,F0(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Lr(t.type,u),s.props=f,m=t.pendingProps,p=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tr(c):(c=er(r)?Sa:Ft.current,c=Ti(t,c));var b=r.getDerivedStateFromProps;(h=typeof b=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||p!==c)&&jm(t,s,n,c),On=!1,p=t.memoizedState,s.state=p,Bl(t,n,s,a);var S=t.memoizedState;u!==m||p!==S||Zt.current||On?(typeof b=="function"&&(Ud(t,r,b,n),S=t.memoizedState),(f=On||Pm(t,r,f,n,p,S,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,S,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,S,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),s.props=n,s.state=S,s.context=c,n=f):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Vd(e,t,r,n,i,a)}function Vd(e,t,r,n,a,i){h1(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&_m(t,r,!1),_n(e,t,i);n=t.stateNode,c5.current=t;var u=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Ii(t,e.child,null,i),t.child=Ii(t,null,u,i)):Ht(e,t,u,i),t.memoizedState=n.state,a&&_m(t,r,!0),t.child}function p1(e){var t=e.stateNode;t.pendingContext?Sm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sm(e,t.context,!1),rh(e,t.containerInfo)}function Km(e,t,r,n,a){return Ni(),Qf(a),t.flags|=256,Ht(e,t,r,n),t.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function m1(e,t,r){var n=t.pendingProps,a=dt.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),et(dt,a&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=lu(s,n,0,null),e=ba(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Yd(r),t.memoizedState=Gd,e):ch(t,s));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return d5(e,t,s,n,u,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,u=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Xn(a,c),n.subtreeFlags=a.subtreeFlags&14680064),u!==null?i=Xn(u,i):(i=ba(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?Yd(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=Gd,n}return i=e.child,e=i.sibling,n=Xn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ch(e,t){return t=lu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,n){return n!==null&&Qf(n),Ii(t,e.child,null,r),e=ch(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d5(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Sc(Error(ve(422))),As(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=lu({mode:"visible",children:n.children},a,0,null),i=ba(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ii(t,e.child,null,s),t.child.memoizedState=Yd(s),t.memoizedState=Gd,i);if(!(t.mode&1))return As(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(ve(419)),n=Sc(i,n,void 0),As(e,t,s,n)}if(u=(s&e.childLanes)!==0,Xt||u){if(n=Nt,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Sn(e,a),$r(n,e,a,-1))}return gh(),n=Sc(Error(ve(421))),As(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=_5.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,dr=Gn(a.nextSibling),fr=t,ut=!0,Or=null,e!==null&&(br[Sr++]=vn,br[Sr++]=yn,br[Sr++]=_a,vn=e.id,yn=e.overflow,_a=t),t=ch(t,n.children),t.flags|=4096,t)}function Fm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),zd(e.return,t,r)}function _c(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function g1(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Ht(e,t,n.children,r),n=dt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,r,t);else if(e.tag===19)Fm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(et(dt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&$l(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),_c(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$l(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}_c(t,!0,r,null,i);break;case"together":_c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function f5(e,t,r){switch(t.tag){case 3:p1(t),Ni();break;case 5:z0(t);break;case 1:er(t.type)&&jl(t);break;case 4:rh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;et(Ol,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(et(dt,dt.current&1),t.flags|=128,null):r&t.child.childLanes?m1(e,t,r):(et(dt,dt.current&1),e=_n(e,t,r),e!==null?e.sibling:null);et(dt,dt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),et(dt,dt.current),n)break;return null;case 22:case 23:return t.lanes=0,f1(e,t,r)}return _n(e,t,r)}var v1,Qd,y1,w1;v1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qd=function(){};y1=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,ya(on.current);var i=null;switch(r){case"input":a=yd(e,a),n=yd(e,n),i=[];break;case"select":a=ht({},a,{value:void 0}),n=ht({},n,{value:void 0}),i=[];break;case"textarea":a=kd(e,a),n=kd(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ml)}Sd(r,n);var s;r=null;for(f in a)if(!n.hasOwnProperty(f)&&a.hasOwnProperty(f)&&a[f]!=null)if(f==="style"){var u=a[f];for(s in u)u.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Mo.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in n){var c=n[f];if(u=a!=null?a[f]:void 0,n.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(f,r)),r=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&nt("scroll",e),i||u===c||(i=[])):(i=i||[]).push(f,c))}r&&(i=i||[]).push("style",r);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};w1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xi(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function h5(e,t,r){var n=t.pendingProps;switch(Yf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return er(t.type)&&Pl(),$t(t),null;case 3:return n=t.stateNode,Di(),ot(Zt),ot(Ft),ah(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Or!==null&&(af(Or),Or=null))),Qd(e,t),$t(t),null;case 5:nh(t);var a=ya(Uo.current);if(r=t.type,e!==null&&t.stateNode!=null)y1(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return $t(t),null}if(e=ya(on.current),js(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rn]=t,n[Fo]=i,e=(t.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(a=0;a<go.length;a++)nt(go[a],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":Qp(n,i),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},nt("invalid",n);break;case"textarea":Xp(n,i),nt("invalid",n)}Sd(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,u,e),a=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Ps(n.textContent,u,e),a=["children",""+u]):Mo.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&nt("scroll",n)}switch(r){case"input":_s(n),Jp(n,i,!0);break;case"textarea":_s(n),Zp(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ml)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vy(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[rn]=t,e[Fo]=n,v1(e,t,!1,!1),t.stateNode=e;e:{switch(s=_d(r,n),r){case"dialog":nt("cancel",e),nt("close",e),a=n;break;case"iframe":case"object":case"embed":nt("load",e),a=n;break;case"video":case"audio":for(a=0;a<go.length;a++)nt(go[a],e);a=n;break;case"source":nt("error",e),a=n;break;case"img":case"image":case"link":nt("error",e),nt("load",e),a=n;break;case"details":nt("toggle",e),a=n;break;case"input":Qp(e,n),a=yd(e,n),nt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ht({},n,{value:void 0}),nt("invalid",e);break;case"textarea":Xp(e,n),a=kd(e,n),nt("invalid",e);break;default:a=n}Sd(r,a),u=a;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Qy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gy(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Po(e,c):typeof c=="number"&&Po(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&nt("scroll",e):c!=null&&Lf(e,i,c,s))}switch(r){case"input":_s(e),Jp(e,n,!1);break;case"textarea":_s(e),Zp(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ta(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?gi(e,!!n.multiple,i,!1):n.defaultValue!=null&&gi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ml)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)w1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=ya(Uo.current),ya(on.current),js(t)){if(n=t.stateNode,r=t.memoizedProps,n[rn]=t,(i=n.nodeValue!==r)&&(e=fr,e!==null))switch(e.tag){case 3:Ps(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ps(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rn]=t,t.stateNode=n}return $t(t),null;case 13:if(ot(dt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&dr!==null&&t.mode&1&&!(t.flags&128))R0(),Ni(),t.flags|=98560,i=!1;else if(i=js(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ve(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ve(317));i[rn]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else Or!==null&&(af(Or),Or=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dt.current&1?Ct===0&&(Ct=3):gh())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return Di(),Qd(e,t),e===null&&$o(t.stateNode.containerInfo),$t(t),null;case 10:return Zf(t.type._context),$t(t),null;case 17:return er(t.type)&&Pl(),$t(t),null;case 19:if(ot(dt),i=t.memoizedState,i===null)return $t(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Xi(i,!1);else{if(Ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$l(e),s!==null){for(t.flags|=128,Xi(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return et(dt,dt.current&1|2),t.child}e=e.sibling}i.tail!==null&&gt()>Pi&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304)}else{if(!n)if(e=$l(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ut)return $t(t),null}else 2*gt()-i.renderingStartTime>Pi&&r!==1073741824&&(t.flags|=128,n=!0,Xi(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gt(),t.sibling=null,r=dt.current,et(dt,n?r&1|2:r&1),t):($t(t),null);case 22:case 23:return mh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ur&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function p5(e,t){switch(Yf(t),t.tag){case 1:return er(t.type)&&Pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Di(),ot(Zt),ot(Ft),ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return nh(t),null;case 13:if(ot(dt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(dt),null;case 4:return Di(),null;case 10:return Zf(t.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var Os=!1,Kt=!1,m5=typeof WeakSet=="function"?WeakSet:Set,Se=null;function pi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pt(e,t,n)}else r.current=null}function Jd(e,t,r){try{r()}catch(n){pt(e,t,n)}}var zm=!1;function g5(e,t){if(Ld=Nl,e=_0(),Vf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(C){r=null;break e}var s=0,u=-1,c=-1,f=0,h=0,m=e,p=null;t:for(;;){for(var b;m!==r||a!==0&&m.nodeType!==3||(u=s+a),m!==i||n!==0&&m.nodeType!==3||(c=s+n),m.nodeType===3&&(s+=m.nodeValue.length),(b=m.firstChild)!==null;)p=m,m=b;for(;;){if(m===e)break t;if(p===r&&++f===a&&(u=s),p===i&&++h===n&&(c=s),(b=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=b}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ad={focusedElem:e,selectionRange:r},Nl=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var x=S.memoizedProps,E=S.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?x:Lr(t.type,x),E);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(C){pt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return S=zm,zm=!1,S}function Co(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Jd(t,r,i)}a=a.next}while(a!==n)}}function ou(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Xd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function x1(e){var t=e.alternate;t!==null&&(e.alternate=null,x1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Fo],delete t[Bd],delete t[Xb],delete t[Zb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k1(e){return e.tag===5||e.tag===3||e.tag===4}function Um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ml));else if(n!==4&&(e=e.child,e!==null))for(Zd(e,t,r),e=e.sibling;e!==null;)Zd(e,t,r),e=e.sibling}function ef(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ef(e,t,r),e=e.sibling;e!==null;)ef(e,t,r),e=e.sibling}var Mt=null,Ar=!1;function Mn(e,t,r){for(r=r.child;r!==null;)b1(e,t,r),r=r.sibling}function b1(e,t,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Xl,r)}catch(u){}switch(r.tag){case 5:Kt||pi(r,t);case 6:var n=Mt,a=Ar;Mt=null,Mn(e,t,r),Mt=n,Ar=a,Mt!==null&&(Ar?(e=Mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Mt.removeChild(r.stateNode));break;case 18:Mt!==null&&(Ar?(e=Mt,r=r.stateNode,e.nodeType===8?vc(e.parentNode,r):e.nodeType===1&&vc(e,r),Oo(e)):vc(Mt,r.stateNode));break;case 4:n=Mt,a=Ar,Mt=r.stateNode.containerInfo,Ar=!0,Mn(e,t,r),Mt=n,Ar=a;break;case 0:case 11:case 14:case 15:if(!Kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Jd(r,t,s),a=a.next}while(a!==n)}Mn(e,t,r);break;case 1:if(!Kt&&(pi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){pt(r,t,u)}Mn(e,t,r);break;case 21:Mn(e,t,r);break;case 22:r.mode&1?(Kt=(n=Kt)||r.memoizedState!==null,Mn(e,t,r),Kt=n):Mn(e,t,r);break;default:Mn(e,t,r)}}function Hm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new m5),t.forEach(function(n){var a=C5.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function jr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Mt=u.stateNode,Ar=!1;break e;case 3:Mt=u.stateNode.containerInfo,Ar=!0;break e;case 4:Mt=u.stateNode.containerInfo,Ar=!0;break e}u=u.return}if(Mt===null)throw Error(ve(160));b1(i,s,a),Mt=null,Ar=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(f){pt(a,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S1(t,e),t=t.sibling}function S1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),qr(e),n&4){try{Co(3,e,e.return),ou(3,e)}catch(x){pt(e,e.return,x)}try{Co(5,e,e.return)}catch(x){pt(e,e.return,x)}}break;case 1:jr(t,e),qr(e),n&512&&r!==null&&pi(r,r.return);break;case 5:if(jr(t,e),qr(e),n&512&&r!==null&&pi(r,r.return),e.flags&32){var a=e.stateNode;try{Po(a,"")}catch(x){pt(e,e.return,x)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Wy(a,i),_d(u,s);var f=_d(u,i);for(s=0;s<c.length;s+=2){var h=c[s],m=c[s+1];h==="style"?Qy(a,m):h==="dangerouslySetInnerHTML"?Gy(a,m):h==="children"?Po(a,m):Lf(a,h,m,f)}switch(u){case"input":wd(a,i);break;case"textarea":qy(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var b=i.value;b!=null?gi(a,!!i.multiple,b,!1):p!==!!i.multiple&&(i.defaultValue!=null?gi(a,!!i.multiple,i.defaultValue,!0):gi(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fo]=i}catch(x){pt(e,e.return,x)}}break;case 6:if(jr(t,e),qr(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){pt(e,e.return,x)}}break;case 3:if(jr(t,e),qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(x){pt(e,e.return,x)}break;case 4:jr(t,e),qr(e);break;case 13:jr(t,e),qr(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hh=gt())),n&4&&Hm(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Kt=(f=Kt)||h,jr(t,e),Kt=f):jr(t,e),qr(e),n&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!h&&e.mode&1)for(Se=e,h=e.child;h!==null;){for(m=Se=h;Se!==null;){switch(p=Se,b=p.child,p.tag){case 0:case 11:case 14:case 15:Co(4,p,p.return);break;case 1:pi(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(x){pt(n,r,x)}}break;case 5:pi(p,p.return);break;case 22:if(p.memoizedState!==null){qm(m);continue}}b!==null?(b.return=p,Se=b):qm(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{a=m.stateNode,f?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Yy("display",s))}catch(x){pt(e,e.return,x)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(x){pt(e,e.return,x)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:jr(t,e),qr(e),n&4&&Hm(e);break;case 21:break;default:jr(t,e),qr(e)}}function qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k1(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Po(a,""),n.flags&=-33);var i=Um(e);ef(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,u=Um(e);Zd(e,u,s);break;default:throw Error(ve(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v5(e,t,r){Se=e,_1(e)}function _1(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var a=Se,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Os;if(!s){var u=a.alternate,c=u!==null&&u.memoizedState!==null||Kt;u=Os;var f=Kt;if(Os=s,(Kt=c)&&!f)for(Se=a;Se!==null;)s=Se,c=s.child,s.tag===22&&s.memoizedState!==null?Vm(a):c!==null?(c.return=s,Se=c):Vm(a);for(;i!==null;)Se=i,_1(i),i=i.sibling;Se=a,Os=u,Kt=f}Wm(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Se=i):Wm(e)}}function Wm(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||ou(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Kt)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Lr(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Im(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Im(t,s,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Oo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Kt||t.flags&512&&Xd(t)}catch(p){pt(t,t.return,p)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function qm(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Vm(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ou(4,t)}catch(c){pt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){pt(t,a,c)}}var i=t.return;try{Xd(t)}catch(c){pt(t,i,c)}break;case 5:var s=t.return;try{Xd(t)}catch(c){pt(t,s,c)}}}catch(c){pt(t,t.return,c)}if(t===e){Se=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Se=u;break}Se=t.return}}var y5=Math.ceil,zl=Cn.ReactCurrentDispatcher,dh=Cn.ReactCurrentOwner,Er=Cn.ReactCurrentBatchConfig,Ve=0,Nt=null,St=null,jt=0,ur=0,mi=aa(0),Ct=0,Vo=null,Ea=0,su=0,fh=0,Eo=null,Qt=null,hh=0,Pi=1/0,pn=null,Ul=!1,tf=null,Qn=null,Rs=!1,zn=null,Hl=0,To=0,rf=null,pl=-1,ml=0;function Wt(){return Ve&6?gt():pl!==-1?pl:pl=gt()}function Jn(e){return e.mode&1?Ve&2&&jt!==0?jt&-jt:t5.transition!==null?(ml===0&&(ml=l0()),ml):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:m0(e.type)),e):1}function $r(e,t,r,n){if(50<To)throw To=0,rf=null,Error(ve(185));Jo(e,r,n),(!(Ve&2)||e!==Nt)&&(e===Nt&&(!(Ve&2)&&(su|=r),Ct===4&&Kn(e,jt)),tr(e,n),r===1&&Ve===0&&!(t.mode&1)&&(Pi=gt()+500,nu&&ia()))}function tr(e,t){var r=e.callbackNode;tb(e,t);var n=Tl(e,e===Nt?jt:0);if(n===0)r!==null&&rm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rm(r),t===1)e.tag===0?e5(Gm.bind(null,e)):L0(Gm.bind(null,e)),Qb(function(){!(Ve&6)&&ia()}),r=null;else{switch(u0(n)){case 1:r=$f;break;case 4:r=o0;break;case 16:r=El;break;case 536870912:r=s0;break;default:r=El}r=P1(r,C1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C1(e,t){if(pl=-1,ml=0,Ve&6)throw Error(ve(327));var r=e.callbackNode;if(ki()&&e.callbackNode!==r)return null;var n=Tl(e,e===Nt?jt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wl(e,n);else{t=n;var a=Ve;Ve|=2;var i=T1();(Nt!==e||jt!==t)&&(pn=null,Pi=gt()+500,ka(e,t));do try{k5();break}catch(u){E1(e,u)}while(!0);Xf(),zl.current=i,Ve=a,St!==null?t=0:(Nt=null,jt=0,t=Ct)}if(t!==0){if(t===2&&(a=Id(e),a!==0&&(n=a,t=nf(e,a))),t===1)throw r=Vo,ka(e,0),Kn(e,n),tr(e,gt()),r;if(t===6)Kn(e,n);else{if(a=e.current.alternate,!(n&30)&&!w5(a)&&(t=Wl(e,n),t===2&&(i=Id(e),i!==0&&(n=i,t=nf(e,i))),t===1))throw r=Vo,ka(e,0),Kn(e,n),tr(e,gt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:ha(e,Qt,pn);break;case 3:if(Kn(e,n),(n&130023424)===n&&(t=hh+500-gt(),10<t)){if(Tl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Wt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Rd(ha.bind(null,e,Qt,pn),t);break}ha(e,Qt,pn);break;case 4:if(Kn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Br(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y5(n/1960))-n,10<n){e.timeoutHandle=Rd(ha.bind(null,e,Qt,pn),n);break}ha(e,Qt,pn);break;case 5:ha(e,Qt,pn);break;default:throw Error(ve(329))}}}return tr(e,gt()),e.callbackNode===r?C1.bind(null,e):null}function nf(e,t){var r=Eo;return e.current.memoizedState.isDehydrated&&(ka(e,t).flags|=256),e=Wl(e,t),e!==2&&(t=Qt,Qt=r,t!==null&&af(t)),e}function af(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function w5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Kr(i(),a))return!1}catch(s){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t){for(t&=~fh,t&=~su,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Br(t),n=1<<r;e[r]=-1,t&=~n}}function Gm(e){if(Ve&6)throw Error(ve(327));ki();var t=Tl(e,0);if(!(t&1))return tr(e,gt()),null;var r=Wl(e,t);if(e.tag!==0&&r===2){var n=Id(e);n!==0&&(t=n,r=nf(e,n))}if(r===1)throw r=Vo,ka(e,0),Kn(e,t),tr(e,gt()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ha(e,Qt,pn),tr(e,gt()),null}function ph(e,t){var r=Ve;Ve|=1;try{return e(t)}finally{Ve=r,Ve===0&&(Pi=gt()+500,nu&&ia())}}function Ta(e){zn!==null&&zn.tag===0&&!(Ve&6)&&ki();var t=Ve;Ve|=1;var r=Er.transition,n=Qe;try{if(Er.transition=null,Qe=1,e)return e()}finally{Qe=n,Er.transition=r,Ve=t,!(Ve&6)&&ia()}}function mh(){ur=mi.current,ot(mi)}function ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Yb(r)),St!==null)for(r=St.return;r!==null;){var n=r;switch(Yf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Pl();break;case 3:Di(),ot(Zt),ot(Ft),ah();break;case 5:nh(n);break;case 4:Di();break;case 13:ot(dt);break;case 19:ot(dt);break;case 10:Zf(n.type._context);break;case 22:case 23:mh()}r=r.return}if(Nt=e,St=e=Xn(e.current,null),jt=ur=t,Ct=0,Vo=null,fh=su=Ea=0,Qt=Eo=null,va!==null){for(t=0;t<va.length;t++)if(r=va[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}va=null}return e}function E1(e,t){do{var r=St;try{if(Xf(),dl.current=Fl,Kl){for(var n=ft.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Kl=!1}if(Ca=0,Tt=_t=ft=null,_o=!1,Ho=0,dh.current=null,r===null||r.return===null){Ct=1,Vo=t,St=null;break}e:{var i=e,s=r.return,u=r,c=t;if(t=jt,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,h=u,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=Am(s);if(b!==null){b.flags&=-257,Om(b,s,u,i,t),b.mode&1&&Lm(i,f,t),t=b,c=f;var S=t.updateQueue;if(S===null){var x=new Set;x.add(c),t.updateQueue=x}else S.add(c);break e}else{if(!(t&1)){Lm(i,f,t),gh();break e}c=Error(ve(426))}}else if(ut&&u.mode&1){var E=Am(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Om(E,s,u,i,t),Qf(Mi(c,u));break e}}i=c=Mi(c,u),Ct!==4&&(Ct=2),Eo===null?Eo=[i]:Eo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=u1(i,c,t);Nm(i,w);break e;case 1:u=c;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qn===null||!Qn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=c1(i,u,t);Nm(i,C);break e}}i=i.return}while(i!==null)}I1(r)}catch(O){t=O,St===r&&r!==null&&(St=r=r.return);continue}break}while(!0)}function T1(){var e=zl.current;return zl.current=Fl,e===null?Fl:e}function gh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Nt===null||!(Ea&268435455)&&!(su&268435455)||Kn(Nt,jt)}function Wl(e,t){var r=Ve;Ve|=2;var n=T1();(Nt!==e||jt!==t)&&(pn=null,ka(e,t));do try{x5();break}catch(a){E1(e,a)}while(!0);if(Xf(),Ve=r,zl.current=n,St!==null)throw Error(ve(261));return Nt=null,jt=0,Ct}function x5(){for(;St!==null;)N1(St)}function k5(){for(;St!==null&&!qk();)N1(St)}function N1(e){var t=M1(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?I1(e):St=t,dh.current=null}function I1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p5(r,t),r!==null){r.flags&=32767,St=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ct=6,St=null;return}}else if(r=h5(r,t,ur),r!==null){St=r;return}if(t=t.sibling,t!==null){St=t;return}St=t=e}while(t!==null);Ct===0&&(Ct=5)}function ha(e,t,r){var n=Qe,a=Er.transition;try{Er.transition=null,Qe=1,b5(e,t,r,n)}finally{Er.transition=a,Qe=n}return null}function b5(e,t,r,n){do ki();while(zn!==null);if(Ve&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rb(e,i),e===Nt&&(St=Nt=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rs||(Rs=!0,P1(El,function(){return ki(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Er.transition,Er.transition=null;var s=Qe;Qe=1;var u=Ve;Ve|=4,dh.current=null,g5(e,r),S1(r,e),zb(Ad),Nl=!!Ld,Ad=Ld=null,e.current=r,v5(r),Vk(),Ve=u,Qe=s,Er.transition=i}else e.current=r;if(Rs&&(Rs=!1,zn=e,Hl=a),i=e.pendingLanes,i===0&&(Qn=null),Qk(r.stateNode),tr(e,gt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ul)throw Ul=!1,e=tf,tf=null,e;return Hl&1&&e.tag!==0&&ki(),i=e.pendingLanes,i&1?e===rf?To++:(To=0,rf=e):To=0,ia(),null}function ki(){if(zn!==null){var e=u0(Hl),t=Er.transition,r=Qe;try{if(Er.transition=null,Qe=16>e?16:e,zn===null)var n=!1;else{if(e=zn,zn=null,Hl=0,Ve&6)throw Error(ve(331));var a=Ve;for(Ve|=4,Se=e.current;Se!==null;){var i=Se,s=i.child;if(Se.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(Se=f;Se!==null;){var h=Se;switch(h.tag){case 0:case 11:case 15:Co(8,h,i)}var m=h.child;if(m!==null)m.return=h,Se=m;else for(;Se!==null;){h=Se;var p=h.sibling,b=h.return;if(x1(h),h===f){Se=null;break}if(p!==null){p.return=b,Se=p;break}Se=b}}}var S=i.alternate;if(S!==null){var x=S.child;if(x!==null){S.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}Se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Se=s;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Se=w;break e}Se=i.return}}var v=e.current;for(Se=v;Se!==null;){s=Se;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Se=y;else e:for(s=v;Se!==null;){if(u=Se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ou(9,u)}}catch(O){pt(u,u.return,O)}if(u===s){Se=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Se=C;break e}Se=u.return}}if(Ve=a,ia(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Xl,e)}catch(O){}n=!0}return n}finally{Qe=r,Er.transition=t}}return!1}function Ym(e,t,r){t=Mi(r,t),t=u1(e,t,1),e=Yn(e,t,1),t=Wt(),e!==null&&(Jo(e,1,t),tr(e,t))}function pt(e,t,r){if(e.tag===3)Ym(e,e,r);else for(;t!==null;){if(t.tag===3){Ym(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qn===null||!Qn.has(n))){e=Mi(r,e),e=c1(t,e,1),t=Yn(t,e,1),e=Wt(),t!==null&&(Jo(t,1,e),tr(t,e));break}}t=t.return}}function S5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(jt&r)===r&&(Ct===4||Ct===3&&(jt&130023424)===jt&&500>gt()-hh?ka(e,0):fh|=r),tr(e,t)}function D1(e,t){t===0&&(e.mode&1?(t=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):t=1);var r=Wt();e=Sn(e,t),e!==null&&(Jo(e,t,r),tr(e,r))}function _5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),D1(e,r)}function C5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),D1(e,r)}var M1;M1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Xt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xt=!1,f5(e,t,r);Xt=!!(e.flags&131072)}else Xt=!1,ut&&t.flags&1048576&&A0(t,Al,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hl(e,t),e=t.pendingProps;var a=Ti(t,Ft.current);xi(t,r),a=oh(null,t,n,e,a,r);var i=sh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,er(n)?(i=!0,jl(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,th(t),a.updater=iu,t.stateNode=a,a._reactInternals=t,Hd(t,n,e,r),t=Vd(null,t,n,!0,i,r)):(t.tag=0,ut&&i&&Gf(t),Ht(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=T5(n),e=Lr(n,e),a){case 0:t=qd(null,t,n,e,r);break e;case 1:t=$m(null,t,n,e,r);break e;case 11:t=Rm(null,t,n,e,r);break e;case 14:t=Bm(null,t,n,Lr(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lr(n,a),qd(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lr(n,a),$m(e,t,n,a,r);case 3:e:{if(p1(t),e===null)throw Error(ve(387));n=t.pendingProps,i=t.memoizedState,a=i.element,F0(e,t),Bl(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Mi(Error(ve(423)),t),t=Km(e,t,n,r,a);break e}else if(n!==a){a=Mi(Error(ve(424)),t),t=Km(e,t,n,r,a);break e}else for(dr=Gn(t.stateNode.containerInfo.firstChild),fr=t,ut=!0,Or=null,r=$0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ni(),n===a){t=_n(e,t,r);break e}Ht(e,t,n,r)}t=t.child}return t;case 5:return z0(t),e===null&&Fd(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,Od(n,a)?s=null:i!==null&&Od(n,i)&&(t.flags|=32),h1(e,t),Ht(e,t,s,r),t.child;case 6:return e===null&&Fd(t),null;case 13:return m1(e,t,r);case 4:return rh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ii(t,null,n,r):Ht(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lr(n,a),Rm(e,t,n,a,r);case 7:return Ht(e,t,t.pendingProps,r),t.child;case 8:return Ht(e,t,t.pendingProps.children,r),t.child;case 12:return Ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,et(Ol,n._currentValue),n._currentValue=s,i!==null)if(Kr(i.value,s)){if(i.children===a.children&&!Zt.current){t=_n(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=wn(-1,r&-r),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?c.next=c:(c.next=h.next,h.next=c),f.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),zd(i.return,r,t),u.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ve(341));s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),zd(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ht(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,xi(t,r),a=Tr(a),n=n(a),t.flags|=1,Ht(e,t,n,r),t.child;case 14:return n=t.type,a=Lr(n,t.pendingProps),a=Lr(n.type,a),Bm(e,t,n,a,r);case 15:return d1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lr(n,a),hl(e,t),t.tag=1,er(n)?(e=!0,jl(t)):e=!1,xi(t,r),l1(t,n,a),Hd(t,n,a,r),Vd(null,t,n,!0,e,r);case 19:return g1(e,t,r);case 22:return f1(e,t,r)}throw Error(ve(156,t.tag))};function P1(e,t){return i0(e,t)}function E5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cr(e,t,r,n){return new E5(e,t,r,n)}function vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T5(e){if(typeof e=="function")return vh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Of)return 11;if(e===Rf)return 14}return 2}function Xn(e,t){var r=e.alternate;return r===null?(r=Cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function gl(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")vh(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case ii:return ba(r.children,a,i,t);case Af:s=8,a|=8;break;case pd:return e=Cr(12,r,t,a|2),e.elementType=pd,e.lanes=i,e;case md:return e=Cr(13,r,t,a),e.elementType=md,e.lanes=i,e;case gd:return e=Cr(19,r,t,a),e.elementType=gd,e.lanes=i,e;case zy:return lu(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ky:s=10;break e;case Fy:s=9;break e;case Of:s=11;break e;case Rf:s=14;break e;case An:s=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Cr(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ba(e,t,r,n){return e=Cr(7,e,n,t),e.lanes=r,e}function lu(e,t,r,n){return e=Cr(22,e,n,t),e.elementType=zy,e.lanes=r,e.stateNode={isHidden:!1},e}function Cc(e,t,r){return e=Cr(6,e,null,t),e.lanes=r,e}function Ec(e,t,r){return t=Cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function N5(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oc(0),this.expirationTimes=oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function yh(e,t,r,n,a,i,s,u,c){return e=new N5(e,t,r,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},th(i),e}function I5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function j1(e){if(!e)return ra;e=e._reactInternals;e:{if(Ia(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(er(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(er(r))return j0(e,r,t)}return t}function L1(e,t,r,n,a,i,s,u,c){return e=yh(r,n,!0,e,a,i,s,u,c),e.context=j1(null),r=e.current,n=Wt(),a=Jn(r),i=wn(n,a),i.callback=t!=null?t:null,Yn(r,i,a),e.current.lanes=a,Jo(e,a,n),tr(e,n),e}function uu(e,t,r,n){var a=t.current,i=Wt(),s=Jn(a);return r=j1(r),t.context===null?t.context=r:t.pendingContext=r,t=wn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yn(a,t,s),e!==null&&($r(e,a,s,i),cl(e,a,s)),s}function ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wh(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function D5(){return null}var A1=typeof reportError=="function"?reportError:function(e){console.error(e)};function xh(e){this._internalRoot=e}cu.prototype.render=xh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));uu(e,t,null,null)};cu.prototype.unmount=xh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ta(function(){uu(null,e,null,null)}),t[bn]=null}};function cu(e){this._internalRoot=e}cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=f0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$n.length&&t!==0&&t<$n[r].priority;r++);$n.splice(r,0,e),r===0&&p0(e)}};function kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jm(){}function M5(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var f=ql(s);i.call(f)}}var s=L1(t,n,e,0,null,!1,!1,"",Jm);return e._reactRootContainer=s,e[bn]=s.current,$o(e.nodeType===8?e.parentNode:e),Ta(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var u=n;n=function(){var f=ql(c);u.call(f)}}var c=yh(e,0,!1,null,null,!1,!1,"",Jm);return e._reactRootContainer=c,e[bn]=c.current,$o(e.nodeType===8?e.parentNode:e),Ta(function(){uu(t,c,r,n)}),c}function fu(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var u=a;a=function(){var c=ql(s);u.call(c)}}uu(t,s,e,a)}else s=M5(r,t,e,a,n);return ql(s)}c0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=mo(t.pendingLanes);r!==0&&(Kf(t,r|1),tr(t,gt()),!(Ve&6)&&(Pi=gt()+500,ia()))}break;case 13:Ta(function(){var n=Sn(e,1);if(n!==null){var a=Wt();$r(n,e,1,a)}}),wh(e,1)}};Ff=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var r=Wt();$r(t,e,134217728,r)}wh(e,134217728)}};d0=function(e){if(e.tag===13){var t=Jn(e),r=Sn(e,t);if(r!==null){var n=Wt();$r(r,e,t,n)}wh(e,t)}};f0=function(){return Qe};h0=function(e,t){var r=Qe;try{return Qe=e,t()}finally{Qe=r}};Ed=function(e,t,r){switch(t){case"input":if(wd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ru(n);if(!a)throw Error(ve(90));Hy(n),wd(n,a)}}}break;case"textarea":qy(e,r);break;case"select":t=r.value,t!=null&&gi(e,!!r.multiple,t,!1)}};Zy=ph;e0=Ta;var P5={usingClientEntryPoint:!1,Events:[Zo,ui,ru,Jy,Xy,ph]},Zi={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},j5={bundleType:Zi.bundleType,version:Zi.version,rendererPackageName:Zi.rendererPackageName,rendererConfig:Zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n0(e),e===null?null:e.stateNode},findFiberByHostInstance:Zi.findFiberByHostInstance||D5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Xl=Bs.inject(j5),an=Bs}catch(e){}}pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P5;pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kh(t))throw Error(ve(200));return I5(e,t,null,r)};pr.createRoot=function(e,t){if(!kh(e))throw Error(ve(299));var r=!1,n="",a=A1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=yh(e,1,!1,null,null,r,!1,n,a),e[bn]=t.current,$o(e.nodeType===8?e.parentNode:e),new xh(t)};pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=n0(t),e=e===null?null:e.stateNode,e};pr.flushSync=function(e){return Ta(e)};pr.hydrate=function(e,t,r){if(!du(t))throw Error(ve(200));return fu(null,e,t,!0,r)};pr.hydrateRoot=function(e,t,r){if(!kh(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=A1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=L1(t,null,e,1,r!=null?r:null,a,!1,i,s),e[bn]=t.current,$o(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new cu(t)};pr.render=function(e,t,r){if(!du(t))throw Error(ve(200));return fu(null,e,t,!1,r)};pr.unmountComponentAtNode=function(e){if(!du(e))throw Error(ve(40));return e._reactRootContainer?(Ta(function(){fu(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};pr.unstable_batchedUpdates=ph;pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!du(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return fu(e,t,r,!1,n)};pr.version="18.3.1-next-f1338f8080-20240426";function O1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O1)}catch(e){console.error(e)}}O1(),Oy.exports=pr;var bh=Oy.exports;const L5=Yo(bh);var Xm=bh;fd.createRoot=Xm.createRoot,fd.hydrateRoot=Xm.hydrateRoot;const A5="modulepreload",O5=function(e){return"/"+e},Zm={},Je=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=O5(c),c in Zm)return;Zm[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":A5,f||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((p,b)=>{m.addEventListener("load",p),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};var pa=(e=>(e.Light="light",e.Dark="dark",e))(pa||{});let $s;const R5=new Uint8Array(16);function B5(){if(!$s&&($s=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $s(R5)}const Dt=[];for(let e=0;e<256;++e)Dt.push((e+256).toString(16).slice(1));function $5(e,t=0){return Dt[e[t+0]]+Dt[e[t+1]]+Dt[e[t+2]]+Dt[e[t+3]]+"-"+Dt[e[t+4]]+Dt[e[t+5]]+"-"+Dt[e[t+6]]+Dt[e[t+7]]+"-"+Dt[e[t+8]]+Dt[e[t+9]]+"-"+Dt[e[t+10]]+Dt[e[t+11]]+Dt[e[t+12]]+Dt[e[t+13]]+Dt[e[t+14]]+Dt[e[t+15]]}const K5=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eg={randomUUID:K5};function gn(e,t,r){if(eg.randomUUID&&!e)return eg.randomUUID();e=e||{};const n=e.random||(e.rng||B5)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$5(n)}const R1=T.createContext(void 0),F5=({children:e})=>{const[t,r]=T.useState(pa.Light),[n,a]=T.useState({name:"none"}),[i,s]=T.useState({isOpen:!1,lecture:null,course:null,isEnrolled:!1}),[u,c]=T.useState({isOpen:!1,type:null}),[f,h]=T.useState({isOpen:!1}),[m,p]=T.useState([]),[b,S]=T.useState([]),[x,E]=T.useState([]),[w,v]=T.useState(!1),[y,C]=T.useState({isOpen:!1,title:"",message:""});T.useEffect(()=>{document.documentElement.classList.toggle("dark",t===pa.Dark)},[t]);const O=()=>r(B=>B===pa.Light?pa.Dark:pa.Light),P=(B,A)=>c({isOpen:!0,type:B,context:A}),D=(B,A="info")=>{p(j=>[...j,{id:Date.now(),message:B,type:A}])},H={theme:t,modalState:n,videoPlayerState:i,imageUploadModal:u,prePurchaseVerificationModal:f,toasts:m,cart:b,favoritePhotos:x,isChatWidgetOpen:w,setChatWidgetOpen:v,notificationPopup:y,setNotificationPopup:C,toggleTheme:O,setModalState:a,setVideoPlayerState:s,setImageUploadModal:c,setPrePurchaseVerificationModal:h,openImageUploadModal:P,addToast:D,removeToast:B=>{p(A=>A.filter(j=>j.id!==B))},addToCart:B=>{S(A=>{if(B.type==="product"){const j=B,I=A.findIndex(L=>L.type==="product"&&L.product.id===j.product.id);if(I>-1){const L=[...A],F=L[I];return L[I]=X(q({},F),{quantity:F.quantity+1}),D("Item quantity updated in cart.","info"),L}else{D(`${j.product.title} added to cart!`,"success");const L={type:"product",id:gn(),quantity:1,product:j.product};return[...A,L]}}else{const j=B;if(A.findIndex(L=>{var F,W;return L.type===j.type&&L.photo.id===j.photo.id&&(L.type!=="photo_print"||((F=L.printOption)==null?void 0:F.id)===((W=j.printOption)==null?void 0:W.id))})>-1)return D("This photo item is already in your cart.","info"),A;{D("Photo item added to cart!","success");const L={type:j.type,id:gn(),quantity:1,photo:j.photo,printOption:j.printOption,eventId:j.eventId,instituteId:j.instituteId,price:j.price};return[...A,L]}}})},removeFromCart:B=>{S(A=>A.filter(j=>j.id!==B)),D("Item removed from cart.","info")},updateCartItemQuantity:(B,A)=>{S(j=>j.map(I=>I.id===B&&(I.type==="product"||I.type==="photo_print")?X(q({},I),{quantity:Math.max(1,A)}):I))},clearCart:()=>S([]),toggleFavoritePhoto:B=>{E(A=>A.includes(B)?A.filter(j=>j!==B):(D("Added to favorites!","success"),[...A,B]))}};return l.jsx(R1.Provider,{value:H,children:e})},At=()=>{const e=T.useContext(R1);if(e===void 0)throw new Error("useUI must be used within a UIProvider");return e},aA=["Ampara","Anuradhapura","Badulla","Batticaloa","Colombo","Galle","Gampaha","Hambantota","Jaffna","Kalutara","Kandy","Kegalle","Kilinochchi","Kurunegala","Mannar","Matale","Matara","Monaragala","Mullaitivu","Nuwara Eliya","Polonnaruwa","Puttalam","Ratnapura","Trincomalee","Vavuniya"],iA={Ampara:["Akkaraipattu","Ambagahawatta","Ampara","Bakmitiyawa","Deegawapiya","Devalahinda","Digamadulla Weeragoda","Dorakumbura","Gonagolla","Hulannuge","Kalmunai","Kannakipuram","Karativu","Kekirihena","Koknahara","Kolamanthalawa","Komari","Lahugala","lmkkamam","Mahaoya","Marathamune","Namaloya","Navithanveli","Nintavur","Oluvil","Padiyatalawa","Pahalalanda","Panama","Pannalagama","Paragahakele","Periyaneelavanai","Polwaga Janapadaya","Pottuvil","Sainthamaruthu","Samanthurai","Serankada","Tempitiya","Thambiluvil","Tirukovil","Uhana","Wadinagala","Wanagamuwa"],Anuradhapura:["Angamuwa","Anuradhapura","Awukana","Bogahawewa","Dematawewa","Dimbulagala","Dutuwewa","Elayapattuwa","Ellewewa","Eppawala","Etawatunuwewa","Etaweeragollewa","Galapitagala","Galenbindunuwewa","Galkadawala","Galkiriyagama","Galkulama","Galnewa","Gambirigaswewa","Ganewalpola","Gemunupura","Getalawa","Gnanikulama","Gonahaddenawa","Habarana","Halmillawa Dambulla","Halmillawetiya","Hidogama","Horawpatana","Horiwila","Hurigaswewa","Hurulunikawewa","Ihala Puliyankulama","Ihalagama","Ipologama","Kagama","Kahatagasdigiliya","Kahatagollewa","Kalakarambewa","Kalaoya","Kalawedi Ulpotha","Kallanchiya","Kalpitiya","Kalukele Badanagala","Kapugallawa","Karagahawewa","Kashyapapura","Kebithigollewa","Kekirawa","Kendewa","Kiralogama","Kirigalwewa","Kirimundalama","Kitulhitiyawa","Kurundankulama","Labunoruwa","Madatugama","Maha Elagamuwa","Mahabulankulama","Mahailluppallama","Mahakanadarawa","Mahapothana","Mahasenpura","Mahawilachchiya","Mailagaswewa","Malwanagama","Maneruwa","Maradankadawala","Maradankalla","Medawachchiya","Megodawewa","Mihintale","Morakewa","Mulkiriyawa","Muriyakadawala","Nachchaduwa","Namalpura","Negampaha","Nochchiyagama","Nuwaragala","Padavi Maithripura","Padavi Parakramapura","Padavi Sripura","Padavi Sritissapura","Padaviya","Padikaramaduwa","Pahala Halmillewa","Pahala Maragahawe","Pahalagama","Palugaswewa","Pandukabayapura","Pandulagama","Parakumpura","Parangiyawadiya","Parasangahawewa","Pelatiyawa","Pemaduwa","Perimiyankulama","Pihimbiyagolewa","Pubbogama","Punewa","Rajanganaya","Rambewa","Rampathwila","Rathmalgahawewa","Saliyapura","Seeppukulama","Senapura","Sivalakulama","Siyambalewa","Sravasthipura","Talawa","Tambuttegama","Tammennawa","Tantirimale","Telhiriyawa","Tirappane","Tittagonewa","Udunuwara Colony","Upuldeniya","Uttimaduwa","Vellamanal","Viharapalugama","Wahalkada","Wahamalgollewa","Walagambahuwa","Walahaviddawewa","Welimuwapotana","Welioya Project"],Badulla:["Akkarasiyaya","Aluketiyawa","Aluttaramma","Ambadandegama","Ambagasdowa","Arawa","Arawakumbura","Arawatta","Atakiriya","Badulla","Baduluoya","Ballaketuwa","Bambarapana","Bandarawela","Beramada","Bibilegama","Boragas","Boralanda","Bowela","Central Camp","Damanewela","Dambana","Dehiattakandiya","Demodara","Diganatenna","Dikkapitiya","Dimbulana","Divulapelessa","Diyatalawa","Dulgolla","Ekiriyankumbura","Ella","Ettampitiya","Galauda","Galporuyaya","Gawarawela","Girandurukotte","Godunna","Gurutalawa","Haldummulla","Hali Ela","Hangunnawa","Haputale","Hebarawa","Heeloya","Helahalpe","Helapupula","Hopton","Idalgashinna","Kahataruppa","Kalugahakandura","Kalupahana","Kebillawela","Kendagolla","Keselpotha","Ketawatta","Kiriwanagama","Koslanda","Kuruwitenna","Kuttiyagolla","Landewela","Liyangahawela","Lunugala","Lunuwatta","Madulsima","Mahiyanganaya","Makulella","Malgoda","Mapakadawewa","Maspanna","Maussagolla","Mawanagama","Medawela Udukinda","Meegahakiula","Metigahatenna","Mirahawatta","Miriyabedda","Nawamedagama","Nelumgama","Nikapotha","Nugatalawa","Ohiya","Pahalarathkinda","Pallekiruwa","Passara","Pattiyagedara","Pelagahatenna","Perawella","Pitamaruwa","Pitapola","Puhulpola","Rajagalatenna","Ratkarawwa","Ridimaliyadda","Silmiyapura","Sirimalgoda","Siripura","Sorabora Colony","Soragune","Soranatota","Taldena","Timbirigaspitiya","Uduhawara","Uraniya","Uva Karandagolla","Uva Mawelagama","Uva Tenna","Uva Tissapura","Welimada","Werunketagoda","Wewatta","Wineethagama","Yalagamuwa","Yalwela"],Batticaloa:["Addalaichenai","Ampilanthurai","Araipattai","Ayithiyamalai","Bakiella","Batticaloa","Cheddipalayam","Chenkaladi","Eravur","Kaluwanchikudi","Kaluwankemy","Kannankudah","Karadiyanaru","Kathiraveli","Kattankudi","Kiran","Kirankulam","Koddaikallar","Kokkaddichcholai","Kurukkalmadam","Mandur","Miravodai","Murakottanchanai","Navagirinagar","Navatkadu","Oddamavadi","Palamunai","Pankudavely","Periyaporativu","Periyapullumalai","Pillaiyaradi","Punanai","Thannamunai","Thettativu","Thikkodai","Thirupalugamam","Unnichchai","Vakaneri","Vakarai","Valaichenai","Vantharumoolai","Vellavely"],Colombo:["Akarawita","Ambalangoda","Athurugiriya","Avissawella","Batawala","Battaramulla","Biyagama","Bope","Boralesgamuwa","Colombo 1","Colombo 10","Colombo 11","Colombo 12","Colombo 13","Colombo 14","Colombo 15","Colombo 2","Colombo 3","Colombo 4","Colombo 5","Colombo 6","Colombo 7","Colombo 8","Colombo 9","Dedigamuwa","Dehiwala","Deltara","Habarakada","Hanwella","Hiripitya","Hokandara","Homagama","Horagala","Kaduwela","Kaluaggala","Kapugoda","Kehelwatta","Kiriwattuduwa","Kolonnawa","Kosgama","Madapatha","Maharagama","Malabe","Moratuwa","Mount Lavinia","Mullegama","Napawela","Nugegoda","Padukka","Pannipitiya","Piliyandala","Pitipana Homagama","Polgasowita","Pugoda","Ranala","Rajagiriya","Siddamulla","Siyambalagoda","Sri Jayawardenepu","Talawatugoda","Tummodara","Waga"],Galle:["Agaliya","Ahangama","Ahungalla","Akmeemana","Alawatugoda","Aluthwala","Ampegama","Amugoda","Anangoda","Angulugaha","Ankokkawala","Aselapura","Baddegama","Balapitiya","Banagala","Batapola","Bentota","Boossa","Dellawa","Dikkumbura","Dodanduwa","Ella Tanabaddegama","Elpitiya","Galle","Ginimellagaha","Gintota","Godahena","Gonamulla Junction","Gonapinuwala","Habaraduwa","Haburugala","Hikkaduwa","Hiniduma","Hiyare","Kahaduwa","Kahawa","Karagoda","Karandeniya","Kosgoda","Kottawagama","Kottegoda","Kuleegoda","Magedara","Mahawela Sinhapura","Mapalagama","Mapalagama Central","Mattaka","Meda-Keembiya","Meetiyagoda","Nagoda","Nakiyadeniya","Nawadagala","Neluwa","Nindana","Pahala Millawa","Panangala","Pannimulla Panagoda","Parana ThanaYamgoda","Patana","Pitigala","Poddala","Polgampola","Porawagama","Rantotuwila","Talagampola","Talgaspe","Talpe","Tawalama","Tiranagama","Udalamatta","Udugama","Uluvitike","Unawatuna","Unenwitiya","Uragaha","Uragasmanhandiya","Wakwella","Walahanduwa","Wanchawela","Wanduramba","Warukandeniya","Watugedara","Weihena","Welikanda","Wilanagama","Yakkalamulla","Yatalamatta"],Gampaha:["Akaragama","Ambagaspitiya","Ambepussa","Andiambalama","Attanagalla","Badalgama","Banduragoda","Batuwatta","Bemmulla","Biyagama IPZ","Bokalagama","Bollete (WP)","Bopagama","Buthpitiya","Dagonna","Danowita","Debahera","Dekatana","Delgoda","Delwagura","Demalagama","Demanhandiya","Dewalapola","Divulapitiya","Divuldeniya","Dompe","Dunagaha","Ekala","Ellakkala","Essella","Galedanda","Gampaha","Ganemulla","Giriulla","Gonawala","Halpe","Hapugastenna","Heeloya","Heiyanthuduwa","Hinatiyana Madawala","Hiswella","Horampella","Hunumulla","Hunupola","Ihala Madampella","Imbulgoda","Ja-Ela","Kadawatha","Kahatowita","Kalagedihena","Kaleliya","Kandana","Katana","Katudeniya","Katunayake","Katunayake Air Force Camp","Katunayake(FTZ)","Katuwellegama","Kelaniya","Kimbulapitiya","Kirindiwela","Kitalawalana","Kochchikade","Kotadeniyawa","Kotugoda","Kumbaloluwa","Loluwagoda","Mabodale","Madelgamuwa","Makewita","Makola","Malwana","Mandawala","Marandagahamula","Mellawagedara","Minuwangoda","Mirigama","Miriswatta","Mithirigala","Muddaragama","Mudungoda","Mulleriyawa New Town","Naranwala","Nawana","Nedungamuwa","Negombo","Nikadalupotha","Nikahetikanda","Nittambuwa","Niwandama","Opatha","Pamunugama","Pamunuwatta","Panawala","Pasyala","Peliyagoda","Pepiliyawala","Pethiyagoda","Polpithimukulana","Puwakpitiya","Radawadunna","Radawana","Raddolugama","Ragama","Ruggahawila","Seeduwa","Siyambalape","Talahena","Thambagalla","Thimbirigaskatuwa","Tittapattara","Udathuthiripitiya","Udugampola","Uggalboda","Urapola","Uswetakeiyawa","Veyangoda","Walgammulla","Walpita","Walpola (WP)","Wathurugama","Watinapaha","Wattala","Weboda","Wegowwa","Weweldeniya","Yakkala","Yatiyana"],Hambantota:["Ambalantota","Angunakolapelessa","Angunakolawewa","Bandagiriya Colony","Barawakumbuka","Beliatta","Beragama","Beralihela","Bundala","Ellagala","Gangulandeniya","Getamanna","Goda Koggalla","Gonagamuwa Uduwila","Gonnoruwa","Hakuruwela","Hambantota","Handugala","Hungama","Ihala Beligalla","Ittademaliya","Julampitiya","Kahandamodara","Kariyamaditta","Katuwana","Kawantissapura","Kirama","Kirinda","Lunama","Lunugamwehera","Magama","Mahagalwewa","Mamadala","Medamulana","Middeniya","Migahajandur","Modarawana","Mulkirigala","Nakulugamuwa","Netolpitiya","Nihiluwa","Padawkema","Pahala Andarawewa","RU/Ridiyagama","Rammalawarapitiya","Ranakeliya","Ranmuduwewa","Ranna","Ratmalwala","Sooriyawewa Town","Tangalla","Tissamaharama","Uda Gomadiya","Udamattala","Uswewa","Vitharandeniya","Walasmulla","Weeraketiya","Weerawila","Weerawila NewTown","Wekandawela","Weligatta","Yatigala"],Jaffna:["Jaffna"],Kalutara:["Agalawatta","Alubomulla","Anguruwatota","Atale","Baduraliya","Bandaragama","Batugampola","Bellana","Beruwala","Bolossagama","Bombuwala","Boralugoda","Bulathsinhala","Danawala Thiniyawala","Delmella","Dharga Town","Diwalakada","Dodangoda","Dombagoda","Ethkandura","Galpatha","Gamagoda","Gonagalpura","Gonapola Junction","Govinna","Gurulubadda","Halkandawila","Haltota","Halvitigala Colony","Halwala","Halwatura","Handapangoda","Hedigalla Colony","Henegama","Hettimulla","Horana","Ittapana","Kahawala","Kalawila Kiranthidiya","Kalutara","Kananwila","Kandanagama","Kelinkanda","Kitulgoda","Koholana","Kuda Uduwa","Labbala","Maggona","Mahagama","Mahakalupahana","Maharangalla","Malgalla Talangalla","Matugama","Meegahatenna","Meegama","Meegoda","Millaniya","Millewa","Miwanapalana","Molkawa","Morapitiya","Morontuduwa","Nawattuduwa","Neboda","Padagoda","Pahalahewessa","Paiyagala","Panadura","Pannala","Paragastota","Paragoda","Paraigama","Pelanda","Pelawatta","Pimbura","Pitagaldeniya","Pokunuwita","Poruwedanda","Ratmale","Remunagoda","Talgaswela","Tebuwana","Uduwara","Utumgama","Veyangalla","Wadduwa","Walagedara","Walallawita","Waskaduwa","Welipenna","Weliveriya","Welmilla Junction","Weragala","Yagirala","Yatadolawatta","Yatawara Junction","lhalahewessa","lnduruwa","lngiriya"],Kandy:["Aludeniya","Ambagahapelessa","Ambagamuwa Udabulathgama","Ambatenna","Ampitiya","Ankumbura","Atabage","Balana","Bambaragahaela","Batagolladeniya","Batugoda","Batumulla","Bawlana","Bopana","Danture","Dedunupitiya","Dekinda","Deltota","Divulankadawala","Dolapihilla","Dolosbage","Dunuwila","Etulgama","Galaboda","Galagedara","Galaha","Galhinna","Gampola","Gelioya","Godamunna","Gomagoda","Gonagantenna","Gonawalapatana","Gunnepana","Gurudeniya","Hakmana","Handaganawa","Handawalapitiya","Handessa","Hanguranketha","Harangalagama","Hataraliyadda","Hindagala","Hondiyadeniya","Hunnasgiriya","Inguruwatta","Jambugahapitiya","Kadugannawa","Kahataliyadda","Kalugala","Kandy","Kapuliyadde","Katugastota","Katukitula","Kelanigama","Kengalla","Ketaboola","Ketakumbura","Kobonila","Kolabissa","Kolongoda","Kulugammana","Kumbukkandura","Kumburegama","Kundasale","Leemagahakotuwa","Lunugama","Lunuketiya Maditta","Madawala Bazaar","Madawalalanda","Madugalla","Madulkele","Mahadoraliyadda","Mahamedagama","Mahanagapura","Mailapitiya","Makkanigama","Makuldeniya","Mangalagama","Mapakanda","Marassana","Marymount Colony","Mawatura","Medamahanuwara","Medawala Harispattuwa","Meetalawa","Megoda Kalugamuwa","Menikdiwela","Menikhinna","Mimure","Minigamuwa","Minipe","Moragahapallama","Murutalawa","Muruthagahamulla","Nanuoya","Naranpanawa","Narawelpita","Nawalapitiya","Nawathispane","Nillambe","Nugaliyadda","Ovilikanda","Pallekotuwa","Panwilatenna","Paradeka","Pasbage","Pattitalawa","Peradeniya","Pilimatalawa","Poholiyadda","Pubbiliya","Pupuressa","Pussellawa","Putuhapuwa","Rajawella","Rambukpitiya","Rambukwella","Rangala","Rantembe","Rikillagaskada","Sangarajapura","Senarathwela","Talatuoya","Teldeniya","Tennekumbura","Uda Peradeniya","Udahentenna","Udatalawinna","Udispattuwa","Ududumbara","Uduwahinna","Uduwela","Ulapane","Unuwinna","Velamboda","Watagoda","Watagoda Harispattuwa","Wattappola","Weligampola","Wendaruwa","Weragantota","Werapitya","Werellagama","Wettawa","Yahalatenna","Yatihalagala","lhala Kobbekaduwa"],Kegalle:["Alawala","Alawatura","Alawwa","Algama","Alutnuwara","Ambalakanda","Ambulugala","Amitirigala","Ampagala","Anhandiya","Anhettigama","Aranayaka","Aruggammana","Batuwita","Beligala(Sab)","Belihuloya","Berannawa","Bopitiya","Bopitiya (SAB)","Boralankada","Bossella","Bulathkohupitiya","Damunupola","Debathgama","Dedugala","Deewala Pallegama","Dehiowita","Deldeniya","Deloluwa","Deraniyagala","Dewalegama","Dewanagala","Dombemada","Dorawaka","Dunumala","Galapitamada","Galatara","Galigamuwa Town","Gallella","Galpatha(Sab)","Gantuna","Getahetta","Godagampola","Gonagala","Hakahinna","Hakbellawaka","Halloluwa","Hedunuwewa","Hemmatagama","Hewadiwela","Hingula","Hinguralakanda","Hingurana","Hiriwadunna","Ihala Walpola","Ihalagama","Imbulana","Imbulgasdeniya","Kabagamuwa","Kahapathwala","Kandaketya","Kannattota","Karagahinna","Kegalle","Kehelpannala","Ketawala Leula","Kitulgala","Kondeniya","Kotiyakumbura","Lewangama","Mahabage","Makehelwala","Malalpola","Maldeniya","Maliboda","Maliyadda","Malmaduwa","Marapana","Mawanella","Meetanwala","Migastenna Sabara","Miyanawita","Molagoda","Morontota","Narangala","Narangoda","Nattarampotha","Nelundeniya","Niyadurupola","Noori","Pannila","Pattampitiya","Pilawala","Pothukoladeniya","Puswelitenna","Rambukkana","Rilpola","Rukmale","Ruwanwella","Samanalawewa","Seaforth Colony","Spring Valley","Talgaspitiya","Teligama","Tholangamuwa","Thotawella","Udaha Hawupe","Udapotha","Uduwa","Undugoda","Ussapitiya","Wahakula","Waharaka","Wanaluwewa","Warakapola","Watura","Weeoya","Wegalla","Weligalla","Welihelatenna","Wewelwatta","Yatagama","Yatapana","Yatiyantota","Yattogoda"],Kilinochchi:["Kandavalai","Karachchi","Kilinochchi","Pachchilaipalli","Poonakary"],Kurunegala:["Akurana","Alahengama","Alahitiyawa","Ambakote","Ambanpola","Andiyagala","Anukkane","Aragoda","Ataragalla","Awulegama","Balalla","Bamunukotuwa","Bandara Koswatta","Bingiriya","Bogamulla","Boraluwewa","Boyagane","Bujjomuwa","Buluwala","Dadayamtalawa","Dambadeniya","Daraluwa","Deegalla","Demataluwa","Demuwatha","Diddeniya","Digannewa","Divullegoda","Diyasenpura","Dodangaslanda","Doluwa","Doragamuwa","Doratiyawa","Dunumadalawa","Dunuwilapitiya","Ehetuwewa","Elibichchiya","Embogama","Etungahakotuwa","Galadivulwewa","Galgamuwa","Gallellagama","Gallewa","Ganegoda","Girathalana","Gokaralla","Gonawila","Halmillawewa","Handungamuwa","Harankahawa","Helamada","Hengamuwa","Hettipola","Hewainna","Hilogama","Hindagolla","Hiriyala Lenawa","Hiruwalpola","Horambawa","Hulogedara","Hulugalla","Ihala Gomugomuwa","Ihala Kadigamuwa","Ihala Katugampala","Indulgodakanda","Ithanawatta","Kadigawa","Kalankuttiya","Kalatuwawa","Kalugamuwa","Kanadeniyawala","Kanattewewa","Kandegedara","Karagahagedara","Karambe","Katiyawa","Katupota","Kawudulla","Kawuduluwewa Stagell","Kekunagolla","Keppitiwalana","Kimbulwanaoya","Kirimetiyawa","Kirindawa","Kirindigalla","Kithalawa","Kitulwala","Kobeigane","Kohilagedara","Konwewa","Kosdeniya","Kosgolla","Kotagala","Kotawehera","Kudagalgamuwa","Kudakatnoruwa","Kuliyapitiya","Kumaragama","Kumbukgeta","Kumbukwewa","Kuratihena","Kurunegala","Lihiriyagama","Lonahettiya","Madahapola","Madakumburumulla","Madalagama","Madawala Ulpotha","Maduragoda","Maeliya","Magulagama","Maha Ambagaswewa","Mahagalkadawala","Mahagirilla","Mahamukalanyaya","Mahananneriya","Mahapallegama","Maharachchimulla","Mahatalakolawewa","Mahawewa","Maho","Makulewa","Makulpotha","Makulwewa","Malagane","Mandapola","Maspotha","Mawathagama","Medirigiriya","Medivawa","Meegalawa","Meegaswewa","Meewellawa","Melsiripura","Metikumbura","Metiyagane","Minhettiya","Minuwangete","Mirihanagama","Monnekulama","Moragane","Moragollagama","Morathiha","Munamaldeniya","Muruthenge","Mutugala","Nabadewa","Nagollagama","Nagollagoda","Nakkawatta","Narammala","Nawasenapura","Nawatalwatta","Nelliya","Nikaweratiya","Nugagolla","Nugawela","Padeniya","Padiwela","Pahalagiribawa","Pahamune","Palagala","Palapathwela","Palaviya","Pallewela","Palukadawala","Panadaragama","Panagamuwa","Panaliya","Panapitiya","Panliyadda","Pansiyagama","Parape","Pathanewatta","Pattiya Watta","Perakanatta","Periyakadneluwa","Pihimbiya Ratmale","Pihimbuwa","Pilessa","Polgahawela","Polgolla","Polpitigama","Pothuhera","Pothupitiya","Pujapitiya","Rakwana","Ranorawa","Rathukohodigala","Ridibendiella","Ridigama","Saliya Asokapura","Sandalankawa","Sevanapitiya","Sirambiadiya","Sirisetagama","Siyambalangamuwa","Siyambalawewa","Solepura","Solewewa","Sunandapura","Talawattegedara","Tambutta","Tennepanguwa","Thalahitimulla","Thalakolawewa","Thalwita","Tharana Udawela","Thimbiriyawa","Tisogama","Torayaya","Tulhiriya","Tuntota","Tuttiripitigama","Udagaldeniya","Udahingulwala","Udawatta","Udubaddawa","Udumulla","Uhumiya","Ulpotha Pallekele","Ulpothagama","Usgala Siyabmalangamuwa","Vijithapura","Wadakada","Wadumunnegedara","Walakumburumulla","Wannigama","Wannikudawewa","Wannilhalagama","Wannirasnayakapura","Warawewa","Wariyapola","Watareka","Wattegama","Watuwatta","Weerapokuna","Welawa Juncton","Welipennagahamulla","Wellagala","Wellarawa","Wellawa","Welpalla","Wennoruwa","Weuda","Wewagama","Wilgamuwa","Yakwila","Yatigaloluwa","lbbagamuwa","lllagolla","llukhena"],Mannar:["Mannar","Puthukudiyiruppu"],Matale:["Akuramboda","Alawatuwala","Alwatta","Ambana","Aralaganwila","Ataragallewa","Bambaragaswewa","Barawardhana Oya","Beligamuwa","Damana","Dambulla","Damminna","Dankanda","Delwite","Devagiriya","Dewahuwa","Divuldamana","Dullewa","Dunkolawatta","Elkaduwa","Erawula Junction","Etanawala","Galewela","Galoya Junction","Gammaduwa","Gangala Puwakpitiya","Hasalaka","Hattota Amuna","Imbulgolla","Inamaluwa","Iriyagolla","Kaikawala","Kalundawa","Kandalama","Kavudupelella","Kibissa","Kiwula","Kongahawela","Laggala Pallegama","Leliambe","Lenadora","Madipola","Maduruoya","Mahawela","Mananwatta","Maraka","Matale","Melipitiya","Metihakka","Millawana","Muwandeniya","Nalanda","Naula","Opalgala","Pallepola","Pimburattewa","Pulastigama","Ranamuregama","Rattota","Selagama","Sigiriya","Sinhagama","Sungavila","Talagoda Junction","Talakiriyagama","Tamankaduwa","Udasgiriya","Udatenna","Ukuwela","Wahacotte","Walawela","Wehigala","Welangahawatte","Wewalawewa","Yatawatta","lhala Halmillewa","lllukkumbura"],Matara:["Akuressa","Alapaladeniya","Aparekka","Athuraliya","Bengamuwa","Bopagoda","Dampahala","Deegala Lenama","Deiyandara","Denagama","Denipitiya","Deniyaya","Derangala","Devinuwara (Dondra)","Dikwella","Diyagaha","Diyalape","Gandara","Godapitiya","Gomilamawarala","Hawpe","Horapawita","Kalubowitiyana","Kamburugamuwa","Kamburupitiya","Karagoda Uyangoda","Karaputugala","Karatota","Kekanadurra","Kiriweldola","Kiriwelkele","Kolawenigama","Kotapola","Lankagama","Makandura","Maliduwa","Maramba","Matara","Mediripitiya","Miella","Mirissa","Morawaka","Mulatiyana Junction","Nadugala","Naimana","Palatuwa","Parapamulla","Pasgoda","Penetiyana","Pitabeddara","Puhulwella","Radawela","Ransegoda","Rotumba","Sultanagoda","Telijjawila","Thihagoda","Urubokka","Urugamuwa","Urumutta","Viharahena","Walakanda","Walasgala","Waralla","Weligama","Wilpita","Yatiyana"],Monaragala:["Ayiwela","Badalkumbura","Baduluwela","Bakinigahawela","Balaharuwa","Bibile","Buddama","Buttala","Dambagalla","Diyakobala","Dombagahawela","Ethimalewewa","Ettiliwewa","Galabedda","Gamewela","Hambegamuwa","Hingurukaduwa","Hulandawa","Inginiyagala","Kandaudapanguwa","Kandawinna","Kataragama","Kotagama","Kotamuduna","Kotawehera Mankada","Kudawewa","Kumbukkana","Marawa","Mariarawa","Medagana","Medawelagama","Miyanakandura","Monaragala","Moretuwegama","Nakkala","Namunukula","Nannapurawa","Nelliyadda","Nilgala","Obbegoda","Okkampitiya","Pangura","Pitakumbura","Randeniya","Ruwalwela","Sella Kataragama","Siyambalagune","Siyambalanduwa","Suriara","Tanamalwila","Uva Gangodagama","Uva Kudaoya","Uva Pelwatta","Warunagama","Wedikumbura","Weherayaya Handapanagala","Wellawaya","Wilaoya","Yudaganawa"],Mullaitivu:["Mullativu"],"Nuwara Eliya":["Agarapathana","Ambatalawa","Ambewela","Bogawantalawa","Bopattalawa","Dagampitiya","Dayagama Bazaar","Dikoya","Doragala","Dunukedeniya","Egodawela","Ekiriya","Elamulla","Ginigathena","Gonakele","Haggala","Halgranoya","Hangarapitiya","Hapugastalawa","Harasbedda","Hatton","Hewaheta","Hitigegama","Jangulla","Kalaganwatta","Kandapola","Karandagolla","Keerthi Bandarapura","Kiribathkumbura","Kotiyagala","Kotmale","Kottellena","Kumbalgamuwa","Kumbukwela","Kurupanawela","Labukele","Laxapana","Lindula","Madulla","Mandaram Nuwara","Maskeliya","Maswela","Maturata","Mipanawa","Mipilimana","Morahenagama","Munwatta","Nayapana Janapadaya","Nildandahinna","Nissanka Uyana","Norwood","Nuwara Eliya","Padiyapelella","Pallebowala","Panvila","Pitawala","Pundaluoya","Ramboda","Rikillagaskada","Rozella","Rupaha","Ruwaneliya","Santhipura","Talawakele","Tawalantenna","Teripeha","Udamadura","Udapussallawa","Uva Deegalla","Uva Uduwara","Uvaparanagama","Walapane","Watawala","Widulipura","Wijebahukanda"],Polonnaruwa:["Attanakadawala","Bakamuna","Diyabeduma","Elahera","Giritale","Hingurakdamana","Hingurakgoda","Jayanthipura","Kalingaela","Lakshauyana","Mankemi","Minneriya","Onegama","Orubendi Siyambalawa","Palugasdamana","Panichankemi","Polonnaruwa","Talpotha","Tambala","Unagalavehera","Wijayabapura"],Puttalam:["Adippala","Alutgama","Alutwewa","Ambakandawila","Anamaduwa","Andigama","Angunawila","Attawilluwa","Bangadeniya","Baranankattuwa","Battuluoya","Bujjampola","Chilaw","Dalukana","Dankotuwa","Dewagala","Dummalasuriya","Dunkannawa","Eluwankulama","Ettale","Galamuna","Galmuruwa","Hansayapalama","Ihala Kottaramulla","Ilippadeniya","Inginimitiya","Ismailpuram","Jayasiripura","Kakkapalliya","Kalkudah","Kalladiya","Kandakuliya","Karathivu","Karawitagara","Karuwalagaswewa","Katuneriya","Koswatta","Kottantivu","Kottapitiya","Kottukachchiya","Kumarakattuwa","Kurinjanpitiya","Kuruketiyawa","Lunuwila","Madampe","Madurankuliya","Mahakumbukkadawala","Mahauswewa","Mampitiya","Mampuri","Mangalaeliya","Marawila","Mudalakkuliya","Mugunuwatawana","Mukkutoduwawa","Mundel","Muttibendiwila","Nainamadama","Nalladarankattuwa","Nattandiya","Nawagattegama","Nelumwewa","Norachcholai","Pallama","Palliwasalturai","Panirendawa","Parakramasamudraya","Pothuwatawana","Puttalam","Puttalam Cement Factory","Rajakadaluwa","Saliyawewa Junction","Serukele","Siyambalagashene","Tabbowa","Talawila Church","Toduwawa","Udappuwa","Uridyawa","Vanathawilluwa","Waikkal","Watugahamulla","Wennappuwa","Wijeyakatupotha","Wilpotha","Yodaela","Yogiyana"],Ratnapura:["Akarella","Amunumulla","Atakalanpanna","Ayagama","Balangoda","Batatota","Beralapanathara","Bogahakumbura","Bolthumbe","Bomluwageaina","Bowalagama","Bulutota","Dambuluwana","Daugala","Dela","Delwala","Dodampe","Doloswalakanda","Dumbara Manana","Eheliyagoda","Ekamutugama","Elapatha","Ellagawa","Ellaulla","Ellawala","Embilipitiya","Eratna","Erepola","Gabbela","Gangeyaya","Gawaragiriya","Gillimale","Godakawela","Gurubewilagama","Halwinna","Handagiriya","Hatangala","Hatarabage","Hewanakumbura","Hidellana","Hiramadagama","Horewelagoda","Ittakanda","Kahangama","Kahawatta","Kalawana","Kaltota","Kalubululanda","Kananke Bazaar","Kandepuhulpola","Karandana","Karangoda","Kella Junction","Keppetipola","Kiriella","Kiriibbanwewa","Kolambageara","Kolombugama","Kolonna","Kudawa","Kuruwita","Lellopitiya","Mahagama Colony","Mahawalatenna","Makandura Sabara","Malwala Junction","Malwatta","Matuwagalagama","Medagalatur","Meddekanda","Minipura Dumbara","Mitipola","Moragala Kirillapone","Morahela","Mulendiyawala","Mulgama","Nawalakanda","NawinnaPinnakanda","Niralagama","Nivitigala","Omalpe","Opanayaka","Padalangala","Pallebedda","Pallekanda","Pambagolla","Panamura","Panapola","Paragala","Parakaduwa","Pebotuwa","Pelmadulla","Pinnawala","Pothdeniya","Rajawaka","Ranwala","Rassagala","Ratgama","Ratna Hangamuwa","Ratnapura","Sewanagala","Sri Palabaddala","Sudagala","Talakolahinna","Tanjantenna","Teppanawa","Tunkama","Udakarawita","Udaniriella","Udawalawe","Ullinduwawa","Veddagala","Vijeriya","Waleboda","Watapotha","Waturawa","Weligepola","Welipathayaya","Wikiliya","lmaduwa","lmbulpe"],Trincomalee:["Agbopura","Buckmigama","China Bay","Dehiwatte","Echchilampattai","Galmetiyawa","Gomarankadawala","Kaddaiparichchan","Kallar","Kanniya","Kantalai","Kantalai Sugar Factory","Kiliveddy","Kinniya","Kuchchaveli","Kumburupiddy","Kurinchakemy","Lankapatuna","Mahadivulwewa","Maharugiramam","Mallikativu","Mawadichenai","Mullipothana","Mutur","Neelapola","Nilaveli","Pankulam","Pulmoddai","Rottawewa","Sampaltivu","Sampoor","Serunuwara","Seruwila","Sirajnagar","Somapura","Tampalakamam","Thuraineelavanai","Tiriyayi","Toppur","Trincomalee","Wanela"],Vavuniya:["Vavuniya"]},eo=[{value:"Preschool children (Early learners)",label:"Preschool children (Early learners)"},{value:"Primary school students (Grade 15)",label:"Primary school students (Grade 15)"},{value:"Secondary school students (Grade 611 / O/L candidates)",label:"Secondary school students (O/L)"},{value:"Advanced Level students (A/L candidates  Arts, Commerce, Science, Technology)",label:"Advanced Level students (A/L)"},{value:"University students (State and private universities)",label:"University students"},{value:"Vocational training students (Technical, NVQ, and skill-based learners)",label:"Vocational training students"},{value:"Professional qualification candidates (CIMA, ACCA, CA, CMA, Banking, ICT, etc.)",label:"Professional qualification candidates"},{value:"Postgraduate students (Masters, PhD)",label:"Postgraduate students (Masters, PhD)"},{value:"Lifelong learners (Adults pursuing personal or professional development)",label:"Lifelong learners (Adults)"},{value:"Other",label:"Other (Please specify)"}],oA=["School","Tuition Institute","University","Vocational Training","Technical College","Teacher Training","Other"],z5=["Sinhala Language & Literature","Tamil Language & Literature","English Language","Second Language (Sinhala / Tamil)","Appreciation of English / Sinhala / Tamil / Arabic Literary Texts","Buddhism","Saivanery (Hinduism)","Catholicism","Christianity","Islam","Mathematics","Science","History","Business & Accounting Studies","Geography","Civic Education","Entrepreneurship Studies","Art","Music (Oriental / Western / Carnatic)","Dancing (Indigenous / Bharatha)","Drama & Theatre (Sinhala / Tamil / English)","Arts & Crafts","Information & Communication Technology","Agriculture & Food Technology","Aquatic Bioresources Technology","Health & Physical Education","Home Economics","Design & Construction Technology","Design & Mechanical Technology","Design, Electrical & Electronic Technology","Communication & Media Studies","Electronic Writing & Shorthand (Sinhala / Tamil / English)","Pali","Sanskrit","French","German","Hindi","Japanese","Arabic","Korean","Chinese","Russian"].map(e=>({value:e,label:e})),U5=["Combined Mathematics","Physics","Chemistry","Biology","Information & Communication Technology","Agriculture Science","Bio Systems Technology","Science for Technology","Business Studies","Accounting","Economics","Business Statistics","Political Science","Sinhala","Tamil","English","French","German","Japanese","Russian","Chinese","Arabic","Hindi","Pali","Sanskrit","Greek & Roman Civilization","History of Sri Lanka","History of India","History of Europe","History of the Modern World","Logic & Scientific Method","Geography","Art","Drama & Theatre (Sinhala / Tamil / English)","Communication & Media Studies","Buddhist Civilization","Hindu Civilization","Islamic Civilization","Christian Civilization","Buddhism","Hinduism","Christianity","Islam","Engineering Technology","Mechanical Technology","Civil Technology","Electrical, Electronic & Information Technology","Food Technology","Agro Technology","Bio Resource Technology","Dancing (Indigenous / Bharatha)","Oriental Music","Carnatic Music","Western Music","General English","Common General Test"].map(e=>({value:e,label:e})),tg={"Secondary school students (Grade 611 / O/L candidates)":z5,"Advanced Level students (A/L candidates  Arts, Commerce, Science, Technology)":U5},rg=[{image:"https://images.unsplash.com/photo-1588075592446-265fd1e6e76f?q=80&w=1472&auto=format&fit=crop",title:"Unlock Your Potential",subtitle:"Find expert tutors in any subject, right here in Sri Lanka. Your path to success starts now.",ctaText:"Find a Teacher"},{image:"https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=1470&auto=format&fit=crop",title:"Flexible Learning, Your Way",subtitle:"Join live online classes, enroll in comprehensive courses, and test your knowledge with quizzes.",ctaText:"Explore Classes"},{image:"https://images.unsplash.com/photo-1517048676732-d65bc937f952?q=80&w=1470&auto=format&fit=crop",title:"Share Your Expertise",subtitle:"Are you a passionate educator? Join our platform and connect with thousands of students across the island.",ctaText:"Start Teaching"}],ng=[{id:"facebook",name:"Facebook",url:"https://facebook.com",icon:"FacebookIcon"},{id:"twitter",name:"Twitter",url:"https://twitter.com",icon:"TwitterIcon"},{id:"linkedin",name:"LinkedIn",url:"https://linkedin.com",icon:"LinkedInIcon"}],H5=[{id:"l_1_1",title:"Introduction to Mechanics",description:"Understanding the basics of Newtonian mechanics.",videoUrl:"https://vimeo.com/901037626",durationMinutes:25,isFreePreview:!0},{id:"l_1_2",title:"Kinematics",description:"Exploring motion in one and two dimensions.",videoUrl:"https://vimeo.com/901037626",durationMinutes:45,isFreePreview:!1},{id:"l_1_3",title:"Dynamics and Newton's Laws",description:"A deep dive into the laws of motion.",videoUrl:"https://vimeo.com/901037626",durationMinutes:60,isFreePreview:!1}],W5={id:"c_teacher1_1",teacherId:"tchr_user_1",title:"A/L Physics - Full Mechanics Course",description:"A comprehensive course covering the entire mechanics syllabus for the Advanced Level examination.",subject:"Physics",coverImage:"https://picsum.photos/seed/course_physics/800/450",fee:1e4,currency:"LKR",type:"recorded",lectures:H5,isPublished:!0,ratings:[{studentId:"std_user_1",rating:4,ratedAt:new Date().toISOString()}],adminApproval:"approved"},q5=[{id:1,teacherId:"tchr_user_1",title:"Weekly A/L Physics Theory",subject:"Physics",description:"Covering the full A/L syllabus chapter by chapter.",date:"2024-05-20",startTime:"16:00",endTime:"18:00",fee:2e3,currency:"LKR",targetAudience:"Advanced Level students (A/L)",mode:"Both",joiningLink:"https://zoom.us/j/1234567890",recurrence:"weekly",institute:"Apex Education Center",district:"Colombo",town:"Nugegoda",status:"scheduled",isPublished:!0,instituteId:"ti_user_1"},{id:2,teacherId:"tchr_user_1",title:"Past Paper Discussion - 2022",subject:"Physics",description:"In-depth discussion of the 2022 A/L Physics past paper.",date:new Date(Date.now()+3*24*60*60*1e3).toISOString().split("T")[0],startTime:"10:00",endTime:"13:00",fee:1500,currency:"LKR",targetAudience:"Advanced Level students (A/L)",mode:"Online",joiningLink:"https://zoom.us/j/1234567890",recurrence:"none",status:"scheduled",isPublished:!0},{id:3,teacherId:"tchr_user_1",title:"Finished Class Example",subject:"Physics",description:"This class was held in the past.",date:"2024-05-01",startTime:"10:00",endTime:"12:00",fee:1e3,currency:"LKR",targetAudience:"Advanced Level students (A/L)",mode:"Online",recurrence:"none",status:"finished",isPublished:!0}],V5=[{id:"q_teacher1_1",teacherId:"tchr_user_1",title:"Mechanics Unit Test 1",subject:"Physics",description:"A short quiz to test your knowledge on the first unit of mechanics.",date:new Date(Date.now()+5*24*60*60*1e3).toISOString().split("T")[0],startTime:"19:00",durationMinutes:30,fee:500,currency:"LKR",questions:[{id:"q1_1",text:"What is the SI unit of force?",answers:[{id:"a1",text:"Joule",isCorrect:!1},{id:"a2",text:"Watt",isCorrect:!1},{id:"a3",text:"Newton",isCorrect:!0},{id:"a4",text:"Pascal",isCorrect:!1}]},{id:"q1_2",text:"Which of Newton's laws is also known as the law of inertia?",answers:[{id:"a5",text:"First Law",isCorrect:!0},{id:"a6",text:"Second Law",isCorrect:!1},{id:"a7",text:"Third Law",isCorrect:!1}]}],status:"scheduled",isPublished:!0}];new Date().toISOString();new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0],new Date().toISOString().split("T")[0],Array.from({length:20},(e,t)=>({id:`photo_${t+1}`,url_thumb:`https://picsum.photos/seed/event_photo_${t+1}/400/400`,url_highres:`https://picsum.photos/seed/event_photo_${t+1}/1920/1080`}));const ag=[{id:"print_4x6",size:"4x6",price:50},{id:"print_5x7",size:"5x7",price:80},{id:"print_a4",size:"A4",price:150}],G5=`
    <style>
        details {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            margin-bottom: 1rem;
            transition: background-color 0.2s ease;
        }
        .dark details {
            border-color: #334155;
        }
        summary {
            font-weight: 600;
            padding: 1rem;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        details[open] {
            background-color: #f8fafc;
        }
        .dark details[open] {
            background-color: #1e293b;
        }
        details[open] summary {
            border-bottom: 1px solid #e2e8f0;
        }
        .dark details[open] summary {
            border-bottom-color: #334155;
        }
        .faq-content {
            padding: 1rem;
            line-height: 1.6;
        }
        summary::after {
            content: '+';
            font-size: 1.5rem;
            transition: transform 0.2s ease;
        }
        details[open] summary::after {
            transform: rotate(45deg);
        }
    </style>
    
    <h2 class="text-2xl font-bold mb-6">For Students</h2>
    <details>
        <summary>How do I create an account?</summary>
        <div class="faq-content">You can sign up using your email and a password, your Google account, or your mobile number via OTP verification. Make sure to select the 'Student' role during registration.</div>
    </details>
    <details>
        <summary>How do I find a class, course, or teacher?</summary>
        <div class="faq-content">Use the main search bar on the home page to search by name, subject, or keywords. You can also browse all available content by clicking on "Teachers," "Courses," "Classes," or "Quizzes" in the main navigation.</div>
    </details>
    <details>
        <summary>How do I enroll in a paid item?</summary>
        <div class="faq-content">Click the "Enroll Now" button on the item's detail page. The system will first use any available funds in your Account Balance. If there's a remaining amount, you will be securely redirected to our payment gateway to complete the purchase.</div>
    </details>
    <details>
        <summary>Where can I find my purchased courses and classes?</summary>
        <div class="faq-content">After logging in, click on your name in the header to go to your <strong>Student Dashboard</strong>. All your enrolled content is organized under the "My Courses," "My Classes," and "My Quizzes" tabs.</div>
    </details>
    <details>
        <summary>How do I add money to my Account Balance?</summary>
        <div class="faq-content">In your Student Dashboard, you can find a "Top Up" button. You can add funds instantly via the online payment gateway, by redeeming a gift voucher, or by submitting a bank deposit slip for admin verification.</div>
    </details>
    <details>
        <summary>How does the Bank Slip top-up work?</summary>
        <div class="faq-content">You need to deposit cash into the provided bank account, then upload a clear photo of the deposit slip through the Top Up modal in your dashboard. An administrator will review your submission and credit your account, usually within 24 hours.</div>
    </details>

    <h2 class="text-2xl font-bold mt-12 mb-6">For Teachers</h2>
    <details>
        <summary>How do I register as a teacher?</summary>
        <div class="faq-content">During the standard signup process, make sure to select the 'Teacher' role. After completing the initial registration, your account will be in a 'Pending' state until an administrator reviews and approves your profile.</div>
    </details>
    <details>
        <summary>How do I create a new class, course, or quiz?</summary>
        <div class="faq-content">Once your teacher profile is approved, navigate to your Teacher Profile page. This is your main dashboard. You will find tabs for "Classes," "Courses," and "Quizzes," each with a button to add new content.</div>
    </details>
    <details>
        <summary>Why can't I publish my new course?</summary>
        <div class="faq-content">All new courses must first be submitted for admin review to ensure quality and completeness. In the course editor, save your course, then on your dashboard, use the "Request Publish" button on the course card. Once approved, you can publish and unpublish it freely.</div>
    </details>
    <details>
        <summary>How do I get paid and withdraw my earnings?</summary>
        <div class="faq-content">Your earnings from sales accumulate throughout the month. On the 15th of the following month, these earnings are processed and moved to your "Available for Withdrawal" balance. You can then request a withdrawal from your <strong>Earnings Dashboard</strong>.</div>
    </details>
    <details>
        <summary>Why is the "Request Withdrawal" button disabled?</summary>
        <div class="faq-content">To enable withdrawals, you must complete two steps in your Earnings Dashboard: 1) Upload and get your ID and Bank documents verified. 2) Have a minimum available balance (e.g., LKR 10,000) in your account.</div>
    </details>
    <details>
        <summary>How do I send a notification to my students?</summary>
        <div class="faq-content">Go to your Teacher Profile page and click on the "Notifications" tab. From there, you can compose a message and send it to all your followers or to students enrolled in a specific class.</div>
    </details>
`,ig={about_us:{title:"About Us",content:"<p>Welcome to clazz.lk, Sri Lanka's premier online learning platform. Our mission is to connect passionate educators with eager students across the island, making quality education accessible to everyone, everywhere.</p><p>We believe in the power of technology to transform learning. Our platform provides the tools for teachers to create engaging courses, conduct live classes, and assess student progress, while students get a flexible and interactive learning experience.</p>"},contact_support:{title:"Contact Support",content:"<h2>Get in Touch</h2><p>Have questions or need assistance? We're here to help!</p><ul><li><strong>Email:</strong> support@clazz.lk</li><li><strong>Phone:</strong> +94 11 234 5678</li><li><strong>Address:</strong> 123 Galle Road, Colombo 03, Sri Lanka</li></ul>"},faq:{title:"Frequently Asked Questions",content:G5},teacher_terms:{title:"Teacher Terms & Conditions",content:"<p>By registering as a teacher on clazz.lk, you agree to provide accurate information, create high-quality educational content, and adhere to our community guidelines. You are responsible for the content you publish. Payouts are processed monthly based on your commission rate. Please refer to the full terms for details on content ownership, payment schedules, and conduct.</p>"},student_terms:{title:"Student Terms & Conditions",content:"<p>As a student on clazz.lk, you agree to use the platform for personal, non-commercial educational purposes. You will not share your account or distribute course materials. Payments for courses and classes are processed securely through our gateway. Please review our refund policy for information on cancellations and refunds.</p>"},privacy_policy:{title:"Privacy Policy",content:"<p>Your privacy is important to us. This policy explains what personal data we collect from you, how we use it, and your choices regarding your data. We collect information to provide and improve our services, for security, and for communication. We do not sell your personal data to third parties.</p>"},refund_policy:{title:"Refund & Cancellation Policy",content:"<h2>Class Cancellations</h2><p>If a teacher cancels a class, enrolled students will receive a full refund to their clazz.lk account balance.</p><h2>Course Refunds</h2><p>We do not offer refunds for change-of-mind on course purchases. Refunds may be considered in cases of technical issues or if the course content is significantly different from what was advertised, at the discretion of clazz.lk support.</p>"},disclaimer:{title:"Disclaimer",content:"<p>clazz.lk is a platform that connects teachers and students. We do not employ the teachers and are not responsible for the content of their courses or classes. The views and opinions expressed by educators on this platform are their own and do not necessarily reflect the views of clazz.lk.</p>"},cookie_policy:{title:"Cookie Policy",content:"<p>We use cookies and similar technologies to help provide, protect, and improve the clazz.lk platform. This policy explains how and why we use these technologies and the choices you have. Cookies help us personalize content, tailor and measure ads, and provide a safer experience.</p>"},community_guidelines:{title:"Community Guidelines",content:"<p>Our community is built on respect, professionalism, and a shared passion for learning. We expect all usersstudents and teachersto interact in a courteous and respectful manner. Harassment, hate speech, and any form of abuse will not be tolerated and may result in account suspension.</p>"},code_of_conduct:{title:"Code of Conduct",content:"<p>All members of the clazz.lk community are expected to maintain academic integrity, respect intellectual property rights, and foster a positive and inclusive learning environment. Do not engage in cheating, plagiarism, or any activity that disrupts the educational experience for others.</p>"},copyright_policy:{title:"Copyright & IP Policy",content:"<p>Teachers must ensure they have the rights to all content they upload to the platform. Unauthorized use of copyrighted material is strictly prohibited. If you believe your copyright has been infringed upon, please contact our support team with the necessary details to file a report.</p>"}},Y5={apiKey:"AIzaSyDu1E1bp_xNe9mjCa1UH568yQuh8zBDYM4",authDomain:"clazz2-new.firebaseapp.com",projectId:"clazz2-new",storageBucket:"clazz2-new.firebasestorage.app",messagingSenderId:"487626975727",appId:"1:487626975727:web:2cfcb0cac5ddcf50ddae1a"},hu=K2(Y5),Q=F2(hu,{localCache:z2({tabManager:V2()})},"clazzdb2"),bt=U2(hu),Q5=H2(hu),og=W2().then(e=>e?(console.log("Firebase Messaging is supported."),q2(hu)):(console.warn("Firebase Messaging is not supported in this browser."),null)).catch(e=>(console.warn("Error initializing Firebase Messaging:",e),null)),Pn=(e,t)=>{const r=e.split("/").filter(Boolean),n=t.split("/").filter(Boolean);if(r.length!==n.length)return null;const a={};for(let i=0;i<n.length;i++){const s=n[i],u=r[i];if(s.startsWith(":")){const c=s.slice(1);a[c]=decodeURIComponent(u)}else if(s!==u)return null}return a},Va={genAiKey:"AIzaSyB7BZfezyOj30ga7-dqKPQSVW6EbTMZiiQ",gDriveFetcherApiKey:"AIzaSyAOXMXnOsBKgj2c0HmA3mIZndz9eXXOkL0",functionUrls:{notification:"https://asia-south1-clazz2-new.cloudfunctions.net/sendNotification",payment:"https://asia-south1-clazz2-new.cloudfunctions.net/paymentHandler",marxPayment:"https://asia-south1-clazz2-new.cloudfunctions.net/marxPaymentHandler",gDriveFetcher:"https://asia-south1-clazz2-new.cloudfunctions.net/gdriveImageFetcher",fcmNotification:"https://asia-south1-clazz2-new.cloudfunctions.net/fcmNotifications/send-fcm-push",storageCleanup:"",googleMeetHandler:"https://asia-south1-clazz2-new.cloudfunctions.net/googleMeetHandler",ogImageHandler:"https://asia-south1-clazz2-new.cloudfunctions.net/ogImageHandler",telegramBot:"https://asia-south1-clazz2-new.cloudfunctions.net/telegramBot",chatNotifications:"https://asia-south1-clazz2-new.cloudfunctions.net/sendChatNotification"}},sg={referralGatewayFeeRate:.04,referralPlatformCostRate:.04,referralMaxEarning:1e5,referralBaseRate:.04,referralTier1Threshold:1e5,referralTier1Rate:.05,referralTier2Threshold:3e5,referralTier2Rate:.06,referralTier3Threshold:1e6,referralTier3Rate:.07,manualPaymentPlatformFee:50},Ga={activePaymentGateway:"webxpay",methodMapping:{card:"marxipg",ezcash:"webxpay",mcash:"webxpay",frimi:"webxpay",qr:"webxpay",direct_bank:"webxpay"},gateways:{webxpay:{secretKey:"",publicKey:""},marxipg:{apiKey:""}}},lg={telegramBotToken:"",telegramChatId:"",isEnabled:!0},B1=T.createContext(void 0),Tc=()=>{window.location.hash.length>2;const{pathname:e,search:t}=window.location,r=new URLSearchParams(t);if(r.has("teacherId"))return{name:"teacher_profile",teacherId:r.get("teacherId")};if(r.has("courseId"))return{name:"course_detail",courseId:r.get("courseId")};if(r.has("classId"))return{name:"class_detail",classId:Number(r.get("classId"))};if(r.has("quizId"))return{name:"quiz_detail",quizId:r.get("quizId"),instanceId:r.get("instanceId")||void 0};if(r.has("eventId"))return{name:"event_detail",eventId:r.get("eventId")};if(r.has("productId"))return{name:"product_detail",productId:r.get("productId")};if(r.has("takeQuiz"))return{name:"quiz_taking",quizId:r.get("takeQuiz")};if(r.has("scanAttendance"))return{name:"attendance_scanner",classId:Number(r.get("scanAttendance"))};if(r.has("page"))return{name:"static",pageKey:r.get("page")};if(r.has("teacherRef"))return{name:"teacher_referral_landing",refCode:r.get("teacherRef"),level:r.get("level")||void 0};if(e==="/"||e==="")return{name:"home"};if(e==="/teachers")return{name:"all_teachers"};if(e==="/courses")return{name:"all_courses"};if(e==="/classes")return{name:"all_classes"};if(e==="/quizzes")return{name:"all_quizzes"};if(e==="/exams")return{name:"all_exams"};if(e==="/events")return{name:"all_events"};if(e==="/store")return{name:"all_products"};if(e==="/gift-voucher")return{name:"gift_voucher"};if(e==="/referrals")return{name:"referral_dashboard"};if(e==="/dashboard")return{name:"student_dashboard"};if(e==="/admin")return{name:"admin_dashboard"};if(e==="/institute/dashboard")return{name:"ti_dashboard"};let n;if(n=Pn(e,"/teacher/:slug"),n)return{name:"teacher_profile_slug",slug:n.slug};if(n=Pn(e,"/courses/:slug"),n)return{name:"course_detail_slug",slug:n.slug};if(n=Pn(e,"/classes/:slug"),n)return{name:"class_detail_slug",slug:n.slug};if(n=Pn(e,"/quizzes/:slug"),n)return{name:"quiz_detail_slug",slug:n.slug,instanceId:r.get("instanceId")||void 0};if(n=Pn(e,"/events/:slug"),n)return{name:"event_detail_slug",slug:n.slug};if(n=Pn(e,"/store/:slug"),n)return{name:"product_detail_slug",slug:n.slug};const a=e.split("/").filter(Boolean),i=["admin","teachers","courses","classes","quizzes","exams","events","store","gift-voucher","referrals","dashboard","institute","home"];return a.length===1&&!i.includes(a[0])?{name:"teacher_profile_slug",slug:a[0]}:(n=Pn(e,"/admin/institute/:instituteId"),n?{name:"admin_ti_dashboard",instituteId:n.instituteId}:(n=Pn(e,"/admin/student/:userId"),n?{name:"admin_view_student_dashboard",userId:n.userId}:{name:"home"}))},J5=e=>{let t;switch(e.name){case"home":t="/";break;case"teacher_profile_slug":t=`/${e.slug}`;break;case"teacher_profile":t=`/?teacherId=${e.teacherId}`;break;case"course_detail":t=`/?courseId=${e.courseId}`;break;case"course_detail_slug":t=`/courses/${e.slug}`;break;case"class_detail":t=`/?classId=${e.classId}`;break;case"class_detail_slug":t=`/classes/${e.slug}`;break;case"product_detail":t=`/?productId=${e.productId}`;break;case"product_detail_slug":t=`/store/${e.slug}`;break;case"quiz_detail":let r=`/?quizId=${e.quizId}`;e.instanceId&&(r+=`&instanceId=${e.instanceId}`),t=r;break;case"quiz_detail_slug":let n=`/quizzes/${e.slug}`;e.instanceId&&(n+=`?instanceId=${e.instanceId}`),t=n;break;case"event_detail":t=`/?eventId=${e.eventId}`;break;case"event_detail_slug":t=`/events/${e.slug}`;break;case"quiz_taking":t=`/?takeQuiz=${e.quizId}`;break;case"attendance_scanner":t=`/?scanAttendance=${e.classId}`;break;case"static":t=`/?page=${e.pageKey}`;break;case"teacher_referral_landing":t=`/?teacherRef=${e.refCode}`,e.level&&(t+=`&level=${e.level}`);break;case"all_teachers":t="/teachers";break;case"all_courses":t="/courses";break;case"all_classes":t="/classes";break;case"all_quizzes":t="/quizzes";break;case"all_exams":t="/exams";break;case"all_events":t="/events";break;case"all_products":t="/store";break;case"student_dashboard":t="/dashboard";break;case"admin_dashboard":t="/admin";break;case"admin_view_student_dashboard":t=`/admin/student/${e.userId}`;break;case"ti_dashboard":t="/institute/dashboard";break;case"admin_ti_dashboard":t=`/admin/institute/${e.instituteId}`;break;case"referral_dashboard":t="/referrals";break;case"gift_voucher":t="/gift-voucher";break;case"edit_teacher_profile":case"course_editor":case"quiz_editor":case"payment_redirect":case"voucher_success":case"topup_success":case"subscription_success":return window.location.pathname+window.location.search;default:t="/";break}return t},X5=({children:e})=>{const[t,r]=T.useState(Tc()),[n,a]=T.useState(""),[i,s]=T.useState(rg),[u,c]=T.useState(ig),[f,h]=T.useState(ng),[m,p]=T.useState(tg),[b,S]=T.useState([]),[x,E]=T.useState([]),[w,v]=T.useState(sg),[y,C]=T.useState({teachers:3,courses:3,classes:3,quizzes:3,events:3}),[O,P]=T.useState([]),[D,R]=T.useState(ag),[N,z]=T.useState(Ga),[G,K]=T.useState(lg),[U,H]=T.useState(""),[B,A]=T.useState(""),[j,I]=T.useState(Va.genAiKey),[L,F]=T.useState(Va.gDriveFetcherApiKey),[W,pe]=T.useState(Va.functionUrls);T.useEffect(()=>{const fe=()=>{r(Tc())};if(window.addEventListener("popstate",fe),window.location.hash){const re=window.location.hash.substring(1);if(re&&re!=="/"){const me=re.startsWith("/")?re:"/"+re;window.history.replaceState(null,"",me),r(Tc())}}window.location.pathname==="/home"&&(window.history.replaceState(null,"","/"),r({name:"home"}));const be=xr(he(Q,"settings","appConfig"),re=>{if(re.exists()){const me=re.data();s(me.homeSlides||rg),c(xe=>q(q({},ig),me.staticContent)),h(me.socialMediaLinks||ng),p(me.subjects||tg),S(me.studentCardTaglines||[]),E(me.teacherCardTaglines||[]),C(me.homePageCardCounts||{teachers:3,courses:3,classes:3,quizzes:3,events:3}),P(me.upcomingExams||[]),R(me.photoPrintOptions||ag),v(q(q({},sg),me.financialSettings||{})),K(me.supportSettings||lg),H(me.ogImageUrl||""),A(me.teacherDashboardMessage||"")}}),Y=xr(he(Q,"settings","clientAppConfig"),re=>{var me,xe,se,ee,ae;if(re.exists()){const le=re.data(),Be=X(q(q({},Ga),le.paymentGatewaySettings||{}),{methodMapping:q(q({},Ga.methodMapping),((me=le.paymentGatewaySettings)==null?void 0:me.methodMapping)||{}),methodLogos:q(q({},Ga.methodLogos),((xe=le.paymentGatewaySettings)==null?void 0:xe.methodLogos)||{}),gateways:X(q(q({},Ga.gateways),((se=le.paymentGatewaySettings)==null?void 0:se.gateways)||{}),{webxpay:q(q({},Ga.gateways.webxpay),((ae=(ee=le.paymentGatewaySettings)==null?void 0:ee.gateways)==null?void 0:ae.webxpay)||{})})});z(Be),I(le.genAiKey||Va.genAiKey),F(le.gDriveFetcherApiKey||Va.gDriveFetcherApiKey),pe(q(q({},Va.functionUrls),le.functionUrls||{}))}else console.warn("Client config document not found in Firestore. Using default values.")});return()=>{window.removeEventListener("popstate",fe),be(),Y()}},[]);const ye=T.useMemo(()=>{const fe=new Set;return Object.values(m).forEach(be=>{Array.isArray(be)&&be.forEach(Y=>fe.add(Y.value))}),Array.from(fe).sort().map(be=>({value:be,label:be}))},[m]),ce=T.useCallback((fe,be)=>{window.scrollTo(0,0);const Y=J5(fe);if(be!=null&&be.quizFinish)window.history.replaceState(null,"",Y),r(fe);else{const re=window.location.pathname+window.location.search;Y!==re&&window.history.pushState(null,"",Y),r(fe)}fe.name!=="home"&&a("")},[a]),oe=()=>{window.history.back()},ge=T.useMemo(()=>({pageState:t,searchQuery:n,homeSlides:i,staticPageContent:u,socialMediaLinks:f,subjects:m,allSubjects:ye,studentCardTaglines:b,teacherCardTaglines:x,financialSettings:w,homePageCardCounts:y,upcomingExams:O,photoPrintOptions:D,paymentGatewaySettings:N,supportSettings:G,ogImageUrl:U,teacherDashboardMessage:B,genAiKey:j,gDriveFetcherApiKey:L,functionUrls:W,handleNavigate:ce,handleBack:oe,setSearchQuery:a}),[t,n,i,u,f,m,ye,b,x,w,y,O,D,N,G,U,B,j,L,W,ce]);return l.jsx(B1.Provider,{value:ge,children:e})},Ir=()=>{const e=T.useContext(B1);if(e===void 0)throw new Error("useNavigation must be used within a NavigationProvider");return e},$1=T.createContext(void 0),Z5=({children:e})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),{addToast:i,setModalState:s}=At(),{handleNavigate:u,functionUrls:c}=Ir(),f=c.notification;T.useEffect(()=>{let D;const R=G2(bt,N=>ne(void 0,null,function*(){if(D&&(D(),D=void 0),N)try{const z=Et(Q,"users"),G=Zr(z,en("uid","==",N.uid)),K=yield tn(G);if(K.empty){const U=Zr(z,en("email","==",N.email)),H=yield tn(U);if(!H.empty){console.log("AuthContext: Found profile by Email (UID mismatch). Relinking...");const B=H.docs[0];yield ct(B.ref,{uid:N.uid}),window.location.reload();return}r(null),a(!1)}else{const U=K.docs[0].ref,H=K.docs[0].data();let B;if(N.email){const A=Zr(z,en("email","==",N.email)),j=yield tn(A);j.size>0&&(B=j.docs.find(I=>I.data().uid!==N.uid))}if(!B&&N.phoneNumber){const A=Zr(z,en("contactNumber","==",N.phoneNumber)),j=yield tn(A);j.size>0&&(B=j.docs.find(I=>I.data().uid!==N.uid))}if(B){console.log("AuthContext: Found orphaned profile. Merging...",B.id),yield ct(B.ref,{uid:N.uid}),yield kl(U),window.location.reload();return}D=xr(U,A=>{if(A.exists()){const j=A.data();N.emailVerified||N.phoneNumber?r(X(q({},j),{isEmailVerified:N.emailVerified,isMobileVerified:!!N.phoneNumber})):r(null)}else r(null);a(!1)},A=>{console.error("Auth context onSnapshot error: ",A),r(null),a(!1)})}}catch(z){console.error("Error fetching user document for auth state change:",z),r(null),a(!1)}else r(null),a(!1)}));return()=>{R(),D&&D()}},[]);const h=T.useCallback((D,R)=>{r(D),s({name:"none"}),R?i(R,"success"):R===void 0&&i(`Welcome back, ${D.firstName}!`,"success")},[i,s]),m=T.useCallback((D,R)=>ne(void 0,null,function*(){var B;const N=yield Y2(bt,D,R);if(console.log("[AuthContext] Auth Login Success. UID:",(B=N.user)==null?void 0:B.uid),!N.user.emailVerified)throw console.warn("[AuthContext] Email not verified."),{code:"auth/email-not-verified",user:N.user};const z=Et(Q,"users");console.log("[AuthContext] Querying Firestore for UID:",N.user.uid," in DB:",Q.app.name);const G=Zr(z,en("uid","==",N.user.uid)),K=yield tn(G);if(console.log("[AuthContext] Query Result Size:",K.size),K.empty)throw console.error("[AuthContext] Profile not found for UID:",N.user.uid),{code:"auth/profile-incomplete",user:N.user};const H=K.docs[0].data();return h(H),H}),[h]),p=T.useCallback(()=>ne(void 0,null,function*(){const D=new Q2,N=(yield J2(bt,D)).user,z=Et(Q,"users"),G=Zr(z,en("uid","==",N.uid)),K=yield tn(G);if(K.empty)return{existingUser:null,newUserInfo:{uid:N.uid,displayName:N.displayName,email:N.email,photoURL:N.photoURL}};{const H=K.docs[0].data();return h(H,`Welcome back, ${H.firstName}!`),{existingUser:H,newUserInfo:null}}}),[h]),b=T.useCallback((D,R)=>ne(void 0,null,function*(){const N=yield X2(bt,D,R);return yield ec(N.user),N.user}),[]),S=T.useCallback(D=>ne(void 0,null,function*(){yield ec(D),i("Verification email sent. Please check your inbox.","info")}),[i]),x=T.useCallback(D=>ne(void 0,null,function*(){yield Z2(bt,D)}),[]),E=T.useCallback(D=>ne(void 0,null,function*(){const R=bt.currentUser;if(!R)throw new Error("No user is currently authenticated.");const N=R.providerData.some(z=>z.providerId===Up.PROVIDER_ID);try{if(N)yield ek(R,D);else{const z=Math.random().toString(36).slice(-10),G=Up.credential(D,z);yield tk(R,G);const K=bt.currentUser;if(K)yield ec(K);else throw new Error("User session lost after linking. Please try again.")}}catch(z){throw z.code==="auth/email-already-in-use"||z.code==="auth/credential-already-in-use"?new Error("This email is already associated with another account."):z.code==="auth/requires-recent-login"?new Error("This is a sensitive action. Please log out and log back in to update your email."):z}}),[]),w=T.useCallback(D=>ne(void 0,null,function*(){const R=yield fetch(`${f}/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:D})}),N=yield R.json();if(!R.ok||!N.success)throw new Error(N.message||"Failed to send OTP.")}),[f]),v=T.useCallback((D,R)=>ne(void 0,null,function*(){console.log("verifyPhoneNumberOtp called",{phoneNumber:D,otp:R});const N=yield fetch(`${f}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:D,otp:R})}),z=yield N.json();if(!N.ok||!z.success)throw new Error(z.message||"Failed to verify OTP.");const{customToken:G,isNewUser:K,newFirebaseUser:U}=z,H=yield rk(bt,G);if(K)return{existingUser:null,newFirebaseUser:U};{const B=Et(Q,"users"),A=Zr(B,en("uid","==",H.user.uid)),j=yield tn(A);if(j.empty)return{existingUser:null,newFirebaseUser:H.user};const L=j.docs[0].data();return h(L,"Welcome back!"),{existingUser:L,newFirebaseUser:null}}}),[f,h]),y=w,C=T.useCallback((D,R)=>ne(void 0,null,function*(){if(!bt.currentUser||!t)throw new Error("No user is currently signed in.");const N=yield bt.currentUser.getIdToken(),z=yield fetch(`${f}/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:R,otp:D,idToken:N})}),G=yield z.json();if(!z.ok||!G.success)throw new Error(G.message||"Failed to verify and link phone number.");const K={contactNumber:R,isMobileVerified:!0},U=he(Q,"users",t.id);yield ct(U,K),i("Phone number verified!","success")}),[t,i,f]),O=T.useCallback(()=>ne(void 0,null,function*(){yield nk(bt),u({name:"home"}),i("You've been logged out.","info")}),[u,i]),P=T.useMemo(()=>({currentUser:t,loading:n,handleLogin:m,handleGoogleSignIn:p,handleRegister:b,handleLogout:O,handleLoginSuccess:h,handleResendVerificationEmail:S,handlePasswordReset:x,sendPhoneNumberOtp:w,verifyPhoneNumberOtp:v,linkPhoneNumber:y,verifyPhoneNumberLink:C,updateUserAuthEmail:E}),[t,n,m,p,b,O,h,S,x,w,v,y,C,E]);return l.jsx($1.Provider,{value:P,children:e})},Gt=()=>{const e=T.useContext($1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var K1={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Hn,function(){var r=Array.prototype.slice;function n(o,d){d&&(o.prototype=Object.create(d.prototype)),o.prototype.constructor=o}function a(o){return c(o)?o:se(o)}n(i,a);function i(o){return f(o)?o:ee(o)}n(s,a);function s(o){return h(o)?o:ae(o)}n(u,a);function u(o){return c(o)&&!m(o)?o:le(o)}function c(o){return!!(o&&o[b])}function f(o){return!!(o&&o[S])}function h(o){return!!(o&&o[x])}function m(o){return f(o)||h(o)}function p(o){return!!(o&&o[E])}a.isIterable=c,a.isKeyed=f,a.isIndexed=h,a.isAssociative=m,a.isOrdered=p,a.Keyed=i,a.Indexed=s,a.Set=u;var b="@@__IMMUTABLE_ITERABLE__@@",S="@@__IMMUTABLE_KEYED__@@",x="@@__IMMUTABLE_INDEXED__@@",E="@@__IMMUTABLE_ORDERED__@@",w="delete",v=5,y=1<<v,C=y-1,O={},P={value:!1},D={value:!1};function R(o){return o.value=!1,o}function N(o){o&&(o.value=!0)}function z(){}function G(o,d){d=d||0;for(var g=Math.max(0,o.length-d),k=new Array(g),_=0;_<g;_++)k[_]=o[_+d];return k}function K(o){return o.size===void 0&&(o.size=o.__iterate(H)),o.size}function U(o,d){if(typeof d!="number"){var g=d>>>0;if(""+g!==d||g===4294967295)return NaN;d=g}return d<0?K(o)+d:d}function H(){return!0}function B(o,d,g){return(o===0||g!==void 0&&o<=-g)&&(d===void 0||g!==void 0&&d>=g)}function A(o,d){return I(o,d,0)}function j(o,d){return I(o,d,d)}function I(o,d,g){return o===void 0?g:o<0?Math.max(0,d+o):d===void 0?o:Math.min(d,o)}var L=0,F=1,W=2,pe=typeof Symbol=="function"&&Symbol.iterator,ye="@@iterator",ce=pe||ye;function oe(o){this.next=o}oe.prototype.toString=function(){return"[Iterator]"},oe.KEYS=L,oe.VALUES=F,oe.ENTRIES=W,oe.prototype.inspect=oe.prototype.toSource=function(){return this.toString()},oe.prototype[ce]=function(){return this};function ge(o,d,g,k){var _=o===0?d:o===1?g:[d,g];return k?k.value=_:k={value:_,done:!1},k}function fe(){return{value:void 0,done:!0}}function be(o){return!!me(o)}function Y(o){return o&&typeof o.next=="function"}function re(o){var d=me(o);return d&&d.call(o)}function me(o){var d=o&&(pe&&o[pe]||o[ye]);if(typeof d=="function")return d}function xe(o){return o&&typeof o.length=="number"}n(se,a);function se(o){return o==null?He():c(o)?o.toSeq():vt(o)}se.of=function(){return se(arguments)},se.prototype.toSeq=function(){return this},se.prototype.toString=function(){return this.__toString("Seq {","}")},se.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},se.prototype.__iterate=function(o,d){return yt(this,o,d,!0)},se.prototype.__iterator=function(o,d){return gr(this,o,d,!0)},n(ee,se);function ee(o){return o==null?He().toKeyedSeq():c(o)?f(o)?o.toSeq():o.fromEntrySeq():de(o)}ee.prototype.toKeyedSeq=function(){return this},n(ae,se);function ae(o){return o==null?He():c(o)?f(o)?o.entrySeq():o.toIndexedSeq():Ce(o)}ae.of=function(){return ae(arguments)},ae.prototype.toIndexedSeq=function(){return this},ae.prototype.toString=function(){return this.__toString("Seq [","]")},ae.prototype.__iterate=function(o,d){return yt(this,o,d,!1)},ae.prototype.__iterator=function(o,d){return gr(this,o,d,!1)},n(le,se);function le(o){return(o==null?He():c(o)?f(o)?o.entrySeq():o:Ce(o)).toSetSeq()}le.of=function(){return le(arguments)},le.prototype.toSetSeq=function(){return this},se.isSeq=Te,se.Keyed=ee,se.Set=le,se.Indexed=ae;var Be="@@__IMMUTABLE_SEQ__@@";se.prototype[Be]=!0,n(Le,ae);function Le(o){this._array=o,this.size=o.length}Le.prototype.get=function(o,d){return this.has(o)?this._array[U(this,o)]:d},Le.prototype.__iterate=function(o,d){for(var g=this._array,k=g.length-1,_=0;_<=k;_++)if(o(g[d?k-_:_],_,this)===!1)return _+1;return _},Le.prototype.__iterator=function(o,d){var g=this._array,k=g.length-1,_=0;return new oe(function(){return _>k?fe():ge(o,_,g[d?k-_++:_++])})},n(ue,ee);function ue(o){var d=Object.keys(o);this._object=o,this._keys=d,this.size=d.length}ue.prototype.get=function(o,d){return d!==void 0&&!this.has(o)?d:this._object[o]},ue.prototype.has=function(o){return this._object.hasOwnProperty(o)},ue.prototype.__iterate=function(o,d){for(var g=this._object,k=this._keys,_=k.length-1,M=0;M<=_;M++){var $=k[d?_-M:M];if(o(g[$],$,this)===!1)return M+1}return M},ue.prototype.__iterator=function(o,d){var g=this._object,k=this._keys,_=k.length-1,M=0;return new oe(function(){var $=k[d?_-M:M];return M++>_?fe():ge(o,$,g[$])})},ue.prototype[E]=!0,n(te,ae);function te(o){this._iterable=o,this.size=o.length||o.size}te.prototype.__iterateUncached=function(o,d){if(d)return this.cacheResult().__iterate(o,d);var g=this._iterable,k=re(g),_=0;if(Y(k))for(var M;!(M=k.next()).done&&o(M.value,_++,this)!==!1;);return _},te.prototype.__iteratorUncached=function(o,d){if(d)return this.cacheResult().__iterator(o,d);var g=this._iterable,k=re(g);if(!Y(k))return new oe(fe);var _=0;return new oe(function(){var M=k.next();return M.done?M:ge(o,_++,M.value)})},n(we,ae);function we(o){this._iterator=o,this._iteratorCache=[]}we.prototype.__iterateUncached=function(o,d){if(d)return this.cacheResult().__iterate(o,d);for(var g=this._iterator,k=this._iteratorCache,_=0;_<k.length;)if(o(k[_],_++,this)===!1)return _;for(var M;!(M=g.next()).done;){var $=M.value;if(k[_]=$,o($,_++,this)===!1)break}return _},we.prototype.__iteratorUncached=function(o,d){if(d)return this.cacheResult().__iterator(o,d);var g=this._iterator,k=this._iteratorCache,_=0;return new oe(function(){if(_>=k.length){var M=g.next();if(M.done)return M;k[_]=M.value}return ge(o,_,k[_++])})};function Te(o){return!!(o&&o[Be])}var Me;function He(){return Me||(Me=new Le([]))}function de(o){var d=Array.isArray(o)?new Le(o).fromEntrySeq():Y(o)?new we(o).fromEntrySeq():be(o)?new te(o).fromEntrySeq():typeof o=="object"?new ue(o):void 0;if(!d)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+o);return d}function Ce(o){var d=Xe(o);if(!d)throw new TypeError("Expected Array or iterable object of values: "+o);return d}function vt(o){var d=Xe(o)||typeof o=="object"&&new ue(o);if(!d)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+o);return d}function Xe(o){return xe(o)?new Le(o):Y(o)?new we(o):be(o)?new te(o):void 0}function yt(o,d,g,k){var _=o._cache;if(_){for(var M=_.length-1,$=0;$<=M;$++){var V=_[g?M-$:$];if(d(V[1],k?V[0]:$,o)===!1)return $+1}return $}return o.__iterateUncached(d,g)}function gr(o,d,g,k){var _=o._cache;if(_){var M=_.length-1,$=0;return new oe(function(){var V=_[g?M-$:$];return $++>M?fe():ge(d,k?V[0]:$-1,V[1])})}return o.__iteratorUncached(d,g)}function Oe(o,d){return d?Pe(d,o,"",{"":o}):Ne(o)}function Pe(o,d,g,k){return Array.isArray(d)?o.call(k,g,ae(d).map(function(_,M){return Pe(o,_,M,d)})):We(d)?o.call(k,g,ee(d).map(function(_,M){return Pe(o,_,M,d)})):d}function Ne(o){return Array.isArray(o)?ae(o).map(Ne).toList():We(o)?ee(o).map(Ne).toMap():o}function We(o){return o&&(o.constructor===Object||o.constructor===void 0)}function Ue(o,d){if(o===d||o!==o&&d!==d)return!0;if(!o||!d)return!1;if(typeof o.valueOf=="function"&&typeof d.valueOf=="function"){if(o=o.valueOf(),d=d.valueOf(),o===d||o!==o&&d!==d)return!0;if(!o||!d)return!1}return!!(typeof o.equals=="function"&&typeof d.equals=="function"&&o.equals(d))}function Ot(o,d){if(o===d)return!0;if(!c(d)||o.size!==void 0&&d.size!==void 0&&o.size!==d.size||o.__hash!==void 0&&d.__hash!==void 0&&o.__hash!==d.__hash||f(o)!==f(d)||h(o)!==h(d)||p(o)!==p(d))return!1;if(o.size===0&&d.size===0)return!0;var g=!m(o);if(p(o)){var k=o.entries();return d.every(function(J,Z){var ie=k.next().value;return ie&&Ue(ie[1],J)&&(g||Ue(ie[0],Z))})&&k.next().done}var _=!1;if(o.size===void 0)if(d.size===void 0)typeof o.cacheResult=="function"&&o.cacheResult();else{_=!0;var M=o;o=d,d=M}var $=!0,V=d.__iterate(function(J,Z){if(g?!o.has(J):_?!Ue(J,o.get(Z,O)):!Ue(o.get(Z,O),J))return $=!1,!1});return $&&o.size===V}n(Ae,ae);function Ae(o,d){if(!(this instanceof Ae))return new Ae(o,d);if(this._value=o,this.size=d===void 0?1/0:Math.max(0,d),this.size===0){if(je)return je;je=this}}Ae.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Ae.prototype.get=function(o,d){return this.has(o)?this._value:d},Ae.prototype.includes=function(o){return Ue(this._value,o)},Ae.prototype.slice=function(o,d){var g=this.size;return B(o,d,g)?this:new Ae(this._value,j(d,g)-A(o,g))},Ae.prototype.reverse=function(){return this},Ae.prototype.indexOf=function(o){return Ue(this._value,o)?0:-1},Ae.prototype.lastIndexOf=function(o){return Ue(this._value,o)?this.size:-1},Ae.prototype.__iterate=function(o,d){for(var g=0;g<this.size;g++)if(o(this._value,g,this)===!1)return g+1;return g},Ae.prototype.__iterator=function(o,d){var g=this,k=0;return new oe(function(){return k<g.size?ge(o,k++,g._value):fe()})},Ae.prototype.equals=function(o){return o instanceof Ae?Ue(this._value,o._value):Ot(o)};var je;function zt(o,d){if(!o)throw new Error(d)}n(wt,ae);function wt(o,d,g){if(!(this instanceof wt))return new wt(o,d,g);if(zt(g!==0,"Cannot step a Range by 0"),o=o||0,d===void 0&&(d=1/0),g=g===void 0?1:Math.abs(g),d<o&&(g=-g),this._start=o,this._end=d,this._step=g,this.size=Math.max(0,Math.ceil((d-o)/g-1)+1),this.size===0){if(Oa)return Oa;Oa=this}}wt.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},wt.prototype.get=function(o,d){return this.has(o)?this._start+U(this,o)*this._step:d},wt.prototype.includes=function(o){var d=(o-this._start)/this._step;return d>=0&&d<this.size&&d===Math.floor(d)},wt.prototype.slice=function(o,d){return B(o,d,this.size)?this:(o=A(o,this.size),d=j(d,this.size),d<=o?new wt(0,0):new wt(this.get(o,this._end),this.get(d,this._end),this._step))},wt.prototype.indexOf=function(o){var d=o-this._start;if(d%this._step===0){var g=d/this._step;if(g>=0&&g<this.size)return g}return-1},wt.prototype.lastIndexOf=function(o){return this.indexOf(o)},wt.prototype.__iterate=function(o,d){for(var g=this.size-1,k=this._step,_=d?this._start+g*k:this._start,M=0;M<=g;M++){if(o(_,M,this)===!1)return M+1;_+=d?-k:k}return M},wt.prototype.__iterator=function(o,d){var g=this.size-1,k=this._step,_=d?this._start+g*k:this._start,M=0;return new oe(function(){var $=_;return _+=d?-k:k,M>g?fe():ge(o,M++,$)})},wt.prototype.equals=function(o){return o instanceof wt?this._start===o._start&&this._end===o._end&&this._step===o._step:Ot(this,o)};var Oa;n(Nn,a);function Nn(){throw TypeError("Abstract")}n(Bi,Nn);function Bi(){}n(Ra,Nn);function Ra(){}n(cs,Nn);function cs(){}Nn.Keyed=Bi,Nn.Indexed=Ra,Nn.Set=cs;var $i=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(d,g){d=d|0,g=g|0;var k=d&65535,_=g&65535;return k*_+((d>>>16)*_+k*(g>>>16)<<16>>>0)|0};function Nu(o){return o>>>1&1073741824|o&3221225471}function ir(o){if(o===!1||o===null||o===void 0||typeof o.valueOf=="function"&&(o=o.valueOf(),o===!1||o===null||o===void 0))return 0;if(o===!0)return 1;var d=typeof o;if(d==="number"){var g=o|0;for(g!==o&&(g^=o*4294967295);o>4294967295;)o/=4294967295,g^=o;return Nu(g)}if(d==="string")return o.length>f2?u2(o):Iu(o);if(typeof o.hashCode=="function")return o.hashCode();if(d==="object")return c2(o);if(typeof o.toString=="function")return Iu(o.toString());throw new Error("Value type "+d+" cannot be hashed.")}function u2(o){var d=Lu[o];return d===void 0&&(d=Iu(o),ju===h2&&(ju=0,Lu={}),ju++,Lu[o]=d),d}function Iu(o){for(var d=0,g=0;g<o.length;g++)d=31*d+o.charCodeAt(g)|0;return Nu(d)}function c2(o){var d;if(Du&&(d=Mu.get(o),d!==void 0)||(d=o[sa],d!==void 0)||!Qh&&(d=o.propertyIsEnumerable&&o.propertyIsEnumerable[sa],d!==void 0||(d=d2(o),d!==void 0)))return d;if(d=++Pu,Pu&1073741824&&(Pu=0),Du)Mu.set(o,d);else{if(Yh!==void 0&&Yh(o)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Qh)Object.defineProperty(o,sa,{enumerable:!1,configurable:!1,writable:!1,value:d});else if(o.propertyIsEnumerable!==void 0&&o.propertyIsEnumerable===o.constructor.prototype.propertyIsEnumerable)o.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},o.propertyIsEnumerable[sa]=d;else if(o.nodeType!==void 0)o[sa]=d;else throw new Error("Unable to set a non-enumerable property on object.")}return d}var Yh=Object.isExtensible,Qh=function(){try{return Object.defineProperty({},"@",{}),!0}catch(o){return!1}}();function d2(o){if(o&&o.nodeType>0)switch(o.nodeType){case 1:return o.uniqueID;case 9:return o.documentElement&&o.documentElement.uniqueID}}var Du=typeof WeakMap=="function",Mu;Du&&(Mu=new WeakMap);var Pu=0,sa="__immutablehash__";typeof Symbol=="function"&&(sa=Symbol(sa));var f2=16,h2=255,ju=0,Lu={};function or(o){zt(o!==1/0,"Cannot perform this action with an infinite size.")}n(qe,Bi);function qe(o){return o==null?Fr():Au(o)&&!p(o)?o:Fr().withMutations(function(d){var g=i(o);or(g.size),g.forEach(function(k,_){return d.set(_,k)})})}qe.prototype.toString=function(){return this.__toString("Map {","}")},qe.prototype.get=function(o,d){return this._root?this._root.get(0,void 0,o,d):d},qe.prototype.set=function(o,d){return ep(this,o,d)},qe.prototype.setIn=function(o,d){return this.updateIn(o,O,function(){return d})},qe.prototype.remove=function(o){return ep(this,o,O)},qe.prototype.deleteIn=function(o){return this.updateIn(o,function(){return O})},qe.prototype.update=function(o,d,g){return arguments.length===1?o(this):this.updateIn([o],d,g)},qe.prototype.updateIn=function(o,d,g){g||(g=d,d=void 0);var k=ip(this,Ep(o),d,g);return k===O?void 0:k},qe.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Fr()},qe.prototype.merge=function(){return ds(this,void 0,arguments)},qe.prototype.mergeWith=function(o){var d=r.call(arguments,1);return ds(this,o,d)},qe.prototype.mergeIn=function(o){var d=r.call(arguments,1);return this.updateIn(o,Fr(),function(g){return typeof g.merge=="function"?g.merge.apply(g,d):d[d.length-1]})},qe.prototype.mergeDeep=function(){return ds(this,rp,arguments)},qe.prototype.mergeDeepWith=function(o){var d=r.call(arguments,1);return ds(this,np(o),d)},qe.prototype.mergeDeepIn=function(o){var d=r.call(arguments,1);return this.updateIn(o,Fr(),function(g){return typeof g.mergeDeep=="function"?g.mergeDeep.apply(g,d):d[d.length-1]})},qe.prototype.sort=function(o){return mt(Ha(this,o))},qe.prototype.sortBy=function(o,d){return mt(Ha(this,d,o))},qe.prototype.withMutations=function(o){var d=this.asMutable();return o(d),d.wasAltered()?d.__ensureOwner(this.__ownerID):this},qe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new z)},qe.prototype.asImmutable=function(){return this.__ensureOwner()},qe.prototype.wasAltered=function(){return this.__altered},qe.prototype.__iterator=function(o,d){return new Ou(this,o,d)},qe.prototype.__iterate=function(o,d){var g=this,k=0;return this._root&&this._root.iterate(function(_){return k++,o(_[1],_[0],g)},d),k},qe.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?Bu(this.size,this._root,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)};function Au(o){return!!(o&&o[Jh])}qe.isMap=Au;var Jh="@@__IMMUTABLE_MAP__@@",ze=qe.prototype;ze[Jh]=!0,ze[w]=ze.remove,ze.removeIn=ze.deleteIn;function Ki(o,d){this.ownerID=o,this.entries=d}Ki.prototype.get=function(o,d,g,k){for(var _=this.entries,M=0,$=_.length;M<$;M++)if(Ue(g,_[M][0]))return _[M][1];return k},Ki.prototype.update=function(o,d,g,k,_,M,$){for(var V=_===O,J=this.entries,Z=0,ie=J.length;Z<ie&&!Ue(k,J[Z][0]);Z++);var ke=Z<ie;if(ke?J[Z][1]===_:V)return this;if(N($),(V||!ke)&&N(M),!(V&&J.length===1)){if(!ke&&!V&&J.length>=w2)return p2(o,J,k,_);var _e=o&&o===this.ownerID,Re=_e?J:G(J);return ke?V?Z===ie-1?Re.pop():Re[Z]=Re.pop():Re[Z]=[k,_]:Re.push([k,_]),_e?(this.entries=Re,this):new Ki(o,Re)}};function Ba(o,d,g){this.ownerID=o,this.bitmap=d,this.nodes=g}Ba.prototype.get=function(o,d,g,k){d===void 0&&(d=ir(g));var _=1<<((o===0?d:d>>>o)&C),M=this.bitmap;return M&_?this.nodes[op(M&_-1)].get(o+v,d,g,k):k},Ba.prototype.update=function(o,d,g,k,_,M,$){g===void 0&&(g=ir(k));var V=(d===0?g:g>>>d)&C,J=1<<V,Z=this.bitmap,ie=(Z&J)!==0;if(!ie&&_===O)return this;var ke=op(Z&J-1),_e=this.nodes,Re=ie?_e[ke]:void 0,$e=$u(Re,o,d+v,g,k,_,M,$);if($e===Re)return this;if(!ie&&$e&&_e.length>=x2)return g2(o,_e,Z,V,$e);if(ie&&!$e&&_e.length===2&&tp(_e[ke^1]))return _e[ke^1];if(ie&&$e&&_e.length===1&&tp($e))return $e;var lt=o&&o===this.ownerID,Pr=ie?$e?Z:Z^J:Z|J,Wr=ie?$e?sp(_e,ke,$e,lt):y2(_e,ke,lt):v2(_e,ke,$e,lt);return lt?(this.bitmap=Pr,this.nodes=Wr,this):new Ba(o,Pr,Wr)};function Fi(o,d,g){this.ownerID=o,this.count=d,this.nodes=g}Fi.prototype.get=function(o,d,g,k){d===void 0&&(d=ir(g));var _=(o===0?d:d>>>o)&C,M=this.nodes[_];return M?M.get(o+v,d,g,k):k},Fi.prototype.update=function(o,d,g,k,_,M,$){g===void 0&&(g=ir(k));var V=(d===0?g:g>>>d)&C,J=_===O,Z=this.nodes,ie=Z[V];if(J&&!ie)return this;var ke=$u(ie,o,d+v,g,k,_,M,$);if(ke===ie)return this;var _e=this.count;if(!ie)_e++;else if(!ke&&(_e--,_e<k2))return m2(o,Z,_e,V);var Re=o&&o===this.ownerID,$e=sp(Z,V,ke,Re);return Re?(this.count=_e,this.nodes=$e,this):new Fi(o,_e,$e)};function $a(o,d,g){this.ownerID=o,this.keyHash=d,this.entries=g}$a.prototype.get=function(o,d,g,k){for(var _=this.entries,M=0,$=_.length;M<$;M++)if(Ue(g,_[M][0]))return _[M][1];return k},$a.prototype.update=function(o,d,g,k,_,M,$){g===void 0&&(g=ir(k));var V=_===O;if(g!==this.keyHash)return V?this:(N($),N(M),Ku(this,o,d,g,[k,_]));for(var J=this.entries,Z=0,ie=J.length;Z<ie&&!Ue(k,J[Z][0]);Z++);var ke=Z<ie;if(ke?J[Z][1]===_:V)return this;if(N($),(V||!ke)&&N(M),V&&ie===2)return new un(o,this.keyHash,J[Z^1]);var _e=o&&o===this.ownerID,Re=_e?J:G(J);return ke?V?Z===ie-1?Re.pop():Re[Z]=Re.pop():Re[Z]=[k,_]:Re.push([k,_]),_e?(this.entries=Re,this):new $a(o,this.keyHash,Re)};function un(o,d,g){this.ownerID=o,this.keyHash=d,this.entry=g}un.prototype.get=function(o,d,g,k){return Ue(g,this.entry[0])?this.entry[1]:k},un.prototype.update=function(o,d,g,k,_,M,$){var V=_===O,J=Ue(k,this.entry[0]);if(J?_===this.entry[1]:V)return this;if(N($),V){N(M);return}return J?o&&o===this.ownerID?(this.entry[1]=_,this):new un(o,this.keyHash,[k,_]):(N(M),Ku(this,o,d,ir(k),[k,_]))},Ki.prototype.iterate=$a.prototype.iterate=function(o,d){for(var g=this.entries,k=0,_=g.length-1;k<=_;k++)if(o(g[d?_-k:k])===!1)return!1},Ba.prototype.iterate=Fi.prototype.iterate=function(o,d){for(var g=this.nodes,k=0,_=g.length-1;k<=_;k++){var M=g[d?_-k:k];if(M&&M.iterate(o,d)===!1)return!1}},un.prototype.iterate=function(o,d){return o(this.entry)},n(Ou,oe);function Ou(o,d,g){this._type=d,this._reverse=g,this._stack=o._root&&Xh(o._root)}Ou.prototype.next=function(){for(var o=this._type,d=this._stack;d;){var g=d.node,k=d.index++,_;if(g.entry){if(k===0)return Ru(o,g.entry)}else if(g.entries){if(_=g.entries.length-1,k<=_)return Ru(o,g.entries[this._reverse?_-k:k])}else if(_=g.nodes.length-1,k<=_){var M=g.nodes[this._reverse?_-k:k];if(M){if(M.entry)return Ru(o,M.entry);d=this._stack=Xh(M,d)}continue}d=this._stack=this._stack.__prev}return fe()};function Ru(o,d){return ge(o,d[0],d[1])}function Xh(o,d){return{node:o,index:0,__prev:d}}function Bu(o,d,g,k){var _=Object.create(ze);return _.size=o,_._root=d,_.__ownerID=g,_.__hash=k,_.__altered=!1,_}var Zh;function Fr(){return Zh||(Zh=Bu(0))}function ep(o,d,g){var k,_;if(o._root){var M=R(P),$=R(D);if(k=$u(o._root,o.__ownerID,0,void 0,d,g,M,$),!$.value)return o;_=o.size+(M.value?g===O?-1:1:0)}else{if(g===O)return o;_=1,k=new Ki(o.__ownerID,[[d,g]])}return o.__ownerID?(o.size=_,o._root=k,o.__hash=void 0,o.__altered=!0,o):k?Bu(_,k):Fr()}function $u(o,d,g,k,_,M,$,V){return o?o.update(d,g,k,_,M,$,V):M===O?o:(N(V),N($),new un(d,k,[_,M]))}function tp(o){return o.constructor===un||o.constructor===$a}function Ku(o,d,g,k,_){if(o.keyHash===k)return new $a(d,k,[o.entry,_]);var M=(g===0?o.keyHash:o.keyHash>>>g)&C,$=(g===0?k:k>>>g)&C,V,J=M===$?[Ku(o,d,g+v,k,_)]:(V=new un(d,k,_),M<$?[o,V]:[V,o]);return new Ba(d,1<<M|1<<$,J)}function p2(o,d,g,k){o||(o=new z);for(var _=new un(o,ir(g),[g,k]),M=0;M<d.length;M++){var $=d[M];_=_.update(o,0,void 0,$[0],$[1])}return _}function m2(o,d,g,k){for(var _=0,M=0,$=new Array(g),V=0,J=1,Z=d.length;V<Z;V++,J<<=1){var ie=d[V];ie!==void 0&&V!==k&&(_|=J,$[M++]=ie)}return new Ba(o,_,$)}function g2(o,d,g,k,_){for(var M=0,$=new Array(y),V=0;g!==0;V++,g>>>=1)$[V]=g&1?d[M++]:void 0;return $[k]=_,new Fi(o,M+1,$)}function ds(o,d,g){for(var k=[],_=0;_<g.length;_++){var M=g[_],$=i(M);c(M)||($=$.map(function(V){return Oe(V)})),k.push($)}return ap(o,d,k)}function rp(o,d,g){return o&&o.mergeDeep&&c(d)?o.mergeDeep(d):Ue(o,d)?o:d}function np(o){return function(d,g,k){if(d&&d.mergeDeepWith&&c(g))return d.mergeDeepWith(o,g);var _=o(d,g,k);return Ue(d,_)?d:_}}function ap(o,d,g){return g=g.filter(function(k){return k.size!==0}),g.length===0?o:o.size===0&&!o.__ownerID&&g.length===1?o.constructor(g[0]):o.withMutations(function(k){for(var _=d?function($,V){k.update(V,O,function(J){return J===O?$:d(J,$,V)})}:function($,V){k.set(V,$)},M=0;M<g.length;M++)g[M].forEach(_)})}function ip(o,d,g,k){var _=o===O,M=d.next();if(M.done){var $=_?g:o,V=k($);return V===$?o:V}zt(_||o&&o.set,"invalid keyPath");var J=M.value,Z=_?O:o.get(J,O),ie=ip(Z,d,g,k);return ie===Z?o:ie===O?o.remove(J):(_?Fr():o).set(J,ie)}function op(o){return o=o-(o>>1&1431655765),o=(o&858993459)+(o>>2&858993459),o=o+(o>>4)&252645135,o=o+(o>>8),o=o+(o>>16),o&127}function sp(o,d,g,k){var _=k?o:G(o);return _[d]=g,_}function v2(o,d,g,k){var _=o.length+1;if(k&&d+1===_)return o[d]=g,o;for(var M=new Array(_),$=0,V=0;V<_;V++)V===d?(M[V]=g,$=-1):M[V]=o[V+$];return M}function y2(o,d,g){var k=o.length-1;if(g&&d===k)return o.pop(),o;for(var _=new Array(k),M=0,$=0;$<k;$++)$===d&&(M=1),_[$]=o[$+M];return _}var w2=y/4,x2=y/2,k2=y/4;n(rt,Ra);function rt(o){var d=Fu();if(o==null)return d;if(lp(o))return o;var g=s(o),k=g.size;return k===0?d:(or(k),k>0&&k<y?Ui(0,k,v,null,new In(g.toArray())):d.withMutations(function(_){_.setSize(k),g.forEach(function(M,$){return _.set($,M)})}))}rt.of=function(){return this(arguments)},rt.prototype.toString=function(){return this.__toString("List [","]")},rt.prototype.get=function(o,d){if(o=U(this,o),o>=0&&o<this.size){o+=this._origin;var g=fp(this,o);return g&&g.array[o&C]}return d},rt.prototype.set=function(o,d){return b2(this,o,d)},rt.prototype.remove=function(o){return this.has(o)?o===0?this.shift():o===this.size-1?this.pop():this.splice(o,1):this},rt.prototype.insert=function(o,d){return this.splice(o,0,d)},rt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Fu()},rt.prototype.push=function(){var o=arguments,d=this.size;return this.withMutations(function(g){Dn(g,0,d+o.length);for(var k=0;k<o.length;k++)g.set(d+k,o[k])})},rt.prototype.pop=function(){return Dn(this,0,-1)},rt.prototype.unshift=function(){var o=arguments;return this.withMutations(function(d){Dn(d,-o.length);for(var g=0;g<o.length;g++)d.set(g,o[g])})},rt.prototype.shift=function(){return Dn(this,1)},rt.prototype.merge=function(){return fs(this,void 0,arguments)},rt.prototype.mergeWith=function(o){var d=r.call(arguments,1);return fs(this,o,d)},rt.prototype.mergeDeep=function(){return fs(this,rp,arguments)},rt.prototype.mergeDeepWith=function(o){var d=r.call(arguments,1);return fs(this,np(o),d)},rt.prototype.setSize=function(o){return Dn(this,0,o)},rt.prototype.slice=function(o,d){var g=this.size;return B(o,d,g)?this:Dn(this,A(o,g),j(d,g))},rt.prototype.__iterator=function(o,d){var g=0,k=cp(this,d);return new oe(function(){var _=k();return _===zi?fe():ge(o,g++,_)})},rt.prototype.__iterate=function(o,d){for(var g=0,k=cp(this,d),_;(_=k())!==zi&&o(_,g++,this)!==!1;);return g},rt.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?Ui(this._origin,this._capacity,this._level,this._root,this._tail,o,this.__hash):(this.__ownerID=o,this)};function lp(o){return!!(o&&o[up])}rt.isList=lp;var up="@@__IMMUTABLE_LIST__@@",Ut=rt.prototype;Ut[up]=!0,Ut[w]=Ut.remove,Ut.setIn=ze.setIn,Ut.deleteIn=Ut.removeIn=ze.removeIn,Ut.update=ze.update,Ut.updateIn=ze.updateIn,Ut.mergeIn=ze.mergeIn,Ut.mergeDeepIn=ze.mergeDeepIn,Ut.withMutations=ze.withMutations,Ut.asMutable=ze.asMutable,Ut.asImmutable=ze.asImmutable,Ut.wasAltered=ze.wasAltered;function In(o,d){this.array=o,this.ownerID=d}In.prototype.removeBefore=function(o,d,g){if(g===d?1<<d:this.array.length===0)return this;var k=g>>>d&C;if(k>=this.array.length)return new In([],o);var _=k===0,M;if(d>0){var $=this.array[k];if(M=$&&$.removeBefore(o,d-v,g),M===$&&_)return this}if(_&&!M)return this;var V=Ka(this,o);if(!_)for(var J=0;J<k;J++)V.array[J]=void 0;return M&&(V.array[k]=M),V},In.prototype.removeAfter=function(o,d,g){if(g===(d?1<<d:0)||this.array.length===0)return this;var k=g-1>>>d&C;if(k>=this.array.length)return this;var _;if(d>0){var M=this.array[k];if(_=M&&M.removeAfter(o,d-v,g),_===M&&k===this.array.length-1)return this}var $=Ka(this,o);return $.array.splice(k+1),_&&($.array[k]=_),$};var zi={};function cp(o,d){var g=o._origin,k=o._capacity,_=Hi(k),M=o._tail;return $(o._root,o._level,0);function $(Z,ie,ke){return ie===0?V(Z,ke):J(Z,ie,ke)}function V(Z,ie){var ke=ie===_?M&&M.array:Z&&Z.array,_e=ie>g?0:g-ie,Re=k-ie;return Re>y&&(Re=y),function(){if(_e===Re)return zi;var $e=d?--Re:_e++;return ke&&ke[$e]}}function J(Z,ie,ke){var _e,Re=Z&&Z.array,$e=ke>g?0:g-ke>>ie,lt=(k-ke>>ie)+1;return lt>y&&(lt=y),function(){do{if(_e){var Pr=_e();if(Pr!==zi)return Pr;_e=null}if($e===lt)return zi;var Wr=d?--lt:$e++;_e=$(Re&&Re[Wr],ie-v,ke+(Wr<<ie))}while(!0)}}}function Ui(o,d,g,k,_,M,$){var V=Object.create(Ut);return V.size=d-o,V._origin=o,V._capacity=d,V._level=g,V._root=k,V._tail=_,V.__ownerID=M,V.__hash=$,V.__altered=!1,V}var dp;function Fu(){return dp||(dp=Ui(0,0,v))}function b2(o,d,g){if(d=U(o,d),d!==d)return o;if(d>=o.size||d<0)return o.withMutations(function($){d<0?Dn($,d).set(0,g):Dn($,0,d+1).set(d,g)});d+=o._origin;var k=o._tail,_=o._root,M=R(D);return d>=Hi(o._capacity)?k=zu(k,o.__ownerID,0,d,g,M):_=zu(_,o.__ownerID,o._level,d,g,M),M.value?o.__ownerID?(o._root=_,o._tail=k,o.__hash=void 0,o.__altered=!0,o):Ui(o._origin,o._capacity,o._level,_,k):o}function zu(o,d,g,k,_,M){var $=k>>>g&C,V=o&&$<o.array.length;if(!V&&_===void 0)return o;var J;if(g>0){var Z=o&&o.array[$],ie=zu(Z,d,g-v,k,_,M);return ie===Z?o:(J=Ka(o,d),J.array[$]=ie,J)}return V&&o.array[$]===_?o:(N(M),J=Ka(o,d),_===void 0&&$===J.array.length-1?J.array.pop():J.array[$]=_,J)}function Ka(o,d){return d&&o&&d===o.ownerID?o:new In(o?o.array.slice():[],d)}function fp(o,d){if(d>=Hi(o._capacity))return o._tail;if(d<1<<o._level+v){for(var g=o._root,k=o._level;g&&k>0;)g=g.array[d>>>k&C],k-=v;return g}}function Dn(o,d,g){d!==void 0&&(d=d|0),g!==void 0&&(g=g|0);var k=o.__ownerID||new z,_=o._origin,M=o._capacity,$=_+d,V=g===void 0?M:g<0?M+g:_+g;if($===_&&V===M)return o;if($>=V)return o.clear();for(var J=o._level,Z=o._root,ie=0;$+ie<0;)Z=new In(Z&&Z.array.length?[void 0,Z]:[],k),J+=v,ie+=1<<J;ie&&($+=ie,_+=ie,V+=ie,M+=ie);for(var ke=Hi(M),_e=Hi(V);_e>=1<<J+v;)Z=new In(Z&&Z.array.length?[Z]:[],k),J+=v;var Re=o._tail,$e=_e<ke?fp(o,V-1):_e>ke?new In([],k):Re;if(Re&&_e>ke&&$<M&&Re.array.length){Z=Ka(Z,k);for(var lt=Z,Pr=J;Pr>v;Pr-=v){var Wr=ke>>>Pr&C;lt=lt.array[Wr]=Ka(lt.array[Wr],k)}lt.array[ke>>>v&C]=Re}if(V<M&&($e=$e&&$e.removeAfter(k,0,V)),$>=_e)$-=_e,V-=_e,J=v,Z=null,$e=$e&&$e.removeBefore(k,0,$);else if($>_||_e<ke){for(ie=0;Z;){var ws=$>>>J&C;if(ws!==_e>>>J&C)break;ws&&(ie+=(1<<J)*ws),J-=v,Z=Z.array[ws]}Z&&$>_&&(Z=Z.removeBefore(k,J,$-ie)),Z&&_e<ke&&(Z=Z.removeAfter(k,J,_e-ie)),ie&&($-=ie,V-=ie)}return o.__ownerID?(o.size=V-$,o._origin=$,o._capacity=V,o._level=J,o._root=Z,o._tail=$e,o.__hash=void 0,o.__altered=!0,o):Ui($,V,J,Z,$e)}function fs(o,d,g){for(var k=[],_=0,M=0;M<g.length;M++){var $=g[M],V=s($);V.size>_&&(_=V.size),c($)||(V=V.map(function(J){return Oe(J)})),k.push(V)}return _>o.size&&(o=o.setSize(_)),ap(o,d,k)}function Hi(o){return o<y?0:o-1>>>v<<v}n(mt,qe);function mt(o){return o==null?hs():hp(o)?o:hs().withMutations(function(d){var g=i(o);or(g.size),g.forEach(function(k,_){return d.set(_,k)})})}mt.of=function(){return this(arguments)},mt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},mt.prototype.get=function(o,d){var g=this._map.get(o);return g!==void 0?this._list.get(g)[1]:d},mt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):hs()},mt.prototype.set=function(o,d){return mp(this,o,d)},mt.prototype.remove=function(o){return mp(this,o,O)},mt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},mt.prototype.__iterate=function(o,d){var g=this;return this._list.__iterate(function(k){return k&&o(k[1],k[0],g)},d)},mt.prototype.__iterator=function(o,d){return this._list.fromEntrySeq().__iterator(o,d)},mt.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var d=this._map.__ensureOwner(o),g=this._list.__ensureOwner(o);return o?Uu(d,g,o,this.__hash):(this.__ownerID=o,this._map=d,this._list=g,this)};function hp(o){return Au(o)&&p(o)}mt.isOrderedMap=hp,mt.prototype[E]=!0,mt.prototype[w]=mt.prototype.remove;function Uu(o,d,g,k){var _=Object.create(mt.prototype);return _.size=o?o.size:0,_._map=o,_._list=d,_.__ownerID=g,_.__hash=k,_}var pp;function hs(){return pp||(pp=Uu(Fr(),Fu()))}function mp(o,d,g){var k=o._map,_=o._list,M=k.get(d),$=M!==void 0,V,J;if(g===O){if(!$)return o;_.size>=y&&_.size>=k.size*2?(J=_.filter(function(Z,ie){return Z!==void 0&&M!==ie}),V=J.toKeyedSeq().map(function(Z){return Z[0]}).flip().toMap(),o.__ownerID&&(V.__ownerID=J.__ownerID=o.__ownerID)):(V=k.remove(d),J=M===_.size-1?_.pop():_.set(M,void 0))}else if($){if(g===_.get(M)[1])return o;V=k,J=_.set(M,[d,g])}else V=k.set(d,_.size),J=_.set(_.size,[d,g]);return o.__ownerID?(o.size=V.size,o._map=V,o._list=J,o.__hash=void 0,o):Uu(V,J)}n(vr,ee);function vr(o,d){this._iter=o,this._useKeys=d,this.size=o.size}vr.prototype.get=function(o,d){return this._iter.get(o,d)},vr.prototype.has=function(o){return this._iter.has(o)},vr.prototype.valueSeq=function(){return this._iter.valueSeq()},vr.prototype.reverse=function(){var o=this,d=Hu(this,!0);return this._useKeys||(d.valueSeq=function(){return o._iter.toSeq().reverse()}),d},vr.prototype.map=function(o,d){var g=this,k=vp(this,o,d);return this._useKeys||(k.valueSeq=function(){return g._iter.toSeq().map(o,d)}),k},vr.prototype.__iterate=function(o,d){var g=this,k;return this._iter.__iterate(this._useKeys?function(_,M){return o(_,M,g)}:(k=d?Sp(this):0,function(_){return o(_,d?--k:k++,g)}),d)},vr.prototype.__iterator=function(o,d){if(this._useKeys)return this._iter.__iterator(o,d);var g=this._iter.__iterator(F,d),k=d?Sp(this):0;return new oe(function(){var _=g.next();return _.done?_:ge(o,d?--k:k++,_.value,_)})},vr.prototype[E]=!0,n(Fa,ae);function Fa(o){this._iter=o,this.size=o.size}Fa.prototype.includes=function(o){return this._iter.includes(o)},Fa.prototype.__iterate=function(o,d){var g=this,k=0;return this._iter.__iterate(function(_){return o(_,k++,g)},d)},Fa.prototype.__iterator=function(o,d){var g=this._iter.__iterator(F,d),k=0;return new oe(function(){var _=g.next();return _.done?_:ge(o,k++,_.value,_)})},n(za,le);function za(o){this._iter=o,this.size=o.size}za.prototype.has=function(o){return this._iter.includes(o)},za.prototype.__iterate=function(o,d){var g=this;return this._iter.__iterate(function(k){return o(k,k,g)},d)},za.prototype.__iterator=function(o,d){var g=this._iter.__iterator(F,d);return new oe(function(){var k=g.next();return k.done?k:ge(o,k.value,k.value,k)})},n(Ua,ee);function Ua(o){this._iter=o,this.size=o.size}Ua.prototype.entrySeq=function(){return this._iter.toSeq()},Ua.prototype.__iterate=function(o,d){var g=this;return this._iter.__iterate(function(k){if(k){bp(k);var _=c(k);return o(_?k.get(1):k[1],_?k.get(0):k[0],g)}},d)},Ua.prototype.__iterator=function(o,d){var g=this._iter.__iterator(F,d);return new oe(function(){for(;;){var k=g.next();if(k.done)return k;var _=k.value;if(_){bp(_);var M=c(_);return ge(o,M?_.get(0):_[0],M?_.get(1):_[1],k)}}})},Fa.prototype.cacheResult=vr.prototype.cacheResult=za.prototype.cacheResult=Ua.prototype.cacheResult=Vu;function gp(o){var d=zr(o);return d._iter=o,d.size=o.size,d.flip=function(){return o},d.reverse=function(){var g=o.reverse.apply(this);return g.flip=function(){return o.reverse()},g},d.has=function(g){return o.includes(g)},d.includes=function(g){return o.has(g)},d.cacheResult=Vu,d.__iterateUncached=function(g,k){var _=this;return o.__iterate(function(M,$){return g($,M,_)!==!1},k)},d.__iteratorUncached=function(g,k){if(g===W){var _=o.__iterator(g,k);return new oe(function(){var M=_.next();if(!M.done){var $=M.value[0];M.value[0]=M.value[1],M.value[1]=$}return M})}return o.__iterator(g===F?L:F,k)},d}function vp(o,d,g){var k=zr(o);return k.size=o.size,k.has=function(_){return o.has(_)},k.get=function(_,M){var $=o.get(_,O);return $===O?M:d.call(g,$,_,o)},k.__iterateUncached=function(_,M){var $=this;return o.__iterate(function(V,J,Z){return _(d.call(g,V,J,Z),J,$)!==!1},M)},k.__iteratorUncached=function(_,M){var $=o.__iterator(W,M);return new oe(function(){var V=$.next();if(V.done)return V;var J=V.value,Z=J[0];return ge(_,Z,d.call(g,J[1],Z,o),V)})},k}function Hu(o,d){var g=zr(o);return g._iter=o,g.size=o.size,g.reverse=function(){return o},o.flip&&(g.flip=function(){var k=gp(o);return k.reverse=function(){return o.flip()},k}),g.get=function(k,_){return o.get(d?k:-1-k,_)},g.has=function(k){return o.has(d?k:-1-k)},g.includes=function(k){return o.includes(k)},g.cacheResult=Vu,g.__iterate=function(k,_){var M=this;return o.__iterate(function($,V){return k($,V,M)},!_)},g.__iterator=function(k,_){return o.__iterator(k,!_)},g}function yp(o,d,g,k){var _=zr(o);return k&&(_.has=function(M){var $=o.get(M,O);return $!==O&&!!d.call(g,$,M,o)},_.get=function(M,$){var V=o.get(M,O);return V!==O&&d.call(g,V,M,o)?V:$}),_.__iterateUncached=function(M,$){var V=this,J=0;return o.__iterate(function(Z,ie,ke){if(d.call(g,Z,ie,ke))return J++,M(Z,k?ie:J-1,V)},$),J},_.__iteratorUncached=function(M,$){var V=o.__iterator(W,$),J=0;return new oe(function(){for(;;){var Z=V.next();if(Z.done)return Z;var ie=Z.value,ke=ie[0],_e=ie[1];if(d.call(g,_e,ke,o))return ge(M,k?ke:J++,_e,Z)}})},_}function S2(o,d,g){var k=qe().asMutable();return o.__iterate(function(_,M){k.update(d.call(g,_,M,o),0,function($){return $+1})}),k.asImmutable()}function _2(o,d,g){var k=f(o),_=(p(o)?mt():qe()).asMutable();o.__iterate(function($,V){_.update(d.call(g,$,V,o),function(J){return J=J||[],J.push(k?[V,$]:$),J})});var M=_p(o);return _.map(function($){return Ze(o,M($))})}function Wu(o,d,g,k){var _=o.size;if(d!==void 0&&(d=d|0),g!==void 0&&(g=g|0),B(d,g,_))return o;var M=A(d,_),$=j(g,_);if(M!==M||$!==$)return Wu(o.toSeq().cacheResult(),d,g,k);var V=$-M,J;V===V&&(J=V<0?0:V);var Z=zr(o);return Z.size=J===0?J:o.size&&J||void 0,!k&&Te(o)&&J>=0&&(Z.get=function(ie,ke){return ie=U(this,ie),ie>=0&&ie<J?o.get(ie+M,ke):ke}),Z.__iterateUncached=function(ie,ke){var _e=this;if(J===0)return 0;if(ke)return this.cacheResult().__iterate(ie,ke);var Re=0,$e=!0,lt=0;return o.__iterate(function(Pr,Wr){if(!($e&&($e=Re++<M)))return lt++,ie(Pr,k?Wr:lt-1,_e)!==!1&&lt!==J}),lt},Z.__iteratorUncached=function(ie,ke){if(J!==0&&ke)return this.cacheResult().__iterator(ie,ke);var _e=J!==0&&o.__iterator(ie,ke),Re=0,$e=0;return new oe(function(){for(;Re++<M;)_e.next();if(++$e>J)return fe();var lt=_e.next();return k||ie===F?lt:ie===L?ge(ie,$e-1,void 0,lt):ge(ie,$e-1,lt.value[1],lt)})},Z}function C2(o,d,g){var k=zr(o);return k.__iterateUncached=function(_,M){var $=this;if(M)return this.cacheResult().__iterate(_,M);var V=0;return o.__iterate(function(J,Z,ie){return d.call(g,J,Z,ie)&&++V&&_(J,Z,$)}),V},k.__iteratorUncached=function(_,M){var $=this;if(M)return this.cacheResult().__iterator(_,M);var V=o.__iterator(W,M),J=!0;return new oe(function(){if(!J)return fe();var Z=V.next();if(Z.done)return Z;var ie=Z.value,ke=ie[0],_e=ie[1];return d.call(g,_e,ke,$)?_===W?Z:ge(_,ke,_e,Z):(J=!1,fe())})},k}function wp(o,d,g,k){var _=zr(o);return _.__iterateUncached=function(M,$){var V=this;if($)return this.cacheResult().__iterate(M,$);var J=!0,Z=0;return o.__iterate(function(ie,ke,_e){if(!(J&&(J=d.call(g,ie,ke,_e))))return Z++,M(ie,k?ke:Z-1,V)}),Z},_.__iteratorUncached=function(M,$){var V=this;if($)return this.cacheResult().__iterator(M,$);var J=o.__iterator(W,$),Z=!0,ie=0;return new oe(function(){var ke,_e,Re;do{if(ke=J.next(),ke.done)return k||M===F?ke:M===L?ge(M,ie++,void 0,ke):ge(M,ie++,ke.value[1],ke);var $e=ke.value;_e=$e[0],Re=$e[1],Z&&(Z=d.call(g,Re,_e,V))}while(Z);return M===W?ke:ge(M,_e,Re,ke)})},_}function E2(o,d){var g=f(o),k=[o].concat(d).map(function($){return c($)?g&&($=i($)):$=g?de($):Ce(Array.isArray($)?$:[$]),$}).filter(function($){return $.size!==0});if(k.length===0)return o;if(k.length===1){var _=k[0];if(_===o||g&&f(_)||h(o)&&h(_))return _}var M=new Le(k);return g?M=M.toKeyedSeq():h(o)||(M=M.toSetSeq()),M=M.flatten(!0),M.size=k.reduce(function($,V){if($!==void 0){var J=V.size;if(J!==void 0)return $+J}},0),M}function xp(o,d,g){var k=zr(o);return k.__iterateUncached=function(_,M){var $=0,V=!1;function J(Z,ie){var ke=this;Z.__iterate(function(_e,Re){return(!d||ie<d)&&c(_e)?J(_e,ie+1):_(_e,g?Re:$++,ke)===!1&&(V=!0),!V},M)}return J(o,0),$},k.__iteratorUncached=function(_,M){var $=o.__iterator(_,M),V=[],J=0;return new oe(function(){for(;$;){var Z=$.next();if(Z.done!==!1){$=V.pop();continue}var ie=Z.value;if(_===W&&(ie=ie[1]),(!d||V.length<d)&&c(ie))V.push($),$=ie.__iterator(_,M);else return g?Z:ge(_,J++,ie,Z)}return fe()})},k}function T2(o,d,g){var k=_p(o);return o.toSeq().map(function(_,M){return k(d.call(g,_,M,o))}).flatten(!0)}function N2(o,d){var g=zr(o);return g.size=o.size&&o.size*2-1,g.__iterateUncached=function(k,_){var M=this,$=0;return o.__iterate(function(V,J){return(!$||k(d,$++,M)!==!1)&&k(V,$++,M)!==!1},_),$},g.__iteratorUncached=function(k,_){var M=o.__iterator(F,_),$=0,V;return new oe(function(){return(!V||$%2)&&(V=M.next(),V.done)?V:$%2?ge(k,$++,d):ge(k,$++,V.value,V)})},g}function Ha(o,d,g){d||(d=Cp);var k=f(o),_=0,M=o.toSeq().map(function($,V){return[V,$,_++,g?g($,V,o):$]}).toArray();return M.sort(function($,V){return d($[3],V[3])||$[2]-V[2]}).forEach(k?function($,V){M[V].length=2}:function($,V){M[V]=$[1]}),k?ee(M):h(o)?ae(M):le(M)}function ps(o,d,g){if(d||(d=Cp),g){var k=o.toSeq().map(function(_,M){return[_,g(_,M,o)]}).reduce(function(_,M){return kp(d,_[1],M[1])?M:_});return k&&k[0]}else return o.reduce(function(_,M){return kp(d,_,M)?M:_})}function kp(o,d,g){var k=o(g,d);return k===0&&g!==d&&(g==null||g!==g)||k>0}function qu(o,d,g){var k=zr(o);return k.size=new Le(g).map(function(_){return _.size}).min(),k.__iterate=function(_,M){for(var $=this.__iterator(F,M),V,J=0;!(V=$.next()).done&&_(V.value,J++,this)!==!1;);return J},k.__iteratorUncached=function(_,M){var $=g.map(function(Z){return Z=a(Z),re(M?Z.reverse():Z)}),V=0,J=!1;return new oe(function(){var Z;return J||(Z=$.map(function(ie){return ie.next()}),J=Z.some(function(ie){return ie.done})),J?fe():ge(_,V++,d.apply(null,Z.map(function(ie){return ie.value})))})},k}function Ze(o,d){return Te(o)?d:o.constructor(d)}function bp(o){if(o!==Object(o))throw new TypeError("Expected [K, V] tuple: "+o)}function Sp(o){return or(o.size),K(o)}function _p(o){return f(o)?i:h(o)?s:u}function zr(o){return Object.create((f(o)?ee:h(o)?ae:le).prototype)}function Vu(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):se.prototype.cacheResult.call(this)}function Cp(o,d){return o>d?1:o<d?-1:0}function Ep(o){var d=re(o);if(!d){if(!xe(o))throw new TypeError("Expected iterable or array-like: "+o);d=re(a(o))}return d}n(sr,Bi);function sr(o,d){var g,k=function($){if($ instanceof k)return $;if(!(this instanceof k))return new k($);if(!g){g=!0;var V=Object.keys(o);I2(_,V),_.size=V.length,_._name=d,_._keys=V,_._defaultValues=o}this._map=qe($)},_=k.prototype=Object.create(It);return _.constructor=k,k}sr.prototype.toString=function(){return this.__toString(Tp(this)+" {","}")},sr.prototype.has=function(o){return this._defaultValues.hasOwnProperty(o)},sr.prototype.get=function(o,d){if(!this.has(o))return d;var g=this._defaultValues[o];return this._map?this._map.get(o,g):g},sr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var o=this.constructor;return o._empty||(o._empty=ms(this,Fr()))},sr.prototype.set=function(o,d){if(!this.has(o))throw new Error('Cannot set unknown key "'+o+'" on '+Tp(this));var g=this._map&&this._map.set(o,d);return this.__ownerID||g===this._map?this:ms(this,g)},sr.prototype.remove=function(o){if(!this.has(o))return this;var d=this._map&&this._map.remove(o);return this.__ownerID||d===this._map?this:ms(this,d)},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterator=function(o,d){var g=this;return i(this._defaultValues).map(function(k,_){return g.get(_)}).__iterator(o,d)},sr.prototype.__iterate=function(o,d){var g=this;return i(this._defaultValues).map(function(k,_){return g.get(_)}).__iterate(o,d)},sr.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var d=this._map&&this._map.__ensureOwner(o);return o?ms(this,d,o):(this.__ownerID=o,this._map=d,this)};var It=sr.prototype;It[w]=It.remove,It.deleteIn=It.removeIn=ze.removeIn,It.merge=ze.merge,It.mergeWith=ze.mergeWith,It.mergeIn=ze.mergeIn,It.mergeDeep=ze.mergeDeep,It.mergeDeepWith=ze.mergeDeepWith,It.mergeDeepIn=ze.mergeDeepIn,It.setIn=ze.setIn,It.update=ze.update,It.updateIn=ze.updateIn,It.withMutations=ze.withMutations,It.asMutable=ze.asMutable,It.asImmutable=ze.asImmutable;function ms(o,d,g){var k=Object.create(Object.getPrototypeOf(o));return k._map=d,k.__ownerID=g,k}function Tp(o){return o._name||o.constructor.name||"Record"}function I2(o,d){try{d.forEach(D2.bind(void 0,o))}catch(g){}}function D2(o,d){Object.defineProperty(o,d,{get:function(){return this.get(d)},set:function(g){zt(this.__ownerID,"Cannot set on an immutable record."),this.set(d,g)}})}n(st,cs);function st(o){return o==null?Qu():Gu(o)&&!p(o)?o:Qu().withMutations(function(d){var g=u(o);or(g.size),g.forEach(function(k){return d.add(k)})})}st.of=function(){return this(arguments)},st.fromKeys=function(o){return this(i(o).keySeq())},st.prototype.toString=function(){return this.__toString("Set {","}")},st.prototype.has=function(o){return this._map.has(o)},st.prototype.add=function(o){return Yu(this,this._map.set(o,!0))},st.prototype.remove=function(o){return Yu(this,this._map.remove(o))},st.prototype.clear=function(){return Yu(this,this._map.clear())},st.prototype.union=function(){var o=r.call(arguments,0);return o=o.filter(function(d){return d.size!==0}),o.length===0?this:this.size===0&&!this.__ownerID&&o.length===1?this.constructor(o[0]):this.withMutations(function(d){for(var g=0;g<o.length;g++)u(o[g]).forEach(function(k){return d.add(k)})})},st.prototype.intersect=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(g){return u(g)});var d=this;return this.withMutations(function(g){d.forEach(function(k){o.every(function(_){return _.includes(k)})||g.remove(k)})})},st.prototype.subtract=function(){var o=r.call(arguments,0);if(o.length===0)return this;o=o.map(function(g){return u(g)});var d=this;return this.withMutations(function(g){d.forEach(function(k){o.some(function(_){return _.includes(k)})&&g.remove(k)})})},st.prototype.merge=function(){return this.union.apply(this,arguments)},st.prototype.mergeWith=function(o){var d=r.call(arguments,1);return this.union.apply(this,d)},st.prototype.sort=function(o){return Ur(Ha(this,o))},st.prototype.sortBy=function(o,d){return Ur(Ha(this,d,o))},st.prototype.wasAltered=function(){return this._map.wasAltered()},st.prototype.__iterate=function(o,d){var g=this;return this._map.__iterate(function(k,_){return o(_,_,g)},d)},st.prototype.__iterator=function(o,d){return this._map.map(function(g,k){return k}).__iterator(o,d)},st.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var d=this._map.__ensureOwner(o);return o?this.__make(d,o):(this.__ownerID=o,this._map=d,this)};function Gu(o){return!!(o&&o[Np])}st.isSet=Gu;var Np="@@__IMMUTABLE_SET__@@",lr=st.prototype;lr[Np]=!0,lr[w]=lr.remove,lr.mergeDeep=lr.merge,lr.mergeDeepWith=lr.mergeWith,lr.withMutations=ze.withMutations,lr.asMutable=ze.asMutable,lr.asImmutable=ze.asImmutable,lr.__empty=Qu,lr.__make=Ip;function Yu(o,d){return o.__ownerID?(o.size=d.size,o._map=d,o):d===o._map?o:d.size===0?o.__empty():o.__make(d)}function Ip(o,d){var g=Object.create(lr);return g.size=o?o.size:0,g._map=o,g.__ownerID=d,g}var Dp;function Qu(){return Dp||(Dp=Ip(Fr()))}n(Ur,st);function Ur(o){return o==null?Ju():Mp(o)?o:Ju().withMutations(function(d){var g=u(o);or(g.size),g.forEach(function(k){return d.add(k)})})}Ur.of=function(){return this(arguments)},Ur.fromKeys=function(o){return this(i(o).keySeq())},Ur.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Mp(o){return Gu(o)&&p(o)}Ur.isOrderedSet=Mp;var gs=Ur.prototype;gs[E]=!0,gs.__empty=Ju,gs.__make=Pp;function Pp(o,d){var g=Object.create(gs);return g.size=o?o.size:0,g._map=o,g.__ownerID=d,g}var jp;function Ju(){return jp||(jp=Pp(hs()))}n(xt,Ra);function xt(o){return o==null?Xu():Lp(o)?o:Xu().unshiftAll(o)}xt.of=function(){return this(arguments)},xt.prototype.toString=function(){return this.__toString("Stack [","]")},xt.prototype.get=function(o,d){var g=this._head;for(o=U(this,o);g&&o--;)g=g.next;return g?g.value:d},xt.prototype.peek=function(){return this._head&&this._head.value},xt.prototype.push=function(){if(arguments.length===0)return this;for(var o=this.size+arguments.length,d=this._head,g=arguments.length-1;g>=0;g--)d={value:arguments[g],next:d};return this.__ownerID?(this.size=o,this._head=d,this.__hash=void 0,this.__altered=!0,this):Wi(o,d)},xt.prototype.pushAll=function(o){if(o=s(o),o.size===0)return this;or(o.size);var d=this.size,g=this._head;return o.reverse().forEach(function(k){d++,g={value:k,next:g}}),this.__ownerID?(this.size=d,this._head=g,this.__hash=void 0,this.__altered=!0,this):Wi(d,g)},xt.prototype.pop=function(){return this.slice(1)},xt.prototype.unshift=function(){return this.push.apply(this,arguments)},xt.prototype.unshiftAll=function(o){return this.pushAll(o)},xt.prototype.shift=function(){return this.pop.apply(this,arguments)},xt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Xu()},xt.prototype.slice=function(o,d){if(B(o,d,this.size))return this;var g=A(o,this.size),k=j(d,this.size);if(k!==this.size)return Ra.prototype.slice.call(this,o,d);for(var _=this.size-g,M=this._head;g--;)M=M.next;return this.__ownerID?(this.size=_,this._head=M,this.__hash=void 0,this.__altered=!0,this):Wi(_,M)},xt.prototype.__ensureOwner=function(o){return o===this.__ownerID?this:o?Wi(this.size,this._head,o,this.__hash):(this.__ownerID=o,this.__altered=!1,this)},xt.prototype.__iterate=function(o,d){if(d)return this.reverse().__iterate(o);for(var g=0,k=this._head;k&&o(k.value,g++,this)!==!1;)k=k.next;return g},xt.prototype.__iterator=function(o,d){if(d)return this.reverse().__iterator(o);var g=0,k=this._head;return new oe(function(){if(k){var _=k.value;return k=k.next,ge(o,g++,_)}return fe()})};function Lp(o){return!!(o&&o[Ap])}xt.isStack=Lp;var Ap="@@__IMMUTABLE_STACK__@@",Wa=xt.prototype;Wa[Ap]=!0,Wa.withMutations=ze.withMutations,Wa.asMutable=ze.asMutable,Wa.asImmutable=ze.asImmutable,Wa.wasAltered=ze.wasAltered;function Wi(o,d,g,k){var _=Object.create(Wa);return _.size=o,_._head=d,_.__ownerID=g,_.__hash=k,_.__altered=!1,_}var Op;function Xu(){return Op||(Op=Wi(0))}function Hr(o,d){var g=function(k){o.prototype[k]=d[k]};return Object.keys(d).forEach(g),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(d).forEach(g),o}a.Iterator=oe,Hr(a,{toArray:function(){or(this.size);var o=new Array(this.size||0);return this.valueSeq().__iterate(function(d,g){o[g]=d}),o},toIndexedSeq:function(){return new Fa(this)},toJS:function(){return this.toSeq().map(function(o){return o&&typeof o.toJS=="function"?o.toJS():o}).__toJS()},toJSON:function(){return this.toSeq().map(function(o){return o&&typeof o.toJSON=="function"?o.toJSON():o}).__toJS()},toKeyedSeq:function(){return new vr(this,!0)},toMap:function(){return qe(this.toKeyedSeq())},toObject:function(){or(this.size);var o={};return this.__iterate(function(d,g){o[g]=d}),o},toOrderedMap:function(){return mt(this.toKeyedSeq())},toOrderedSet:function(){return Ur(f(this)?this.valueSeq():this)},toSet:function(){return st(f(this)?this.valueSeq():this)},toSetSeq:function(){return new za(this)},toSeq:function(){return h(this)?this.toIndexedSeq():f(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return xt(f(this)?this.valueSeq():this)},toList:function(){return rt(f(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(o,d){return this.size===0?o+d:o+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+d},concat:function(){var o=r.call(arguments,0);return Ze(this,E2(this,o))},includes:function(o){return this.some(function(d){return Ue(d,o)})},entries:function(){return this.__iterator(W)},every:function(o,d){or(this.size);var g=!0;return this.__iterate(function(k,_,M){if(!o.call(d,k,_,M))return g=!1,!1}),g},filter:function(o,d){return Ze(this,yp(this,o,d,!0))},find:function(o,d,g){var k=this.findEntry(o,d);return k?k[1]:g},findEntry:function(o,d){var g;return this.__iterate(function(k,_,M){if(o.call(d,k,_,M))return g=[_,k],!1}),g},findLastEntry:function(o,d){return this.toSeq().reverse().findEntry(o,d)},forEach:function(o,d){return or(this.size),this.__iterate(d?o.bind(d):o)},join:function(o){or(this.size),o=o!==void 0?""+o:",";var d="",g=!0;return this.__iterate(function(k){g?g=!1:d+=o,d+=k!=null?k.toString():""}),d},keys:function(){return this.__iterator(L)},map:function(o,d){return Ze(this,vp(this,o,d))},reduce:function(o,d,g){or(this.size);var k,_;return arguments.length<2?_=!0:k=d,this.__iterate(function(M,$,V){_?(_=!1,k=M):k=o.call(g,k,M,$,V)}),k},reduceRight:function(o,d,g){var k=this.toKeyedSeq().reverse();return k.reduce.apply(k,arguments)},reverse:function(){return Ze(this,Hu(this,!0))},slice:function(o,d){return Ze(this,Wu(this,o,d,!0))},some:function(o,d){return!this.every(ys(o),d)},sort:function(o){return Ze(this,Ha(this,o))},values:function(){return this.__iterator(F)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(o,d){return K(o?this.toSeq().filter(o,d):this)},countBy:function(o,d){return S2(this,o,d)},equals:function(o){return Ot(this,o)},entrySeq:function(){var o=this;if(o._cache)return new Le(o._cache);var d=o.toSeq().map(P2).toIndexedSeq();return d.fromEntrySeq=function(){return o.toSeq()},d},filterNot:function(o,d){return this.filter(ys(o),d)},findLast:function(o,d,g){return this.toKeyedSeq().reverse().find(o,d,g)},first:function(){return this.find(H)},flatMap:function(o,d){return Ze(this,T2(this,o,d))},flatten:function(o){return Ze(this,xp(this,o,!0))},fromEntrySeq:function(){return new Ua(this)},get:function(o,d){return this.find(function(g,k){return Ue(k,o)},void 0,d)},getIn:function(o,d){for(var g=this,k=Ep(o),_;!(_=k.next()).done;){var M=_.value;if(g=g&&g.get?g.get(M,O):O,g===O)return d}return g},groupBy:function(o,d){return _2(this,o,d)},has:function(o){return this.get(o,O)!==O},hasIn:function(o){return this.getIn(o,O)!==O},isSubset:function(o){return o=typeof o.includes=="function"?o:a(o),this.every(function(d){return o.includes(d)})},isSuperset:function(o){return o=typeof o.isSubset=="function"?o:a(o),o.isSubset(this)},keySeq:function(){return this.toSeq().map(M2).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(o){return ps(this,o)},maxBy:function(o,d){return ps(this,d,o)},min:function(o){return ps(this,o?Rp(o):$p)},minBy:function(o,d){return ps(this,d?Rp(d):$p,o)},rest:function(){return this.slice(1)},skip:function(o){return this.slice(Math.max(0,o))},skipLast:function(o){return Ze(this,this.toSeq().reverse().skip(o).reverse())},skipWhile:function(o,d){return Ze(this,wp(this,o,d,!0))},skipUntil:function(o,d){return this.skipWhile(ys(o),d)},sortBy:function(o,d){return Ze(this,Ha(this,d,o))},take:function(o){return this.slice(0,Math.max(0,o))},takeLast:function(o){return Ze(this,this.toSeq().reverse().take(o).reverse())},takeWhile:function(o,d){return Ze(this,C2(this,o,d))},takeUntil:function(o,d){return this.takeWhile(ys(o),d)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=L2(this))}});var Rt=a.prototype;Rt[b]=!0,Rt[ce]=Rt.values,Rt.__toJS=Rt.toArray,Rt.__toStringMapper=Bp,Rt.inspect=Rt.toSource=function(){return this.toString()},Rt.chain=Rt.flatMap,Rt.contains=Rt.includes,function(){try{Object.defineProperty(Rt,"length",{get:function(){if(!a.noLengthWarning){var o;try{throw new Error}catch(d){o=d.stack}if(o.indexOf("_wrapObject")===-1)return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+o),this.size}}})}catch(o){}}(),Hr(i,{flip:function(){return Ze(this,gp(this))},findKey:function(o,d){var g=this.findEntry(o,d);return g&&g[0]},findLastKey:function(o,d){return this.toSeq().reverse().findKey(o,d)},keyOf:function(o){return this.findKey(function(d){return Ue(d,o)})},lastKeyOf:function(o){return this.findLastKey(function(d){return Ue(d,o)})},mapEntries:function(o,d){var g=this,k=0;return Ze(this,this.toSeq().map(function(_,M){return o.call(d,[M,_],k++,g)}).fromEntrySeq())},mapKeys:function(o,d){var g=this;return Ze(this,this.toSeq().flip().map(function(k,_){return o.call(d,k,_,g)}).flip())}});var vs=i.prototype;vs[S]=!0,vs[ce]=Rt.entries,vs.__toJS=Rt.toObject,vs.__toStringMapper=function(o,d){return JSON.stringify(d)+": "+Bp(o)},Hr(s,{toKeyedSeq:function(){return new vr(this,!1)},filter:function(o,d){return Ze(this,yp(this,o,d,!1))},findIndex:function(o,d){var g=this.findEntry(o,d);return g?g[0]:-1},indexOf:function(o){var d=this.toKeyedSeq().keyOf(o);return d===void 0?-1:d},lastIndexOf:function(o){var d=this.toKeyedSeq().reverse().keyOf(o);return d===void 0?-1:d},reverse:function(){return Ze(this,Hu(this,!1))},slice:function(o,d){return Ze(this,Wu(this,o,d,!1))},splice:function(o,d){var g=arguments.length;if(d=Math.max(d|0,0),g===0||g===2&&!d)return this;o=A(o,o<0?this.count():this.size);var k=this.slice(0,o);return Ze(this,g===1?k:k.concat(G(arguments,2),this.slice(o+d)))},findLastIndex:function(o,d){var g=this.toKeyedSeq().findLastKey(o,d);return g===void 0?-1:g},first:function(){return this.get(0)},flatten:function(o){return Ze(this,xp(this,o,!1))},get:function(o,d){return o=U(this,o),o<0||this.size===1/0||this.size!==void 0&&o>this.size?d:this.find(function(g,k){return k===o},void 0,d)},has:function(o){return o=U(this,o),o>=0&&(this.size!==void 0?this.size===1/0||o<this.size:this.indexOf(o)!==-1)},interpose:function(o){return Ze(this,N2(this,o))},interleave:function(){var o=[this].concat(G(arguments)),d=qu(this.toSeq(),ae.of,o),g=d.flatten(!0);return d.size&&(g.size=d.size*o.length),Ze(this,g)},last:function(){return this.get(-1)},skipWhile:function(o,d){return Ze(this,wp(this,o,d,!1))},zip:function(){var o=[this].concat(G(arguments));return Ze(this,qu(this,j2,o))},zipWith:function(o){var d=G(arguments);return d[0]=this,Ze(this,qu(this,o,d))}}),s.prototype[x]=!0,s.prototype[E]=!0,Hr(u,{get:function(o,d){return this.has(o)?o:d},includes:function(o){return this.has(o)},keySeq:function(){return this.valueSeq()}}),u.prototype.has=Rt.includes,Hr(ee,i.prototype),Hr(ae,s.prototype),Hr(le,u.prototype),Hr(Bi,i.prototype),Hr(Ra,s.prototype),Hr(cs,u.prototype);function M2(o,d){return d}function P2(o,d){return[d,o]}function ys(o){return function(){return!o.apply(this,arguments)}}function Rp(o){return function(){return-o.apply(this,arguments)}}function Bp(o){return typeof o=="string"?JSON.stringify(o):o}function j2(){return G(arguments)}function $p(o,d){return o<d?1:o>d?-1:0}function L2(o){if(o.size===1/0)return 0;var d=p(o),g=f(o),k=d?1:0,_=o.__iterate(g?d?function(M,$){k=31*k+Kp(ir(M),ir($))|0}:function(M,$){k=k+Kp(ir(M),ir($))|0}:d?function(M){k=31*k+ir(M)|0}:function(M){k=k+ir(M)|0});return A2(_,k)}function A2(o,d){return d=$i(d,3432918353),d=$i(d<<15|d>>>-15,461845907),d=$i(d<<13|d>>>-13,5),d=(d+3864292196|0)^o,d=$i(d^d>>>16,2246822507),d=$i(d^d>>>13,3266489909),d=Nu(d^d>>>16),d}function Kp(o,d){return o^d+2654435769+(o<<6)+(o>>2)|0}var O2={Iterable:a,Seq:se,Collection:Nn,Map:qe,OrderedMap:mt,List:rt,Stack:xt,Set:st,OrderedSet:Ur,Record:sr,Range:wt,Repeat:Ae,is:Ue,fromJS:Oe};return O2})})(K1);var Ge=K1.exports,eS=Ge,tS=eS.OrderedMap,rS={createFromArray:function(t){return tS(t.map(function(r){return[r.getKey(),r]}))}},ts=rS;function nS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Sh=Ge,of=Sh.Map,sf=Sh.OrderedSet,aS=Sh.Record,F1=sf(),z1={style:F1,entity:null},iS=aS(z1),_h=function(e){nS(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getStyle=function(){return this.get("style")},r.getEntity=function(){return this.get("entity")},r.hasStyle=function(a){return this.getStyle().includes(a)},t.applyStyle=function(a,i){var s=a.set("style",a.getStyle().add(i));return t.create(s)},t.removeStyle=function(a,i){var s=a.set("style",a.getStyle().remove(i));return t.create(s)},t.applyEntity=function(a,i){var s=a.getEntity()===i?a:a.set("entity",i);return t.create(s)},t.create=function(a){if(!a)return Ch;var i={style:F1,entity:null},s=of(i).merge(a),u=Nc.get(s);if(u)return u;var c=new t(s);return Nc=Nc.set(s,c),c},t.fromJS=function(a){var i=a.style,s=a.entity;return new t({style:Array.isArray(i)?sf(i):i,entity:Array.isArray(s)?sf(s):s})},t}(iS),Ch=new _h,Nc=of([[of(z1),Ch]]);_h.EMPTY=Ch;var Dr=_h;function oS(e,t,r,n){if(e.size){var a=0;e.reduce(function(i,s,u){return t(i,s)||(r(i)&&n(a,u),a=u),s}),r(e.last())&&n(a,e.count())}}var rs=oS;function sS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var lS=Dr,ug=rs,ns=Ge,U1=ns.List,uS=ns.Map,cS=ns.OrderedSet,dS=ns.Record,fS=ns.Repeat,hS=cS(),pS={key:"",type:"unstyled",text:"",characterList:U1(),depth:0,data:uS()},mS=dS(pS),gS=function(t){if(!t)return t;var r=t.characterList,n=t.text;return n&&!r&&(t.characterList=U1(fS(lS.EMPTY,n.length))),t},vS=function(e){sS(t,e);function t(n){return e.call(this,gS(n))||this}var r=t.prototype;return r.getKey=function(){return this.get("key")},r.getType=function(){return this.get("type")},r.getText=function(){return this.get("text")},r.getCharacterList=function(){return this.get("characterList")},r.getLength=function(){return this.getText().length},r.getDepth=function(){return this.get("depth")},r.getData=function(){return this.get("data")},r.getInlineStyleAt=function(a){var i=this.getCharacterList().get(a);return i?i.getStyle():hS},r.getEntityAt=function(a){var i=this.getCharacterList().get(a);return i?i.getEntity():null},r.findStyleRanges=function(a,i){ug(this.getCharacterList(),yS,a,i)},r.findEntityRanges=function(a,i){ug(this.getCharacterList(),wS,a,i)},t}(mS);function yS(e,t){return e.getStyle()===t.getStyle()}function wS(e,t){return e.getEntity()===t.getEntity()}var Da=vS;function xS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var kS=Dr,cg=rs,as=Ge,lf=as.List,bS=as.Map,SS=as.OrderedSet,_S=as.Record,CS=as.Repeat,ES=SS(),dg={parent:null,characterList:lf(),data:bS(),depth:0,key:"",text:"",type:"unstyled",children:lf(),prevSibling:null,nextSibling:null},TS=function(t,r){return t.getStyle()===r.getStyle()},NS=function(t,r){return t.getEntity()===r.getEntity()},IS=function(t){if(!t)return t;var r=t.characterList,n=t.text;return n&&!r&&(t.characterList=lf(CS(kS.EMPTY,n.length))),t},DS=function(e){xS(t,e);function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dg;return e.call(this,IS(n))||this}var r=t.prototype;return r.getKey=function(){return this.get("key")},r.getType=function(){return this.get("type")},r.getText=function(){return this.get("text")},r.getCharacterList=function(){return this.get("characterList")},r.getLength=function(){return this.getText().length},r.getDepth=function(){return this.get("depth")},r.getData=function(){return this.get("data")},r.getInlineStyleAt=function(a){var i=this.getCharacterList().get(a);return i?i.getStyle():ES},r.getEntityAt=function(a){var i=this.getCharacterList().get(a);return i?i.getEntity():null},r.getChildKeys=function(){return this.get("children")},r.getParentKey=function(){return this.get("parent")},r.getPrevSiblingKey=function(){return this.get("prevSibling")},r.getNextSiblingKey=function(){return this.get("nextSibling")},r.findStyleRanges=function(a,i){cg(this.getCharacterList(),TS,a,i)},r.findEntityRanges=function(a,i){cg(this.getCharacterList(),NS,a,i)},t}(_S(dg)),Mr=DS,fg=Dr,MS=Ge,PS=MS.Map,jS={add:function(t,r,n){return hg(t,r,n,!0)},remove:function(t,r,n){return hg(t,r,n,!1)}};function hg(e,t,r,n){var a=e.getBlockMap(),i=t.getStartKey(),s=t.getStartOffset(),u=t.getEndKey(),c=t.getEndOffset(),f=a.skipUntil(function(h,m){return m===i}).takeUntil(function(h,m){return m===u}).concat(PS([[u,a.get(u)]])).map(function(h,m){var p,b;i===u?(p=s,b=c):(p=m===i?s:0,b=m===u?c:h.getLength());for(var S=h.getCharacterList(),x;p<b;)x=S.get(p),S=S.set(p,n?fg.applyStyle(x,r):fg.removeStyle(x,r)),p++;return h.set("characterList",S)});return e.merge({blockMap:a.merge(f),selectionBefore:t,selectionAfter:t})}var LS=jS,AS=Dr;function OS(e,t,r,n){for(var a=t,i=e.getCharacterList();a<r;)i=i.set(a,AS.applyEntity(i.get(a),n)),a++;return e.set("characterList",i)}var RS=OS,BS=RS,$S=Ge;function KS(e,t,r){var n=e.getBlockMap(),a=t.getStartKey(),i=t.getStartOffset(),s=t.getEndKey(),u=t.getEndOffset(),c=n.skipUntil(function(f,h){return h===a}).takeUntil(function(f,h){return h===s}).toOrderedMap().merge($S.OrderedMap([[s,n.get(s)]])).map(function(f,h){var m=h===a?i:0,p=h===s?u:f.getLength();return BS(f,m,p,r)});return e.merge({blockMap:n.merge(c),selectionBefore:t,selectionAfter:t})}var FS=KS,zS={getRemovalRange:function(t,r,n,a,i){var s=n.split(" ");s=s.map(function(E,w){if(i==="forward"){if(w>0)return" "+E}else if(w<s.length-1)return E+" ";return E});for(var u=a,c,f,h=null,m=null,p=0;p<s.length;p++){if(f=s[p],c=u+f.length,t<c&&u<r)h!==null||(h=u),m=c;else if(h!==null)break;u=c}var b=a+n.length,S=h===a,x=m===b;return(!S&&x||S&&!x)&&(i==="forward"?m!==b&&m++:h!==a&&h--),{start:h,end:m}}},US=zS;function HS(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(!e){var i;if(t===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;i=new Error(t.replace(/%s/g,function(){return String(n[s++])})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var Ye=HS,WS=Ye;function qS(e,t){var r=[];return e.findEntityRanges(function(n){return n.getEntity()===t},function(n,a){r.push({start:n,end:a})}),r.length||WS(!1),r}var VS=qS,GS=US,YS=VS,QS=Ye;function JS(e,t,r,n,a){var i=n.getStartOffset(),s=n.getEndOffset(),u=t.getEntityAt(i),c=r.getEntityAt(s-1);if(!u&&!c)return n;var f=n;if(u&&u===c)f=to(e,t,f,a,u,!0,!0);else if(u&&c){var h=to(e,t,f,a,u,!1,!0),m=to(e,r,f,a,c,!1,!1);f=f.merge({anchorOffset:h.getAnchorOffset(),focusOffset:m.getFocusOffset(),isBackward:!1})}else if(u){var p=to(e,t,f,a,u,!1,!0);f=f.merge({anchorOffset:p.getStartOffset(),isBackward:!1})}else if(c){var b=to(e,r,f,a,c,!1,!1);f=f.merge({focusOffset:b.getEndOffset(),isBackward:!1})}return f}function to(e,t,r,n,a,i,s){var u=r.getStartOffset(),c=r.getEndOffset(),f=e.__get(a),h=f.getMutability(),m=s?u:c;if(h==="MUTABLE")return r;var p=YS(t,a).filter(function(x){return m<=x.end&&m>=x.start});p.length!=1&&QS(!1);var b=p[0];if(h==="IMMUTABLE")return r.merge({anchorOffset:b.start,focusOffset:b.end,isBackward:!1});i||(s?c=b.end:u=b.start);var S=GS.getRemovalRange(u,c,t.getText().slice(b.start,b.end),b.start,n);return r.merge({anchorOffset:S.start,focusOffset:S.end,isBackward:!1})}var XS=JS,pg={},ZS=Math.pow(2,24);function e_(){for(var e;e===void 0||pg.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*ZS).toString(32);return pg[e]=!0,e}var sn=e_,t_=Mr,H1=sn,r_=Ge,W1=r_.OrderedMap,n_=function(t){var r={},n;return W1(t.withMutations(function(a){a.forEach(function(i,s){var u=i.getKey(),c=i.getNextSiblingKey(),f=i.getPrevSiblingKey(),h=i.getChildKeys(),m=i.getParentKey(),p=H1();if(r[u]=p,c){var b=a.get(c);b?a.setIn([c,"prevSibling"],p):a.setIn([u,"nextSibling"],null)}if(f){var S=a.get(f);S?a.setIn([f,"nextSibling"],p):a.setIn([u,"prevSibling"],null)}if(m&&a.get(m)){var x=a.get(m),E=x.getChildKeys();a.setIn([m,"children"],E.set(E.indexOf(i.getKey()),p))}else a.setIn([u,"parent"],null),n&&(a.setIn([n.getKey(),"nextSibling"],p),a.setIn([u,"prevSibling"],r[n.getKey()])),n=a.get(u);h.forEach(function(w){var v=a.get(w);v?a.setIn([w,"parent"],p):a.setIn([u,"children"],i.getChildKeys().filter(function(y){return y!==w}))})})}).toArray().map(function(a){return[r[a.getKey()],a.set("key",r[a.getKey()])]}))},a_=function(t){return W1(t.toArray().map(function(r){var n=H1();return[n,r.set("key",n)]}))},i_=function(t){var r=t.first()instanceof t_;return r?n_(t):a_(t)},q1=i_,o_=Dr,s_=rs,l_=Ye;function u_(e,t){var r=e.getBlockMap(),n=e.getEntityMap(),a={},i=t.getStartKey(),s=t.getStartOffset(),u=r.get(i),c=mg(n,u,s);c!==u&&(a[i]=c);var f=t.getEndKey(),h=t.getEndOffset(),m=r.get(f);i===f&&(m=c);var p=mg(n,m,h);return p!==m&&(a[f]=p),Object.keys(a).length?e.merge({blockMap:r.merge(a),selectionAfter:t}):e.set("selectionAfter",t)}function c_(e,t,r){var n;return s_(e,function(a,i){return a.getEntity()===i.getEntity()},function(a){return a.getEntity()===t},function(a,i){a<=r&&i>=r&&(n={start:a,end:i})}),typeof n!="object"&&l_(!1),n}function mg(e,t,r){var n=t.getCharacterList(),a=r>0?n.get(r-1):void 0,i=r<n.count()?n.get(r):void 0,s=a?a.getEntity():void 0,u=i?i.getEntity():void 0;if(u&&u===s){var c=e.__get(u);if(c.getMutability()!=="MUTABLE"){for(var f=c_(n,u,r),h=f.start,m=f.end,p;h<m;)p=n.get(h),n=n.set(h,o_.applyEntity(p,null)),h++;return t.set("characterList",n)}}return t}var V1=u_,d_=q1,f_=V1,h_=function(t,r){var n=r.getStartKey(),a=r.getStartOffset(),i=r.getEndKey(),s=r.getEndOffset(),u=f_(t,r),c=u.getBlockMap(),f=c.keySeq(),h=f.indexOf(n),m=f.indexOf(i)+1;return d_(c.slice(h,m).map(function(p,b){var S=p.getText(),x=p.getCharacterList();return n===i?p.merge({text:S.slice(a,s),characterList:x.slice(a,s)}):b===n?p.merge({text:S.slice(a),characterList:x.slice(a)}):b===i?p.merge({text:S.slice(0,s),characterList:x.slice(0,s)}):p}))},pu=h_;function p_(e,t,r){var n=e;if(r===n.count())t.forEach(function(s){n=n.push(s)});else if(r===0)t.reverse().forEach(function(s){n=n.unshift(s)});else{var a=n.slice(0,r),i=n.slice(r);n=a.concat(t,i).toList()}return n}var G1=p_,m_=ts,Y1=Mr,g_=Ge,v_=G1,gg=Ye,y_=q1,w_=g_.List,x_=function(t,r,n,a,i,s){var u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"REPLACE_WITH_NEW_DATA",c=n.get(i),f=c.getText(),h=c.getCharacterList(),m=i,p=s+a.getText().length,b=null;switch(u){case"MERGE_OLD_DATA_TO_NEW_DATA":b=a.getData().merge(c.getData());break;case"REPLACE_WITH_NEW_DATA":b=a.getData();break}var S=c.getType();f&&S==="unstyled"&&(S=a.getType());var x=c.merge({text:f.slice(0,s)+a.getText()+f.slice(s),characterList:v_(h,a.getCharacterList(),s),type:S,data:b});return t.merge({blockMap:n.set(i,x),selectionBefore:r,selectionAfter:r.merge({anchorKey:m,anchorOffset:p,focusKey:m,focusOffset:p,isBackward:!1})})},k_=function(t,r,n){var a=t.getText(),i=t.getCharacterList(),s=a.slice(0,r),u=i.slice(0,r),c=n.first();return t.merge({text:s+c.getText(),characterList:u.concat(c.getCharacterList()),type:s?t.getType():c.getType(),data:c.getData()})},b_=function(t,r,n){var a=t.getText(),i=t.getCharacterList(),s=a.length,u=a.slice(r,s),c=i.slice(r,s),f=n.last();return f.merge({text:f.getText()+u,characterList:f.getCharacterList().concat(c),data:f.getData()})},S_=function(t,r){var n=t.getKey(),a=t,i=[];for(r.get(n)&&i.push(n);a&&a.getNextSiblingKey();){var s=a.getNextSiblingKey();if(!s)break;i.push(s),a=r.get(s)}return i},__=function(t,r,n,a){return t.withMutations(function(i){var s=n.getKey(),u=a.getKey(),c=n.getNextSiblingKey(),f=n.getParentKey(),h=S_(a,t),m=h[h.length-1];if(i.get(u)?(i.setIn([s,"nextSibling"],u),i.setIn([u,"prevSibling"],s)):(i.setIn([s,"nextSibling"],a.getNextSiblingKey()),i.setIn([a.getNextSiblingKey(),"prevSibling"],s)),i.setIn([m,"nextSibling"],c),c&&i.setIn([c,"prevSibling"],m),h.forEach(function(w){return i.setIn([w,"parent"],f)}),f){var p=t.get(f),b=p.getChildKeys(),S=b.indexOf(s),x=S+1,E=b.toArray();E.splice.apply(E,[x,0].concat(h)),i.setIn([f,"children"],w_(E))}})},C_=function(t,r,n,a,i,s){var u=n.first()instanceof Y1,c=[],f=a.size,h=n.get(i),m=a.first(),p=a.last(),b=p.getLength(),S=p.getKey(),x=u&&(!h.getChildKeys().isEmpty()||!m.getChildKeys().isEmpty());n.forEach(function(w,v){if(v!==i){c.push(w);return}x?c.push(w):c.push(k_(w,s,a)),a.slice(x?0:1,f-1).forEach(function(y){return c.push(y)}),c.push(b_(w,s,a))});var E=m_.createFromArray(c);return u&&(E=__(E,n,h,m)),t.merge({blockMap:E,selectionBefore:r,selectionAfter:r.merge({anchorKey:S,anchorOffset:b,focusKey:S,focusOffset:b,isBackward:!1})})},E_=function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA";r.isCollapsed()||gg(!1);var i=t.getBlockMap(),s=y_(n),u=r.getStartKey(),c=r.getStartOffset(),f=i.get(u);return f instanceof Y1&&(f.getChildKeys().isEmpty()||gg(!1)),s.size===1?x_(t,r,i,s.first(),u,c,a):C_(t,r,i,s,u,c)},T_=E_,N_=Ge,I_=G1,D_=Ye,M_=N_.Repeat;function P_(e,t,r,n){t.isCollapsed()||D_(!1);var a=null;if(r!=null&&(a=r.length),a==null||a===0)return e;var i=e.getBlockMap(),s=t.getStartKey(),u=t.getStartOffset(),c=i.get(s),f=c.getText(),h=c.merge({text:f.slice(0,u)+r+f.slice(u,c.getLength()),characterList:I_(c.getCharacterList(),M_(n,a).toList(),u)}),m=u+a;return e.merge({blockMap:i.set(s,h),selectionAfter:t.merge({anchorOffset:m,focusOffset:m})})}var j_=P_,L_=Ge,A_=L_.Map;function O_(e,t,r){var n=t.getStartKey(),a=t.getEndKey(),i=e.getBlockMap(),s=i.toSeq().skipUntil(function(u,c){return c===n}).takeUntil(function(u,c){return c===a}).concat(A_([[a,i.get(a)]])).map(r);return e.merge({blockMap:i.merge(s),selectionBefore:t,selectionAfter:t})}var Q1=O_,R_=Mr,B_=function(t,r){var n=t instanceof R_;if(!n)return null;var a=t.getNextSiblingKey();if(a)return a;var i=t.getParentKey();if(!i)return null;for(var s=r.get(i);s&&!s.getNextSiblingKey();){var u=s.getParentKey();s=u?r.get(u):null}return s?s.getNextSiblingKey():null},J1=B_,$_=Mr,uf=J1,X1=Ge;X1.List;var vg=X1.Map,Yt=function(t,r,n){if(t){var a=r.get(t);a&&r.set(t,n(a))}},Vl=function(t,r){var n=[];if(!t)return n;for(var a=r.get(t);a&&a.getParentKey();){var i=a.getParentKey();i&&n.push(i),a=i?r.get(i):null}return n},K_=function(t,r){var n=[];if(!t)return n;for(var a=uf(t,r);a&&r.get(a);){var i=r.get(a);n.push(a),a=i.getParentKey()?uf(i,r):null}return n},Ya=function(t,r,n){if(!t)return null;for(var a=n.get(t.getKey()).getNextSiblingKey();a&&!r.get(a);)a=n.get(a).getNextSiblingKey()||null;return a},Qa=function(t,r,n){if(!t)return null;for(var a=n.get(t.getKey()).getPrevSiblingKey();a&&!r.get(a);)a=n.get(a).getPrevSiblingKey()||null;return a},F_=function(t,r,n,a){return t.withMutations(function(i){if(Yt(r.getKey(),i,function(h){return h.merge({nextSibling:Ya(h,i,a),prevSibling:Qa(h,i,a)})}),Yt(n.getKey(),i,function(h){return h.merge({nextSibling:Ya(h,i,a),prevSibling:Qa(h,i,a)})}),Vl(r.getKey(),a).forEach(function(h){return Yt(h,i,function(m){return m.merge({children:m.getChildKeys().filter(function(p){return i.get(p)}),nextSibling:Ya(m,i,a),prevSibling:Qa(m,i,a)})})}),Yt(r.getNextSiblingKey(),i,function(h){return h.merge({prevSibling:r.getPrevSiblingKey()})}),Yt(r.getPrevSiblingKey(),i,function(h){return h.merge({nextSibling:Ya(h,i,a)})}),Yt(n.getNextSiblingKey(),i,function(h){return h.merge({prevSibling:Qa(h,i,a)})}),Yt(n.getPrevSiblingKey(),i,function(h){return h.merge({nextSibling:n.getNextSiblingKey()})}),Vl(n.getKey(),a).forEach(function(h){Yt(h,i,function(m){return m.merge({children:m.getChildKeys().filter(function(p){return i.get(p)}),nextSibling:Ya(m,i,a),prevSibling:Qa(m,i,a)})})}),K_(n,a).forEach(function(h){return Yt(h,i,function(m){return m.merge({nextSibling:Ya(m,i,a),prevSibling:Qa(m,i,a)})})}),t.get(r.getKey())==null&&t.get(n.getKey())!=null&&n.getParentKey()===r.getKey()&&n.getPrevSiblingKey()==null){var s=r.getPrevSiblingKey();Yt(n.getKey(),i,function(h){return h.merge({prevSibling:s})}),Yt(s,i,function(h){return h.merge({nextSibling:n.getKey()})});var u=s?t.get(s):null,c=u?u.getParentKey():null;if(r.getChildKeys().forEach(function(h){Yt(h,i,function(m){return m.merge({parent:c})})}),c!=null){var f=t.get(c);Yt(c,i,function(h){return h.merge({children:f.getChildKeys().concat(r.getChildKeys())})})}Yt(r.getChildKeys().find(function(h){var m=t.get(h);return m.getNextSiblingKey()===null}),i,function(h){return h.merge({nextSibling:r.getNextSiblingKey()})})}})},z_=function(t,r){if(r.isCollapsed())return t;var n=t.getBlockMap(),a=r.getStartKey(),i=r.getStartOffset(),s=r.getEndKey(),u=r.getEndOffset(),c=n.get(a),f=n.get(s),h=c instanceof $_,m=[];if(h){var p=f.getChildKeys(),b=Vl(s,n);f.getNextSiblingKey()&&(m=m.concat(b)),p.isEmpty()||(m=m.concat(b.concat([s]))),m=m.concat(Vl(uf(f,n),n))}var S;c===f?S=U_(c.getCharacterList(),i,u):S=c.getCharacterList().slice(0,i).concat(f.getCharacterList().slice(u));var x=c.merge({text:c.getText().slice(0,i)+f.getText().slice(u),characterList:S}),E=h&&i===0&&u===0&&f.getParentKey()===a&&f.getPrevSiblingKey()==null,w=E?vg([[a,null]]):n.toSeq().skipUntil(function(y,C){return C===a}).takeUntil(function(y,C){return C===s}).filter(function(y,C){return m.indexOf(C)===-1}).concat(vg([[s,null]])).map(function(y,C){return C===a?x:null}),v=n.merge(w).filter(function(y){return!!y});return h&&c!==f&&(v=F_(v,c,f,n)),t.merge({blockMap:v,selectionBefore:r,selectionAfter:r.merge({anchorKey:a,anchorOffset:i,focusKey:a,focusOffset:i,isBackward:!1})})},U_=function(t,r,n){if(r===0)for(;r<n;)t=t.shift(),r++;else if(n===t.count())for(;n>r;)t=t.pop(),n--;else{var a=t.slice(0,r),i=t.slice(n);t=a.concat(i).toList()}return t},H_=z_,W_=Mr,q_=sn,Z1=Ge,yg=Ye,V_=Q1,G_=Z1.List,Y_=Z1.Map,Ks=function(t,r,n){if(t){var a=r.get(t);a&&r.set(t,n(a))}},Q_=function(t,r,n){return t.withMutations(function(a){var i=r.getKey(),s=n.getKey();Ks(r.getParentKey(),a,function(u){var c=u.getChildKeys(),f=c.indexOf(i)+1,h=c.toArray();return h.splice(f,0,s),u.merge({children:G_(h)})}),Ks(r.getNextSiblingKey(),a,function(u){return u.merge({prevSibling:s})}),Ks(i,a,function(u){return u.merge({nextSibling:s})}),Ks(s,a,function(u){return u.merge({prevSibling:i})})})},J_=function(t,r){r.isCollapsed()||yg(!1);var n=r.getAnchorKey(),a=t.getBlockMap(),i=a.get(n),s=i.getText();if(!s){var u=i.getType();if(u==="unordered-list-item"||u==="ordered-list-item")return V_(t,r,function(w){return w.merge({type:"unstyled",depth:0})})}var c=r.getAnchorOffset(),f=i.getCharacterList(),h=q_(),m=i instanceof W_,p=i.merge({text:s.slice(0,c),characterList:f.slice(0,c)}),b=p.merge({key:h,text:s.slice(c),characterList:f.slice(c),data:Y_()}),S=a.toSeq().takeUntil(function(w){return w===i}),x=a.toSeq().skipUntil(function(w){return w===i}).rest(),E=S.concat([[n,p],[h,b]],x).toOrderedMap();return m&&(i.getChildKeys().isEmpty()||yg(!1),E=Q_(E,p,b)),t.merge({blockMap:E,selectionBefore:r,selectionAfter:r.merge({anchorKey:h,anchorOffset:0,focusKey:h,focusOffset:0,isBackward:!1})})},X_=J_,Z_=Dr,wg=LS,eC=FS,tC=XS,rC=pu,nC=Ge,aC=T_,iC=j_,oC=Ye,Ic=Q1,ro=V1,no=H_,sC=X_,lC=nC.OrderedSet,vl={replaceText:function(t,r,n,a,i){var s=ro(t,r),u=no(s,r),c=Z_.create({style:a||lC(),entity:i||null});return iC(u,u.getSelectionAfter(),n,c)},insertText:function(t,r,n,a,i){return r.isCollapsed()||oC(!1),vl.replaceText(t,r,n,a,i)},moveText:function(t,r,n){var a=rC(t,r),i=vl.removeRange(t,r,"backward");return vl.replaceWithFragment(i,n,a)},replaceWithFragment:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"REPLACE_WITH_NEW_DATA",i=ro(t,r),s=no(i,r);return aC(s,s.getSelectionAfter(),n,a)},removeRange:function(t,r,n){var a,i,s,u;r.getIsBackward()&&(r=r.merge({anchorKey:r.getFocusKey(),anchorOffset:r.getFocusOffset(),focusKey:r.getAnchorKey(),focusOffset:r.getAnchorOffset(),isBackward:!1})),a=r.getAnchorKey(),i=r.getFocusKey(),s=t.getBlockForKey(a),u=t.getBlockForKey(i);var c=r.getStartOffset(),f=r.getEndOffset(),h=s.getEntityAt(c),m=u.getEntityAt(f-1);if(a===i&&h&&h===m){var p=tC(t.getEntityMap(),s,u,r,n);return no(t,p)}var b=ro(t,r);return no(b,r)},splitBlock:function(t,r){var n=ro(t,r),a=no(n,r);return sC(a,a.getSelectionAfter())},applyInlineStyle:function(t,r,n){return wg.add(t,r,n)},removeInlineStyle:function(t,r,n){return wg.remove(t,r,n)},setBlockType:function(t,r,n){return Ic(t,r,function(a){return a.merge({type:n,depth:0})})},setBlockData:function(t,r,n){return Ic(t,r,function(a){return a.merge({data:n})})},mergeBlockData:function(t,r,n){return Ic(t,r,function(a){return a.merge({data:a.getData().merge(n)})})},applyEntity:function(t,r,n){var a=ro(t,r);return eC(a,r,n)}},rr=vl;function uC(e){return Object.keys(e).map(function(t){return e[t]})}var ew=uC;function cC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){dC(e,a,r[a])})}return e}function dC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fC(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var tw=rs,hC=ew,Eh=Ge,ti=Eh.List,pC=Eh.Repeat,rw=Eh.Record,nw=function(){return!0},mC={start:null,end:null},cf=rw(mC),gC={start:null,end:null,decoratorKey:null,leaves:null},Dc=rw(gC),vC={generate:function(t,r,n){var a=r.getLength();if(!a)return ti.of(new Dc({start:0,end:0,decoratorKey:null,leaves:ti.of(new cf({start:0,end:0}))}));var i=[],s=n?n.getDecorations(r,t):ti(pC(null,a)),u=r.getCharacterList();return tw(s,aw,nw,function(c,f){i.push(new Dc({start:c,end:f,decoratorKey:s.get(c),leaves:yC(u.slice(c,f).toList(),c)}))}),ti(i)},fromJS:function(t){var r=t.leaves,n=fC(t,["leaves"]);return new Dc(cC({},n,{leaves:r!=null?ti(Array.isArray(r)?r:hC(r)).map(function(a){return cf(a)}):null}))}};function yC(e,t){var r=[],n=e.map(function(a){return a.getStyle()}).toList();return tw(n,aw,nw,function(a,i){r.push(new cf({start:a+t,end:i+t}))}),ti(r)}function aw(e,t){return e===t}var wC=vC;function xC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var kC=Ge,bC=kC.Record,SC=bC({type:"TOKEN",mutability:"IMMUTABLE",data:Object}),_C=function(e){xC(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getType=function(){return this.get("type")},r.getMutability=function(){return this.get("mutability")},r.getData=function(){return this.get("data")},t}(SC),iw=_C;function CC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)})}var EC=CC;function TC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){NC(e,a,r[a])})}return e}function NC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IC=iw,DC=Ge,MC=Ye,df=EC,PC=DC.Map,dn=PC(),ao=df();function Ja(e,t){console.warn("WARNING: "+e+` will be deprecated soon!
Please use "`+t+'" instead.')}var Yr={getLastCreatedEntityKey:function(){return Ja("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),Yr.__getLastCreatedEntityKey()},create:function(t,r,n){return Ja("DraftEntity.create","contentState.createEntity"),Yr.__create(t,r,n)},add:function(t){return Ja("DraftEntity.add","contentState.addEntity"),Yr.__add(t)},get:function(t){return Ja("DraftEntity.get","contentState.getEntity"),Yr.__get(t)},__getAll:function(){return dn},__loadWithEntities:function(t){dn=t,ao=df()},mergeData:function(t,r){return Ja("DraftEntity.mergeData","contentState.mergeEntityData"),Yr.__mergeData(t,r)},replaceData:function(t,r){return Ja("DraftEntity.replaceData","contentState.replaceEntityData"),Yr.__replaceData(t,r)},__getLastCreatedEntityKey:function(){return ao},__create:function(t,r,n){return Yr.__add(new IC({type:t,mutability:r,data:n||{}}))},__add:function(t){return ao=df(),dn=dn.set(ao,t),ao},__get:function(t){var r=dn.get(t);return r||MC(!1),r},__mergeData:function(t,r){var n=Yr.__get(t),a=TC({},n.getData(),r),i=n.set("data",a);return dn=dn.set(t,i),i},__replaceData:function(t,r){var n=Yr.__get(t),a=n.set("data",r);return dn=dn.set(t,a),a}},mu=Yr;function jC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var LC=Ge,AC=LC.Record,OC={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1},RC=AC(OC),BC=function(e){jC(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},r.getAnchorKey=function(){return this.get("anchorKey")},r.getAnchorOffset=function(){return this.get("anchorOffset")},r.getFocusKey=function(){return this.get("focusKey")},r.getFocusOffset=function(){return this.get("focusOffset")},r.getIsBackward=function(){return this.get("isBackward")},r.getHasFocus=function(){return this.get("hasFocus")},r.hasEdgeWithin=function(a,i,s){var u=this.getAnchorKey(),c=this.getFocusKey();if(u===c&&u===a){var f=this.getStartOffset(),h=this.getEndOffset();return i<=f&&f<=s||i<=h&&h<=s}if(a!==u&&a!==c)return!1;var m=a===u?this.getAnchorOffset():this.getFocusOffset();return i<=m&&s>=m},r.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},r.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},r.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},r.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},r.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},t.createEmpty=function(a){return new t({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})},t}(RC),gu=BC,oa=function(e){return typeof window!="undefined"&&window.__DRAFT_GKX?!!window.__DRAFT_GKX[e]:!1},$C=new RegExp("\r","g");function KC(e){return e.replace($C,"")}var ow=KC;function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){FC(e,a,r[a])})}return e}function FC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var UC=ts,kg=Dr,HC=Da,WC=Mr,Vr=mu,Fs=gu,qC=sn,VC=ew,GC=oa,is=Ge,YC=ow,bg=is.List,QC=is.Record,JC=is.Repeat,XC=is.Map,ZC=is.OrderedMap,e3={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null},t3=QC(e3),Sg=GC("draft_tree_data_support")?WC:HC,r3=function(e){zC(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getEntityMap=function(){return Vr},r.getBlockMap=function(){return this.get("blockMap")},r.getSelectionBefore=function(){return this.get("selectionBefore")},r.getSelectionAfter=function(){return this.get("selectionAfter")},r.getBlockForKey=function(a){var i=this.getBlockMap().get(a);return i},r.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(i){return i===a}).skip(1).first()},r.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(i){return i===a}).skip(1).first()},r.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(i,s){return s===a}).skip(1).first()},r.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(i,s){return s===a}).skip(1).first()},r.getBlocksAsArray=function(){return this.getBlockMap().toArray()},r.getFirstBlock=function(){return this.getBlockMap().first()},r.getLastBlock=function(){return this.getBlockMap().last()},r.getPlainText=function(a){return this.getBlockMap().map(function(i){return i?i.getText():""}).join(a||`
`)},r.getLastCreatedEntityKey=function(){return Vr.__getLastCreatedEntityKey()},r.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0},r.createEntity=function(a,i,s){return Vr.__create(a,i,s),this},r.mergeEntityData=function(a,i){return Vr.__mergeData(a,i),this},r.replaceEntityData=function(a,i){return Vr.__replaceData(a,i),this},r.addEntity=function(a){return Vr.__add(a),this},r.getEntity=function(a){return Vr.__get(a)},r.getAllEntities=function(){return Vr.__getAll()},r.loadWithEntities=function(a){return Vr.__loadWithEntities(a)},t.createFromBlockArray=function(a,i){var s=Array.isArray(a)?a:a.contentBlocks,u=UC.createFromArray(s),c=u.isEmpty()?new Fs:Fs.createEmpty(u.first().getKey());return new t({blockMap:u,entityMap:i||Vr,selectionBefore:c,selectionAfter:c})},t.createFromText=function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:/\r\n?|\n/g,s=a.split(i),u=s.map(function(c){return c=YC(c),new Sg({key:qC(),text:c,type:"unstyled",characterList:bg(JC(kg.EMPTY,c.length))})});return t.createFromBlockArray(u)},t.fromJS=function(a){return new t(xg({},a,{blockMap:ZC(a.blockMap).map(t.createContentBlockFromJS),selectionBefore:new Fs(a.selectionBefore),selectionAfter:new Fs(a.selectionAfter)}))},t.createContentBlockFromJS=function(a){var i=a.characterList;return new Sg(xg({},a,{data:XC(a.data),characterList:i!=null?bg((Array.isArray(i)?i:VC(i)).map(function(s){return kg.fromJS(s)})):void 0}))},t}(t3),Th=r3,Gl=Ye,n3="NEUTRAL",vu="LTR",sw="RTL",yl=null;function Yl(e){return e===vu||e===sw}function lw(e){return Yl(e)||Gl(!1),e===vu?"ltr":"rtl"}function a3(e,t){return Yl(e)||Gl(!1),Yl(t)||Gl(!1),e===t?null:lw(e)}function uw(e){yl=e}function i3(){uw(vu)}function o3(){return yl||this.initGlobalDir(),yl||Gl(!1),yl}var s3={NEUTRAL:n3,LTR:vu,RTL:sw,isStrong:Yl,getHTMLDir:lw,getHTMLDirIfDifferent:a3,setGlobalDir:uw,initGlobalDir:i3,getGlobalDir:o3},yu=s3,xn=yu,l3=Ye,No={L:"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",R:"----------------------",AL:"------------------------------"},u3=new RegExp("["+No.L+No.R+No.AL+"]"),c3=new RegExp("["+No.R+No.AL+"]");function cw(e){var t=u3.exec(e);return t==null?null:t[0]}function dw(e){var t=cw(e);return t==null?xn.NEUTRAL:c3.exec(t)?xn.RTL:xn.LTR}function fw(e,t){if(t=t||xn.NEUTRAL,!e.length)return t;var r=dw(e);return r===xn.NEUTRAL?t:r}function Nh(e,t){return t||(t=xn.getGlobalDir()),xn.isStrong(t)||l3(!1),fw(e,t)}function d3(e,t){return Nh(e,t)===xn.LTR}function f3(e,t){return Nh(e,t)===xn.RTL}var h3={firstStrongChar:cw,firstStrongCharDir:dw,resolveBlockDir:fw,getDirection:Nh,isDirectionLTR:d3,isDirectionRTL:f3},Ih=h3;function _g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p3=Ih,Cg=yu,m3=Ye,g3=function(){function e(r){_g(this,"_defaultDir",void 0),_g(this,"_lastDir",void 0),r?Cg.isStrong(r)||m3(!1):r=Cg.getGlobalDir(),this._defaultDir=r,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(n){return this._lastDir=p3.getDirection(n,this._lastDir),this._lastDir},e}(),v3=g3,y3=function(t){if(t!=null)return t;throw new Error("Got unexpected null or undefined")},nr=y3,w3=v3,hw=Ge,x3=nr,k3=hw.OrderedMap,zs,b3={getDirectionMap:function(t,r){zs?zs.reset():zs=new w3;var n=t.getBlockMap(),a=n.valueSeq().map(function(s){return x3(zs).getDirection(s.getText())}),i=k3(n.keySeq().zip(a));return r!=null&&hw.is(r,i)?r:i}},S3=b3;function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){pw(e,a,r[a])})}return e}function pw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wu=wC,io=Th,Us=S3,Mc=gu,os=Ge,mw=os.OrderedSet,_3=os.Record,ma=os.Stack,Tg=os.OrderedMap,C3=os.List,E3={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:ma(),selection:null,treeMap:null,undoStack:ma()},Ng=_3(E3),gw=function(){t.createEmpty=function(n){return this.createWithText("",n)},t.createWithText=function(n,a){return t.createWithContent(io.createFromText(n),a)},t.createWithContent=function(n,a){if(n.getBlockMap().count()===0)return t.createEmpty(a);var i=n.getBlockMap().first().getKey();return t.create({currentContent:n,undoStack:ma(),redoStack:ma(),decorator:a||null,selection:Mc.createEmpty(i)})},t.create=function(n){var a=n.currentContent,i=n.decorator,s=Eg({},n,{treeMap:Dg(a,i),directionMap:Us.getDirectionMap(a)});return new t(new Ng(s))},t.fromJS=function(n){return new t(new Ng(Eg({},n,{directionMap:n.directionMap!=null?Tg(n.directionMap):n.directionMap,inlineStyleOverride:n.inlineStyleOverride!=null?mw(n.inlineStyleOverride):n.inlineStyleOverride,nativelyRenderedContent:n.nativelyRenderedContent!=null?io.fromJS(n.nativelyRenderedContent):n.nativelyRenderedContent,redoStack:n.redoStack!=null?ma(n.redoStack.map(function(a){return io.fromJS(a)})):n.redoStack,selection:n.selection!=null?new Mc(n.selection):n.selection,treeMap:n.treeMap!=null?Tg(n.treeMap).map(function(a){return C3(a).map(function(i){return wu.fromJS(i)})}):n.treeMap,undoStack:n.undoStack!=null?ma(n.undoStack.map(function(a){return io.fromJS(a)})):n.undoStack,currentContent:io.fromJS(n.currentContent)})))},t.set=function(n,a){var i=n.getImmutable().withMutations(function(s){var u=s.get("decorator"),c=u;a.decorator===null?c=null:a.decorator&&(c=a.decorator);var f=a.currentContent||n.getCurrentContent();if(c!==u){var h=s.get("treeMap"),m;c&&u?m=N3(f,f.getBlockMap(),h,c,u):m=Dg(f,c),s.merge({decorator:c,treeMap:m,nativelyRenderedContent:null});return}var p=n.getCurrentContent();f!==p&&s.set("treeMap",T3(n,f.getBlockMap(),f.getEntityMap(),c)),s.merge(a)});return new t(i)};var e=t.prototype;e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(n,a){return t.set(n,{inlineStyleOverride:a})},e.getCurrentInlineStyle=function(){var n=this.getInlineStyleOverride();if(n!=null)return n;var a=this.getCurrentContent(),i=this.getSelection();return i.isCollapsed()?D3(a,i):M3(a,i)},e.getBlockTree=function(n){return this.getImmutable().getIn(["treeMap",n])},e.isSelectionAtStartOfContent=function(){var n=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(n,0,0)},e.isSelectionAtEndOfContent=function(){var n=this.getCurrentContent(),a=n.getBlockMap(),i=a.last(),s=i.getLength();return this.getSelection().hasEdgeWithin(i.getKey(),s,s)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(n,a){return Ig(n,a,!1)},t.forceSelection=function(n,a){return a.getHasFocus()||(a=a.set("hasFocus",!0)),Ig(n,a,!0)},t.moveSelectionToEnd=function(n){var a=n.getCurrentContent(),i=a.getLastBlock(),s=i.getKey(),u=i.getLength();return t.acceptSelection(n,new Mc({anchorKey:s,anchorOffset:u,focusKey:s,focusOffset:u,isBackward:!1}))},t.moveFocusToEnd=function(n){var a=t.moveSelectionToEnd(n);return t.forceSelection(a,a.getSelection())},t.push=function(n,a,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(n.getCurrentContent()===a)return n;var u=Us.getDirectionMap(a,n.getDirectionMap());if(!n.getAllowUndo())return t.set(n,{currentContent:a,directionMap:u,lastChangeType:i,selection:a.getSelectionAfter(),forceSelection:s,inlineStyleOverride:null});var c=n.getSelection(),f=n.getCurrentContent(),h=n.getUndoStack(),m=a;c!==f.getSelectionAfter()||I3(n,i)?(h=h.push(f),m=m.set("selectionBefore",c)):(i==="insert-characters"||i==="backspace-character"||i==="delete-character")&&(m=m.set("selectionBefore",f.getSelectionBefore()));var p=n.getInlineStyleOverride(),b=["adjust-depth","change-block-type","split-block"];b.indexOf(i)===-1&&(p=null);var S={currentContent:m,directionMap:u,undoStack:h,redoStack:ma(),lastChangeType:i,selection:a.getSelectionAfter(),forceSelection:s,inlineStyleOverride:p};return t.set(n,S)},t.undo=function(n){if(!n.getAllowUndo())return n;var a=n.getUndoStack(),i=a.peek();if(!i)return n;var s=n.getCurrentContent(),u=Us.getDirectionMap(i,n.getDirectionMap());return t.set(n,{currentContent:i,directionMap:u,undoStack:a.shift(),redoStack:n.getRedoStack().push(s),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:s.getSelectionBefore()})},t.redo=function(n){if(!n.getAllowUndo())return n;var a=n.getRedoStack(),i=a.peek();if(!i)return n;var s=n.getCurrentContent(),u=Us.getDirectionMap(i,n.getDirectionMap());return t.set(n,{currentContent:i,directionMap:u,undoStack:n.getUndoStack().push(s),redoStack:a.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:i.getSelectionAfter()})};function t(r){pw(this,"_immutable",void 0),this._immutable=r}return e.getImmutable=function(){return this._immutable},t}();function Ig(e,t,r){return gw.set(e,{selection:t,forceSelection:r,nativelyRenderedContent:null,inlineStyleOverride:null})}function Dg(e,t){return e.getBlockMap().map(function(r){return wu.generate(e,r,t)}).toOrderedMap()}function T3(e,t,r,n){var a=e.getCurrentContent().set("entityMap",r),i=a.getBlockMap(),s=e.getImmutable().get("treeMap");return s.merge(t.toSeq().filter(function(u,c){return u!==i.get(c)}).map(function(u){return wu.generate(a,u,n)}))}function N3(e,t,r,n,a){return r.merge(t.toSeq().filter(function(i){return n.getDecorations(i,e)!==a.getDecorations(i,e)}).map(function(i){return wu.generate(e,i,n)}))}function I3(e,t){var r=e.getLastChangeType();return t!==r||t!=="insert-characters"&&t!=="backspace-character"&&t!=="delete-character"}function D3(e,t){var r=t.getStartKey(),n=t.getStartOffset(),a=e.getBlockForKey(r);return n>0?a.getInlineStyleAt(n-1):a.getLength()?a.getInlineStyleAt(0):vw(e,r)}function M3(e,t){var r=t.getStartKey(),n=t.getStartOffset(),a=e.getBlockForKey(r);return n<a.getLength()?a.getInlineStyleAt(n):n>0?a.getInlineStyleAt(n-1):vw(e,r)}function vw(e,t){var r=e.getBlockMap().reverse().skipUntil(function(n,a){return a===t}).skip(1).skipUntil(function(n,a){return n.getLength()}).first();return r?r.getInlineStyleAt(r.getLength()-1):mw()}var tt=gw,P3=Mr,j3=J1,yw=Ge,Hs=Ye,L3=yw.OrderedMap,A3=yw.List,la=function(t,r,n){if(t){var a=r.get(t);a&&r.set(t,n(a))}},O3=function(t,r,n,a,i){if(!i)return t;var s=a==="after",u=r.getKey(),c=n.getKey(),f=r.getParentKey(),h=r.getNextSiblingKey(),m=r.getPrevSiblingKey(),p=n.getParentKey(),b=s?n.getNextSiblingKey():c,S=s?c:n.getPrevSiblingKey();return t.withMutations(function(x){la(f,x,function(E){var w=E.getChildKeys();return E.merge({children:w.delete(w.indexOf(u))})}),la(m,x,function(E){return E.merge({nextSibling:h})}),la(h,x,function(E){return E.merge({prevSibling:m})}),la(b,x,function(E){return E.merge({prevSibling:u})}),la(S,x,function(E){return E.merge({nextSibling:u})}),la(p,x,function(E){var w=E.getChildKeys(),v=w.indexOf(c),y=s?v+1:v!==0?v-1:0,C=w.toArray();return C.splice(y,0,u),E.merge({children:A3(C)})}),la(u,x,function(E){return E.merge({nextSibling:b,prevSibling:S,parent:p})})})},R3=function(t,r,n,a){a==="replace"&&Hs(!1);var i=n.getKey(),s=r.getKey();s===i&&Hs(!1);var u=t.getBlockMap(),c=r instanceof P3,f=[r],h=u.delete(s);c&&(f=[],h=u.withMutations(function(w){var v=r.getNextSiblingKey(),y=j3(r,w);w.toSeq().skipUntil(function(C){return C.getKey()===s}).takeWhile(function(C){var O=C.getKey(),P=O===s,D=v&&O!==v,R=!v&&C.getParentKey()&&(!y||O!==y);return!!(P||D||R)}).forEach(function(C){f.push(C),w.delete(C.getKey())})}));var m=h.toSeq().takeUntil(function(w){return w===n}),p=h.toSeq().skipUntil(function(w){return w===n}).skip(1),b=f.map(function(w){return[w.getKey(),w]}),S=L3();if(a==="before"){var x=t.getBlockBefore(i);!x||x.getKey()!==r.getKey()||Hs(!1),S=m.concat([].concat(b,[[i,n]]),p).toOrderedMap()}else if(a==="after"){var E=t.getBlockAfter(i);!E||E.getKey()!==s||Hs(!1),S=m.concat([[i,n]].concat(b),p).toOrderedMap()}return t.merge({blockMap:O3(S,r,n,a,c),selectionBefore:t.getSelectionAfter(),selectionAfter:t.getSelectionAfter().merge({anchorKey:s,focusKey:s})})},B3=R3;function Mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){$3(e,a,r[a])})}return e}function $3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K3=ts,F3=Dr,z3=Da,U3=Mr,Xa=rr,Pg=tt,jg=sn,H3=oa,ww=Ge,Ws=B3,xw=H3("draft_tree_data_support"),Lg=xw?U3:z3,W3=ww.List,q3=ww.Repeat,V3={insertAtomicBlock:function(t,r,n){var a=t.getCurrentContent(),i=t.getSelection(),s=Xa.removeRange(a,i,"backward"),u=s.getSelectionAfter(),c=Xa.splitBlock(s,u),f=c.getSelectionAfter(),h=Xa.setBlockType(c,f,"atomic"),m=F3.create({entity:r}),p={key:jg(),type:"atomic",text:n,characterList:W3(q3(m,n.length))},b={key:jg(),type:"unstyled"};xw&&(p=Mg({},p,{nextSibling:b.key}),b=Mg({},b,{prevSibling:p.key}));var S=[new Lg(p),new Lg(b)],x=K3.createFromArray(S),E=Xa.replaceWithFragment(h,f,x),w=E.merge({selectionBefore:i,selectionAfter:E.getSelectionAfter().set("hasFocus",!0)});return Pg.push(t,w,"insert-fragment")},moveAtomicBlock:function(t,r,n,a){var i=t.getCurrentContent(),s=t.getSelection(),u;if(a==="before"||a==="after"){var c=i.getBlockForKey(a==="before"?n.getStartKey():n.getEndKey());u=Ws(i,r,c,a)}else{var f=Xa.removeRange(i,n,"backward"),h=f.getSelectionAfter(),m=f.getBlockForKey(h.getFocusKey());if(h.getStartOffset()===0)u=Ws(f,r,m,"before");else if(h.getEndOffset()===m.getLength())u=Ws(f,r,m,"after");else{var p=Xa.splitBlock(f,h),b=p.getSelectionAfter(),S=p.getBlockForKey(b.getFocusKey());u=Ws(p,r,S,"before")}}var x=u.merge({selectionBefore:s,selectionAfter:u.getSelectionAfter().set("hasFocus",!0)});return Pg.push(t,x,"move-block")}},G3=V3;function Y3(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Q3=Ge,J3=Q3.List,Pc=".",X3=function(){function e(r){Y3(this,"_decorators",void 0),this._decorators=r.slice()}var t=e.prototype;return t.getDecorations=function(n,a){var i=Array(n.getText().length).fill(null);return this._decorators.forEach(function(s,u){var c=0,f=s.strategy,h=function(p,b){Z3(i,p,b)&&(eE(i,p,b,u+Pc+c),c++)};f(n,h,a)}),J3(i)},t.getComponentForKey=function(n){var a=parseInt(n.split(Pc)[0],10);return this._decorators[a].component},t.getPropsForKey=function(n){var a=parseInt(n.split(Pc)[0],10);return this._decorators[a].props},e}();function Z3(e,t,r){for(var n=t;n<r;n++)if(e[n]!=null)return!1;return!0}function eE(e,t,r,n){for(var a=t;a<r;a++)e[a]=n}var tE=X3;function rE(e){return typeof e=="object"?Object.keys(e).filter(function(t){return e[t]}).map(Ag).join(" "):Array.prototype.map.call(arguments,Ag).join(" ")}function Ag(e){return e.replace(/\//g,"-")}var Ma=rE,Dh=T,Mh=Ma,nE=Ge,aE=nE.Map,iE=Dh.createElement("ul",{className:Mh("public/DraftStyleDefault/ul")}),oE=Dh.createElement("ol",{className:Mh("public/DraftStyleDefault/ol")}),sE=Dh.createElement("pre",{className:Mh("public/DraftStyleDefault/pre")}),lE=aE({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:iE},"ordered-list-item":{element:"li",wrapper:oE},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:sE},unstyled:{element:"div",aliasedElements:["p"]}}),Ph=lE,kw={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Og=Object.getOwnPropertySymbols,uE=Object.prototype.hasOwnProperty,cE=Object.prototype.propertyIsEnumerable;function dE(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function fE(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch(i){return!1}}var Pa=fE()?Object.assign:function(e,t){for(var r,n=dE(e),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var s in r)uE.call(r,s)&&(n[s]=r[s]);if(Og){a=Og(r);for(var u=0;u<a.length;u++)cE.call(r,a[u])&&(n[a[u]]=r[a[u]])}}return n},ff={exports:{}};(function(e,t){(function(r,n){var a="0.7.41",i="",s="?",u="function",c="undefined",f="object",h="string",m="major",p="model",b="name",S="type",x="vendor",E="version",w="architecture",v="console",y="mobile",C="tablet",O="smarttv",P="wearable",D="embedded",R=500,N="Amazon",z="Apple",G="ASUS",K="BlackBerry",U="Browser",H="Chrome",B="Edge",A="Firefox",j="Google",I="Honor",L="Huawei",F="Lenovo",W="LG",pe="Microsoft",ye="Motorola",ce="Nvidia",oe="OnePlus",ge="Opera",fe="OPPO",be="Samsung",Y="Sharp",re="Sony",me="Xiaomi",xe="Zebra",se="Facebook",ee="Chromium OS",ae="Mac OS",le=" Browser",Be=function(Oe,Pe){var Ne={};for(var We in Oe)Pe[We]&&Pe[We].length%2===0?Ne[We]=Pe[We].concat(Oe[We]):Ne[We]=Oe[We];return Ne},Le=function(Oe){for(var Pe={},Ne=0;Ne<Oe.length;Ne++)Pe[Oe[Ne].toUpperCase()]=Oe[Ne];return Pe},ue=function(Oe,Pe){return typeof Oe===h?te(Pe).indexOf(te(Oe))!==-1:!1},te=function(Oe){return Oe.toLowerCase()},we=function(Oe){return typeof Oe===h?Oe.replace(/[^\d\.]/g,i).split(".")[0]:n},Te=function(Oe,Pe){if(typeof Oe===h)return Oe=Oe.replace(/^\s\s*/,i),typeof Pe===c?Oe:Oe.substring(0,R)},Me=function(Oe,Pe){for(var Ne=0,We,Ue,Ot,Ae,je,zt;Ne<Pe.length&&!je;){var wt=Pe[Ne],Oa=Pe[Ne+1];for(We=Ue=0;We<wt.length&&!je&&wt[We];)if(je=wt[We++].exec(Oe),je)for(Ot=0;Ot<Oa.length;Ot++)zt=je[++Ue],Ae=Oa[Ot],typeof Ae===f&&Ae.length>0?Ae.length===2?typeof Ae[1]==u?this[Ae[0]]=Ae[1].call(this,zt):this[Ae[0]]=Ae[1]:Ae.length===3?typeof Ae[1]===u&&!(Ae[1].exec&&Ae[1].test)?this[Ae[0]]=zt?Ae[1].call(this,zt,Ae[2]):n:this[Ae[0]]=zt?zt.replace(Ae[1],Ae[2]):n:Ae.length===4&&(this[Ae[0]]=zt?Ae[3].call(this,zt.replace(Ae[1],Ae[2])):n):this[Ae]=zt||n;Ne+=2}},He=function(Oe,Pe){for(var Ne in Pe)if(typeof Pe[Ne]===f&&Pe[Ne].length>0){for(var We=0;We<Pe[Ne].length;We++)if(ue(Pe[Ne][We],Oe))return Ne===s?n:Ne}else if(ue(Pe[Ne],Oe))return Ne===s?n:Ne;return Pe.hasOwnProperty("*")?Pe["*"]:Oe},de={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ce={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},vt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,E],[/opios[\/ ]+([\w\.]+)/i],[E,[b,ge+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[E,[b,ge+" GX"]],[/\bopr\/([\w\.]+)/i],[E,[b,ge]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[b,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[E,[b,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,E],[/quark(?:pc)?\/([-\w\.]+)/i],[E,[b,"Quark"]],[/\bddg\/([\w\.]+)/i],[E,[b,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[b,"UC"+U]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[b,"Smart Lenovo "+U]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+U],E],[/\bfocus\/([\w\.]+)/i],[E,[b,A+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[b,ge+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[b,ge+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[b,"MIUI"+le]],[/fxios\/([\w\.-]+)/i],[E,[b,A]],[/\bqihoobrowser\/?([\w\.]*)/i],[E,[b,"360"]],[/\b(qq)\/([\w\.]+)/i],[[b,/(.+)/,"$1Browser"],E],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1"+le],E],[/samsungbrowser\/([\w\.]+)/i],[E,[b,be+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[E,[b,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[b,E],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[b],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[E,b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,se],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[b,H+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,H+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[b,"Android "+U]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[E,He,de]],[/(webkit|khtml)\/([\w\.]+)/i],[b,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],E],[/(wolvic|librewolf)\/([\w\.]+)/i],[b,E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[b,A+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[b,[E,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[b,[E,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[w,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[w,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[w,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[w,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[w,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[w,/ower/,i,te]],[/ sun4\w[;\)]/i],[[w,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[w,te]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[p,[x,be],[S,C]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[p,[x,be],[S,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[p,[x,z],[S,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[p,[x,z],[S,C]],[/(macintosh);/i],[p,[x,z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[p,[x,Y],[S,y]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[p,[x,I],[S,C]],[/honor([-\w ]+)[;\)]/i],[p,[x,I],[S,y]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[p,[x,L],[S,C]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[p,[x,L],[S,y]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[p,/_/g," "],[x,me],[S,C]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[p,/_/g," "],[x,me],[S,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[p,[x,fe],[S,y]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[p,[x,He,{OnePlus:["304","403","203"],"*":fe}],[S,C]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[p,[x,"Vivo"],[S,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[p,[x,"Realme"],[S,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[p,[x,ye],[S,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[p,[x,ye],[S,C]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[p,[x,W],[S,C]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[p,[x,W],[S,y]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[p,[x,F],[S,C]],[/(nokia) (t[12][01])/i],[x,p,[S,C]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[p,/_/g," "],[S,y],[x,"Nokia"]],[/(pixel (c|tablet))\b/i],[p,[x,j],[S,C]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[p,[x,j],[S,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[x,re],[S,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[p,"Xperia Tablet"],[x,re],[S,C]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[p,[x,oe],[S,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[p,[x,N],[S,C]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[p,/(.+)/g,"Fire Phone $1"],[x,N],[S,y]],[/(playbook);[-\w\),; ]+(rim)/i],[p,x,[S,C]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[p,[x,K],[S,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[p,[x,G],[S,C]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[p,[x,G],[S,y]],[/(nexus 9)/i],[p,[x,"HTC"],[S,C]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[p,/_/g," "],[S,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[p,[x,"TCL"],[S,C]],[/(itel) ((\w+))/i],[[x,te],p,[S,He,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[p,[x,"Acer"],[S,C]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[p,[x,"Meizu"],[S,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[p,[x,"Ulefone"],[S,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[p,[x,"Energizer"],[S,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[p,[x,"Cat"],[S,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[p,[x,"Smartfren"],[S,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[p,[x,"Nothing"],[S,y]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[p,[x,"Archos"],[S,C]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[p,[x,"Archos"],[S,y]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[x,p,[S,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[x,p,[S,y]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[x,p,[S,C]],[/(surface duo)/i],[p,[x,pe],[S,C]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[p,[x,"Fairphone"],[S,y]],[/(u304aa)/i],[p,[x,"AT&T"],[S,y]],[/\bsie-(\w*)/i],[p,[x,"Siemens"],[S,y]],[/\b(rct\w+) b/i],[p,[x,"RCA"],[S,C]],[/\b(venue[\d ]{2,7}) b/i],[p,[x,"Dell"],[S,C]],[/\b(q(?:mv|ta)\w+) b/i],[p,[x,"Verizon"],[S,C]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[p,[x,"Barnes & Noble"],[S,C]],[/\b(tm\d{3}\w+) b/i],[p,[x,"NuVision"],[S,C]],[/\b(k88) b/i],[p,[x,"ZTE"],[S,C]],[/\b(nx\d{3}j) b/i],[p,[x,"ZTE"],[S,y]],[/\b(gen\d{3}) b.+49h/i],[p,[x,"Swiss"],[S,y]],[/\b(zur\d{3}) b/i],[p,[x,"Swiss"],[S,C]],[/\b((zeki)?tb.*\b) b/i],[p,[x,"Zeki"],[S,C]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[x,"Dragon Touch"],p,[S,C]],[/\b(ns-?\w{0,9}) b/i],[p,[x,"Insignia"],[S,C]],[/\b((nxa|next)-?\w{0,9}) b/i],[p,[x,"NextBook"],[S,C]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[x,"Voice"],p,[S,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[x,"LvTel"],p,[S,y]],[/\b(ph-1) /i],[p,[x,"Essential"],[S,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[p,[x,"Envizen"],[S,C]],[/\b(trio[-\w\. ]+) b/i],[p,[x,"MachSpeed"],[S,C]],[/\btu_(1491) b/i],[p,[x,"Rotor"],[S,C]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[p,[x,ce],[S,C]],[/(sprint) (\w+)/i],[x,p,[S,y]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[x,pe],[S,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[p,[x,xe],[S,C]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[p,[x,xe],[S,y]],[/smart-tv.+(samsung)/i],[x,[S,O]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[x,be],[S,O]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,W],[S,O]],[/(apple) ?tv/i],[x,[p,z+" TV"],[S,O]],[/crkey/i],[[p,H+"cast"],[x,j],[S,O]],[/droid.+aft(\w+)( bui|\))/i],[p,[x,N],[S,O]],[/(shield \w+ tv)/i],[p,[x,ce],[S,O]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[p,[x,Y],[S,O]],[/(bravia[\w ]+)( bui|\))/i],[p,[x,re],[S,O]],[/(mi(tv|box)-?\w+) bui/i],[p,[x,me],[S,O]],[/Hbbtv.*(technisat) (.*);/i],[x,p,[S,O]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Te],[p,Te],[S,O]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[p,[S,O]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,O]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[x,p,[S,v]],[/droid.+; (shield)( bui|\))/i],[p,[x,ce],[S,v]],[/(playstation \w+)/i],[p,[x,re],[S,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[p,[x,pe],[S,v]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[p,[x,be],[S,P]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[x,p,[S,P]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[p,[x,fe],[S,P]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[p,[x,z],[S,P]],[/(opwwe\d{3})/i],[p,[x,oe],[S,P]],[/(moto 360)/i],[p,[x,ye],[S,P]],[/(smartwatch 3)/i],[p,[x,re],[S,P]],[/(g watch r)/i],[p,[x,W],[S,P]],[/droid.+; (wt63?0{2,3})\)/i],[p,[x,xe],[S,P]],[/droid.+; (glass) \d/i],[p,[x,j],[S,P]],[/(pico) (4|neo3(?: link|pro)?)/i],[x,p,[S,P]],[/; (quest( \d| pro)?)/i],[p,[x,se],[S,P]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[S,D]],[/(aeobc)\b/i],[p,[x,N],[S,D]],[/(homepod).+mac os/i],[p,[x,z],[S,D]],[/windows iot/i],[[S,D]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[p,[S,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[p,[S,C]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,C]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,y]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[p,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[b,B+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[b,E],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,E],[/ladybird\//i],[[b,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,E],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[b,[E,He,Ce]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,He,Ce],[b,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,ae],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,b],[/(ubuntu) ([\w\.]+) like android/i],[[b,/(.+)/,"$1 Touch"],E],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[b,E],[/\(bb(10);/i],[E,[b,K]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[E,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[b,A+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[b,H+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,ee],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,E],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,E]]},Xe=function(Oe,Pe){if(typeof Oe===f&&(Pe=Oe,Oe=n),!(this instanceof Xe))return new Xe(Oe,Pe).getResult();var Ne=typeof r!==c&&r.navigator?r.navigator:n,We=Oe||(Ne&&Ne.userAgent?Ne.userAgent:i),Ue=Ne&&Ne.userAgentData?Ne.userAgentData:n,Ot=Pe?Be(vt,Pe):vt,Ae=Ne&&Ne.userAgent==We;return this.getBrowser=function(){var je={};return je[b]=n,je[E]=n,Me.call(je,We,Ot.browser),je[m]=we(je[E]),Ae&&Ne&&Ne.brave&&typeof Ne.brave.isBrave==u&&(je[b]="Brave"),je},this.getCPU=function(){var je={};return je[w]=n,Me.call(je,We,Ot.cpu),je},this.getDevice=function(){var je={};return je[x]=n,je[p]=n,je[S]=n,Me.call(je,We,Ot.device),Ae&&!je[S]&&Ue&&Ue.mobile&&(je[S]=y),Ae&&je[p]=="Macintosh"&&Ne&&typeof Ne.standalone!==c&&Ne.maxTouchPoints&&Ne.maxTouchPoints>2&&(je[p]="iPad",je[S]=C),je},this.getEngine=function(){var je={};return je[b]=n,je[E]=n,Me.call(je,We,Ot.engine),je},this.getOS=function(){var je={};return je[b]=n,je[E]=n,Me.call(je,We,Ot.os),Ae&&!je[b]&&Ue&&Ue.platform&&Ue.platform!="Unknown"&&(je[b]=Ue.platform.replace(/chrome os/i,ee).replace(/macos/i,ae)),je},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return We},this.setUA=function(je){return We=typeof je===h&&je.length>R?Te(je,R):je,this},this.setUA(We),this};Xe.VERSION=a,Xe.BROWSER=Le([b,E,m]),Xe.CPU=Le([w]),Xe.DEVICE=Le([p,x,S,v,y,O,C,P,D]),Xe.ENGINE=Xe.OS=Le([b,E]),e.exports&&(t=e.exports=Xe),t.UAParser=Xe;var yt=typeof r!==c&&(r.jQuery||r.Zepto);if(yt&&!yt.ua){var gr=new Xe;yt.ua=gr.getResult(),yt.ua.get=function(){return gr.getUA()},yt.ua.set=function(Oe){gr.setUA(Oe);var Pe=gr.getResult();for(var Ne in Pe)yt.ua[Ne]=Pe[Ne]}}})(typeof window=="object"?window:Hn)})(ff,ff.exports);var hE=ff.exports,pE=hE,yr="Unknown",mE={"Mac OS":"Mac OS X"};function gE(e){return mE[e]||e}function vE(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}var yE=new pE,wr=yE.getResult(),wE=vE(wr.browser.version),xE={browserArchitecture:wr.cpu.architecture||yr,browserFullVersion:wr.browser.version||yr,browserMinorVersion:wE.minor||yr,browserName:wr.browser.name||yr,browserVersion:wr.browser.major||yr,deviceName:wr.device.model||yr,engineName:wr.engine.name||yr,engineVersion:wr.engine.version||yr,platformArchitecture:wr.cpu.architecture||yr,platformName:gE(wr.os.name)||yr,platformVersion:wr.os.version||yr,platformFullVersion:wr.os.version||yr},kE=xE,Ql=Ye,bw=/\./,bE=/\|\|/,SE=/\s+\-\s+/,_E=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,Rg=/^(\d*)(.*)/;function CE(e,t){var r=e.split(bE);return r.length>1?r.some(function(n){return Ew.contains(n,t)}):(e=r[0].trim(),EE(e,t))}function EE(e,t){var r=e.split(SE);if(r.length>0&&r.length<=2||Ql(!1),r.length===1)return jc(r[0],t);var n=r[0],a=r[1];return Bg(n)&&Bg(a)||Ql(!1),jc(">="+n,t)&&jc("<="+a,t)}function jc(e,t){if(e=e.trim(),e==="")return!0;var r=t.split(bw),n=Cw(e),a=n.modifier,i=n.rangeComponents;switch(a){case"<":return Sw(r,i);case"<=":return TE(r,i);case">=":return _w(r,i);case">":return IE(r,i);case"~":case"~>":return DE(r,i);default:return NE(r,i)}}function Sw(e,t){return ss(e,t)===-1}function TE(e,t){var r=ss(e,t);return r===-1||r===0}function NE(e,t){return ss(e,t)===0}function _w(e,t){var r=ss(e,t);return r===1||r===0}function IE(e,t){return ss(e,t)===1}function DE(e,t){var r=t.slice(),n=t.slice();n.length>1&&n.pop();var a=n.length-1,i=parseInt(n[a],10);return hf(i)&&(n[a]=i+1+""),_w(e,r)&&Sw(e,n)}function Cw(e){var t=e.split(bw),r=t[0].match(_E);return r||Ql(!1),{modifier:r[1],rangeComponents:[r[2]].concat(t.slice(1))}}function hf(e){return!isNaN(e)&&isFinite(e)}function Bg(e){return!Cw(e).modifier}function $g(e,t){for(var r=e.length;r<t;r++)e[r]="0"}function ME(e,t){e=e.slice(),t=t.slice(),$g(e,t.length);for(var r=0;r<t.length;r++){var n=t[r].match(/^[x*]$/i);if(n&&(t[r]=e[r]="0",n[0]==="*"&&r===t.length-1))for(var a=r;a<e.length;a++)e[a]="0"}return $g(t,e.length),[e,t]}function PE(e,t){var r=e.match(Rg)[1],n=t.match(Rg)[1],a=parseInt(r,10),i=parseInt(n,10);return hf(a)&&hf(i)&&a!==i?Kg(a,i):Kg(e,t)}function Kg(e,t){return typeof e!=typeof t&&Ql(!1),e>t?1:e<t?-1:0}function ss(e,t){for(var r=ME(e,t),n=r[0],a=r[1],i=0;i<a.length;i++){var s=PE(n[i],a[i]);if(s)return s}return 0}var Ew={contains:function(t,r){return CE(t.trim(),r.trim())}},jE=Ew,LE=Object.prototype.hasOwnProperty;function AE(e,t,r){if(!e)return null;var n={};for(var a in e)LE.call(e,a)&&(n[a]=t.call(r,e[a],a,e));return n}var OE=AE;function RE(e){var t={};return function(r){return t.hasOwnProperty(r)||(t[r]=e.call(this,r)),t[r]}}var BE=RE,Qr=kE,$E=jE,KE=OE,FE=BE;function Za(e,t,r,n){if(e===r)return!0;if(!r.startsWith(e))return!1;var a=r.slice(e.length);return t?(a=n?n(a):a,$E.contains(a,t)):!1}function zE(e){return Qr.platformName==="Windows"?e.replace(/^\s*NT/,""):e}var UE={isBrowser:function(t){return Za(Qr.browserName,Qr.browserFullVersion,t)},isBrowserArchitecture:function(t){return Za(Qr.browserArchitecture,null,t)},isDevice:function(t){return Za(Qr.deviceName,null,t)},isEngine:function(t){return Za(Qr.engineName,Qr.engineVersion,t)},isPlatform:function(t){return Za(Qr.platformName,Qr.platformFullVersion,t,zE)},isPlatformArchitecture:function(t){return Za(Qr.platformArchitecture,null,t)}},ar=KE(UE,FE);function HE(e){return!e||!e.ownerDocument?document:e.ownerDocument}var xu=HE;function WE(e){return!e||!e.ownerDocument?!1:e.nodeType===Node.ELEMENT_NODE}var ja=WE,qE=ja;function Tw(e){if(qE(e)){var t=e,r=t.getAttribute("data-offset-key");if(r)return r;for(var n=0;n<t.childNodes.length;n++){var a=Tw(t.childNodes[n]);if(a)return a}}return null}var Nw=Tw,VE=xu,GE=Nw;function YE(e){for(var t=e;t&&t!==VE(e).documentElement;){var r=GE(t);if(r!=null)return r;t=t.parentNode}return null}var ku=YE;function QE(e){return!e||!e.ownerDocument||!e.ownerDocument.defaultView?window:e.ownerDocument.defaultView}var Iw=QE;function qs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JE=ar,XE=ku,ZE=Iw,e4=Ge,t4=Ye,r4=nr,Fg=e4.Map,n4={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},zg=JE.isBrowser("IE <= 11"),a4=function(){function e(r){var n=this;qs(this,"observer",void 0),qs(this,"container",void 0),qs(this,"mutations",void 0),qs(this,"onCharData",void 0),this.container=r,this.mutations=Fg();var a=ZE(r);a.MutationObserver&&!zg?this.observer=new a.MutationObserver(function(i){return n.registerMutations(i)}):this.onCharData=function(i){i.target instanceof Node||t4(!1),n.registerMutation({type:"characterData",target:i.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,n4):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var n=this.observer;n?(this.registerMutations(n.takeRecords()),n.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var a=this.mutations;return this.mutations=Fg(),a},t.registerMutations=function(n){for(var a=0;a<n.length;a++)this.registerMutation(n[a])},t.getMutationTextContent=function(n){var a=n.type,i=n.target,s=n.removedNodes;if(a==="characterData"){if(i.textContent!=="")return zg?i.textContent.replace(`
`,""):i.textContent}else if(a==="childList"){if(s&&s.length)return"";if(i.textContent!=="")return i.textContent}return null},t.registerMutation=function(n){var a=this.getMutationTextContent(n);if(a!=null){var i=r4(XE(n.target));this.mutations=this.mutations.set(i,a)}},e}(),i4=a4,Vs="-",o4={encode:function(t,r,n){return t+Vs+r+Vs+n},decode:function(t){var r=t.split(Vs).reverse(),n=r[0],a=r[1],i=r.slice(2);return{blockKey:i.reverse().join(Vs),decoratorKey:parseInt(a,10),leafKey:parseInt(n,10)}}},En=o4,bu={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Dw={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}};function s4(e){return!e||!e.ownerDocument?!1:e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement}var ls=s4,Ug=Ye,l4=ls;function u4(e){var t=e.editorContainer;t||Ug(!1),l4(t.firstChild)||Ug(!1);var r=t.firstChild;return r}var Mw=u4,Hg=En,c4=nr;function d4(e,t,r,n,a){var i=c4(e.getSelection());if(!t||!n)return i;var s=Hg.decode(t),u=s.blockKey,c=e.getBlockTree(u),f=c&&c.getIn([s.decoratorKey,"leaves",s.leafKey]),h=Hg.decode(n),m=h.blockKey,p=e.getBlockTree(m),b=p&&p.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!f||!b)return i;var S=f.get("start"),x=b.get("start"),E=f?S+r:null,w=b?x+a:null,v=i.getAnchorKey()===u&&i.getAnchorOffset()===E&&i.getFocusKey()===m&&i.getFocusOffset()===w;if(v)return i;var y=!1;if(u===m){var C=f.get("end"),O=b.get("end");x===S&&O===C?y=a<r:y=x<S}else{var P=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(D){return D===u||D===m}).first();y=P===m}return i.merge({anchorKey:u,anchorOffset:E,focusKey:m,focusOffset:w,isBackward:y})}var Pw=d4,vo=ku,Io=Nw,Wg=Pw,Lc=Ye,jh=ja,wa=nr;function f4(e,t,r,n,a,i){var s=r.nodeType===Node.TEXT_NODE,u=a.nodeType===Node.TEXT_NODE;if(s&&u)return{selectionState:Wg(e,wa(vo(r)),n,wa(vo(a)),i),needsRecovery:!1};var c=null,f=null,h=!0;return s?(c={key:wa(vo(r)),offset:n},f=Gs(t,a,i)):u?(f={key:wa(vo(a)),offset:i},c=Gs(t,r,n)):(c=Gs(t,r,n),f=Gs(t,a,i),r===a&&n===i&&(h=!!r.firstChild&&r.firstChild.nodeName!=="BR")),{selectionState:Wg(e,c.key,c.offset,f.key,f.offset),needsRecovery:h}}function h4(e){for(;e.firstChild&&(jh(e.firstChild)&&e.firstChild.getAttribute("data-blocks")==="true"||Io(e.firstChild));)e=e.firstChild;return e}function p4(e){for(;e.lastChild&&(jh(e.lastChild)&&e.lastChild.getAttribute("data-blocks")==="true"||Io(e.lastChild));)e=e.lastChild;return e}function Gs(e,t,r){var n=t,a=vo(n);if(a!=null||e&&(e===n||e.firstChild===n)||Lc(!1),e===n){n=n.firstChild,jh(n)||Lc(!1);var i=n;n=i,n.getAttribute("data-contents")!=="true"&&Lc(!1),r>0&&(r=n.childNodes.length)}if(r===0){var s=null;if(a!=null)s=a;else{var u=h4(n);s=wa(Io(u))}return{key:s,offset:0}}var c=n.childNodes[r-1],f=null,h=null;if(!Io(c))f=wa(a),h=qg(c);else{var m=p4(c);f=wa(Io(m)),h=qg(m)}return{key:f,offset:h}}function qg(e){var t=e.textContent;return t===`
`?0:t.length}var jw=f4,m4=jw;function g4(e,t){var r=t.ownerDocument.defaultView.getSelection(),n=r.anchorNode,a=r.anchorOffset,i=r.focusNode,s=r.focusOffset,u=r.rangeCount;return u===0||n==null||i==null?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:m4(e,t,n,a,i,s)}var Lw=g4,v4=Dw,Vg=tt,y4=Mw,w4=Lw;function x4(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState,r=t.getSelection();v4.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:new Error().stack}),selectionState:JSON.stringify(r.toJS())})}return}var n=e.props.editorState,a=w4(n,y4(e)),i=a.selectionState;i!==n.getSelection()&&(a.needsRecovery?n=Vg.forceSelection(n,i):n=Vg.acceptSelection(n,i),e.update(n))}var Aw=x4;function k4(e){return e!=null&&e!=""}var Ow={notEmptyKey:k4},b4=Ow,S4=b4.notEmptyKey;function _4(e,t){var r;if(t.isCollapsed()){var n=t.getAnchorKey(),a=t.getAnchorOffset();return a>0?(r=e.getBlockForKey(n).getEntityAt(a-1),r!==e.getBlockForKey(n).getEntityAt(a)?null:Gg(e.getEntityMap(),r)):null}var i=t.getStartKey(),s=t.getStartOffset(),u=e.getBlockForKey(i);return r=s===u.getLength()?null:u.getEntityAt(s),Gg(e.getEntityMap(),r)}function Gg(e,t){if(S4(t)){var r=e.__get(t);return r.getMutability()==="MUTABLE"?t:null}return null}var Lh=_4,C4=i4,E4=rr,T4=En,oo=tt,Ac=bu,N4=ar,I4=Aw,Rw=Mw,D4=Lw,M4=Lh,P4=nr,j4=N4.isBrowser("IE"),L4=20,Oc=!1,Ys=!1,Do=null;function A4(e){Do||(Do=new C4(Rw(e)),Do.start())}var pf={onCompositionStart:function(t){Ys=!0,A4(t)},onCompositionEnd:function(t){Oc=!1,Ys=!1,setTimeout(function(){Oc||pf.resolveComposition(t)},L4)},onSelect:I4,onKeyDown:function(t,r){if(!Ys){pf.resolveComposition(t),t._onKeyDown(r);return}(r.which===Ac.RIGHT||r.which===Ac.LEFT)&&r.preventDefault()},onKeyPress:function(t,r){r.which===Ac.RETURN&&r.preventDefault()},resolveComposition:function(t){if(!Ys){var r=P4(Do).stopAndFlushMutations();Do=null,Oc=!0;var n=oo.set(t._latestEditorState,{inCompositionMode:!1});if(t.exitCurrentMode(),!r.size){t.update(n);return}var a=n.getCurrentContent();r.forEach(function(c,f){var h=T4.decode(f),m=h.blockKey,p=h.decoratorKey,b=h.leafKey,S=n.getBlockTree(m).getIn([p,"leaves",b]),x=S.start,E=S.end,w=n.getSelection().merge({anchorKey:m,focusKey:m,anchorOffset:x,focusOffset:E,isBackward:!1}),v=M4(a,w),y=a.getBlockForKey(m).getInlineStyleAt(x);a=E4.replaceText(a,w,c,y,v),n=oo.set(n,{currentContent:a})});var i=D4(n,Rw(t)),s=i.selectionState;t.restoreEditorDOM();var u=j4?oo.forceSelection(n,s):oo.acceptSelection(n,s);t.update(oo.push(u,a,"insert-characters"))}}},O4=pf,Rc,Yg;function R4(){if(Yg)return Rc;Yg=1;var e=Pa;function t(){return t=e||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(c[m]=h[m])}return c},t.apply(this,arguments)}function r(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var n=En,a=T,i=Ih,s=yu,u=function(c){r(f,c);function f(){return c.apply(this,arguments)||this}var h=f.prototype;return h.render=function(){var p=this.props,b=p.block,S=p.children,x=p.contentState,E=p.decorator,w=p.decoratorKey,v=p.direction,y=p.leafSet,C=p.text,O=b.getKey(),P=y.get("leaves"),D=E.getComponentForKey(w),R=E.getPropsForKey(w),N=n.encode(O,parseInt(w,10),0),z=C.slice(P.first().get("start"),P.last().get("end")),G=s.getHTMLDirIfDifferent(i.getDirection(z),v);return a.createElement(D,t({},R,{contentState:x,decoratedText:z,dir:G,key:N,entityKey:b.getEntityAt(y.get("start")),offsetKey:N}),S)},f}(a.Component);return Rc=u,Rc}function Qg(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Jg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ji=T,$4=ar,K4=Ye,F4=ja,Ah=$4.isBrowser("IE <= 11");function z4(e){return Ah?e.textContent===`
`:e.tagName==="BR"}var U4=function(t){return Ah?ji.createElement("span",{key:"A","data-text":"true",ref:t},`
`):ji.createElement("br",{key:"A","data-text":"true",ref:t})},H4=function(t){return Ah?ji.createElement("span",{key:"B","data-text":"true",ref:t},`
`):ji.createElement("br",{key:"B","data-text":"true",ref:t})},W4=function(e){B4(t,e);function t(n){var a;return a=e.call(this,n)||this,Jg(Qg(a),"_forceFlag",void 0),Jg(Qg(a),"_node",void 0),a._forceFlag=!1,a}var r=t.prototype;return r.shouldComponentUpdate=function(a){var i=this._node,s=a.children==="";F4(i)||K4(!1);var u=i;return s?!z4(u):u.textContent!==a.children},r.componentDidMount=function(){this._forceFlag=!this._forceFlag},r.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},r.render=function(){var a=this;return this.props.children===""?this._forceFlag?U4(function(i){return a._node=i}):H4(function(i){return a._node=i}):ji.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(s){return a._node=s}},this.props.children)},t}(ji.Component),q4=W4,V4=ja;function G4(e){return!e||!e.ownerDocument?!1:V4(e)&&e.nodeName==="BR"}var Bw=G4,$w={initODS:function(){},handleExtensionCausedError:function(){}};function Y4(e){var t=e?e.ownerDocument||e:document,r=t.defaultView||window;return!!(e&&(typeof r.Node=="function"?e instanceof r.Node:typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"))}var Q4=Y4,J4=Q4;function X4(e){return J4(e)&&e.nodeType==3}var Z4=X4,Xg=Z4;function Kw(e,t){return!e||!t?!1:e===t?!0:Xg(e)?!1:Xg(t)?Kw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1}var Oh=Kw;function e6(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Fw=e6,t6=$w,mf=Dw,r6=ar,zw=Oh,n6=Fw,Rh=xu,a6=Ye,Uw=ja,i6=r6.isBrowser("IE");function o6(e,t){if(!e)return"[empty]";var r=Hw(e,t);if(r.nodeType===Node.TEXT_NODE)return r.textContent;Uw(r)||a6(!1);var n=r;return n.outerHTML}function Hw(e,t){var r=t!==void 0?t(e):[];if(e.nodeType===Node.TEXT_NODE){var n=e.textContent.length;return Rh(e).createTextNode("[text "+n+(r.length?" | "+r.join(", "):"")+"]")}var a=e.cloneNode();a.nodeType===1&&r.length&&a.setAttribute("data-labels",r.join(", "));for(var i=e.childNodes,s=0;s<i.length;s++)a.appendChild(Hw(i[s],t));return a}function gf(e,t){for(var r=e,n=r;r;){if(Uw(r)&&n.hasAttribute("contenteditable"))return o6(r,t);r=r.parentNode,n=r}return"Could not find contentEditable parent of node"}function Ww(e){return e.nodeValue===null?e.childNodes.length:e.nodeValue.length}function s6(e,t,r,n,a){var i=Rh(t);if(zw(i.documentElement,t)){var s=i.defaultView.getSelection(),u=e.getAnchorKey(),c=e.getAnchorOffset(),f=e.getFocusKey(),h=e.getFocusOffset(),m=e.getIsBackward();if(!s.extend&&m){var p=u,b=c;u=f,c=h,f=p,h=b,m=!1}var S=u===r&&n<=c&&a>=c,x=f===r&&n<=h&&a>=h;if(S&&x){s.removeAllRanges(),Qs(s,t,c-n,e),Bc(s,t,h-n,e);return}if(!m)S&&(s.removeAllRanges(),Qs(s,t,c-n,e)),x&&Bc(s,t,h-n,e);else if(x&&(s.removeAllRanges(),Qs(s,t,h-n,e)),S){var E=s.focusNode,w=s.focusOffset;s.removeAllRanges(),Qs(s,t,c-n,e),Bc(s,E,w,e)}}}function Bc(e,t,r,n){var a=n6(),i=e.extend;if(i&&t!=null&&zw(a,t)){r>Ww(t)&&mf.logSelectionStateFailure({anonymizedDom:gf(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(n.toJS())});var s=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,r)}catch(c){throw mf.logSelectionStateFailure({anonymizedDom:gf(t,function(f){var h=[];return f===a&&h.push("active element"),f===e.anchorNode&&h.push("selection anchor node"),f===e.focusNode&&h.push("selection focus node"),h}),extraParams:JSON.stringify({activeElementName:a?a.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:s,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:c?""+c:null,offset:r},null,2),selectionState:JSON.stringify(n.toJS(),null,2)}),c}}else if(t&&e.rangeCount>0){var u=e.getRangeAt(0);u.setEnd(t,r),e.addRange(u.cloneRange())}}function Qs(e,t,r,n){var a=Rh(t).createRange();if(r>Ww(t)&&(mf.logSelectionStateFailure({anonymizedDom:gf(t),extraParams:JSON.stringify({offset:r}),selectionState:JSON.stringify(n.toJS())}),t6.handleExtensionCausedError()),a.setStart(t,r),i6)try{e.addRange(a)}catch(i){}else e.addRange(a)}var l6={setDraftEditorSelection:s6},Zg=Pa;function u6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function d6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f6=q4,$c=T,Js=Ye,h6=Bw,p6=l6.setDraftEditorSelection,m6=function(e){c6(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,d6(u6(n),"leaf",void 0),n}var r=t.prototype;return r._setSelection=function(){var a=this.props.selection;if(!(a==null||!a.getHasFocus())){var i=this.props,s=i.block,u=i.start,c=i.text,f=s.getKey(),h=u+c.length;if(a.hasEdgeWithin(f,u,h)){var m=this.leaf;m||Js(!1);var p=m.firstChild;p||Js(!1);var b;p.nodeType===Node.TEXT_NODE?b=p:h6(p)?b=m:(b=p.firstChild,b||Js(!1)),p6(a,b,f,u,h)}}},r.shouldComponentUpdate=function(a){var i=this.leaf;i||Js(!1);var s=i.textContent!==a.text||a.styleSet!==this.props.styleSet||a.forceSelection;return s},r.componentDidUpdate=function(){this._setSelection()},r.componentDidMount=function(){this._setSelection()},r.render=function(){var a=this,i=this.props.block,s=this.props.text;s.endsWith(`
`)&&this.props.isLast&&(s+=`
`);var u=this.props,c=u.customStyleMap,f=u.customStyleFn,h=u.offsetKey,m=u.styleSet,p=m.reduce(function(S,x){var E={},w=c[x];return w!==void 0&&S.textDecoration!==w.textDecoration&&(E.textDecoration=[S.textDecoration,w.textDecoration].join(" ").trim()),Zg(S,w,E)},{});if(f){var b=f(m,i);p=Zg(p,b)}return $c.createElement("span",{"data-offset-key":h,ref:function(x){return a.leaf=x},style:p},$c.createElement(f6,null,s))},t}($c.Component),qw=m6,Kc,ev;function g6(){if(ev)return Kc;ev=1;function e(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var t=R4(),r=qw,n=En,a=Ge,i=T,s=Ma;a.List;var u=function(c){e(f,c);function f(){return c.apply(this,arguments)||this}var h=f.prototype;return h.render=function(){var p=this.props,b=p.block,S=p.contentState,x=p.customStyleFn,E=p.customStyleMap,w=p.decorator,v=p.direction,y=p.forceSelection,C=p.hasSelection,O=p.selection,P=p.tree,D=b.getKey(),R=b.getText(),N=P.size-1,z=this.props.children||P.map(function(G,K){var U=G.get("decoratorKey"),H=G.get("leaves"),B=H.size-1,A=H.map(function(j,I){var L=n.encode(D,K,I),F=j.get("start"),W=j.get("end");return i.createElement(r,{key:L,offsetKey:L,block:b,start:F,selection:C?O:null,forceSelection:y,text:R.slice(F,W),styleSet:b.getInlineStyleAt(F),customStyleMap:E,customStyleFn:x,isLast:U===N&&I===B})}).toArray();return!U||!w?A:i.createElement(t,{block:b,children:A,contentState:S,decorator:w,decoratorKey:U,direction:v,leafSet:G,text:R,key:K})}).toArray();return i.createElement("div",{"data-offset-key":n.encode(D,0,0),className:s({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":v==="LTR","public/DraftStyleDefault/rtl":v==="RTL"})},z)},f}(i.Component);return Kc=u,Kc}function Xs(e,t){return!!t&&(e===t.documentElement||e===t.body)}var v6={getTop:function(t){var r=t.ownerDocument;return Xs(t,r)?r.body.scrollTop||r.documentElement.scrollTop:t.scrollTop},setTop:function(t,r){var n=t.ownerDocument;Xs(t,n)?n.body.scrollTop=n.documentElement.scrollTop=r:t.scrollTop=r},getLeft:function(t){var r=t.ownerDocument;return Xs(t,r)?r.body.scrollLeft||r.documentElement.scrollLeft:t.scrollLeft},setLeft:function(t,r){var n=t.ownerDocument;Xs(t,n)?n.body.scrollLeft=n.documentElement.scrollLeft=r:t.scrollLeft=r}},Bh=v6,y6=/-(.)/g;function w6(e){return e.replace(y6,function(t,r){return r.toUpperCase()})}var x6=w6,k6=/([A-Z])/g;function b6(e){return e.replace(k6,"-$1").toLowerCase()}var S6=b6,tv=x6,rv=S6;function so(e){return e==null?e:String(e)}function _6(e,t){var r;if(window.getComputedStyle&&(r=window.getComputedStyle(e,null),r))return so(r.getPropertyValue(rv(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(r=document.defaultView.getComputedStyle(e,null),r)return so(r.getPropertyValue(rv(t)));if(t==="display")return"none"}return e.currentStyle?so(t==="float"?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[tv(t)]):so(e.style&&e.style[tv(t)])}var C6=_6,E6=C6;function Fc(e,t){var r=Vw.get(e,t);return r==="auto"||r==="scroll"}var Vw={get:E6,getScrollParent:function(t){if(!t)return null;for(var r=t.ownerDocument;t&&t!==r.body;){if(Fc(t,"overflow")||Fc(t,"overflowY")||Fc(t,"overflowX"))return t;t=t.parentNode}return r.defaultView||r.parentWindow}},Su=Vw,T6=Oh;function N6(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!T6(t,e))return{left:0,right:0,top:0,bottom:0};var r=e.getBoundingClientRect();return{left:Math.round(r.left)-t.clientLeft,right:Math.round(r.right)-t.clientLeft,top:Math.round(r.top)-t.clientTop,bottom:Math.round(r.bottom)-t.clientTop}}var I6=N6,D6=I6;function M6(e){var t=D6(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}var Gw=M6,P6=typeof navigator!="undefined"&&navigator.userAgent.indexOf("AppleWebKit")>-1;function j6(e){return e=e||document,e.scrollingElement?e.scrollingElement:!P6&&e.compatMode==="CSS1Compat"?e.documentElement:e.body}var L6=j6;function A6(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}var O6=A6,R6=L6,B6=O6;function $6(e){var t=R6(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var r=B6(e),n=e===t?e.ownerDocument.documentElement:e,a=e.scrollWidth-n.clientWidth,i=e.scrollHeight-n.clientHeight;return r.x=Math.max(0,Math.min(r.x,a)),r.y=Math.max(0,Math.min(r.y,i)),r}var _u=$6;function Yw(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function Qw(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function Jw(){return{width:window.innerWidth||Yw(),height:window.innerHeight||Qw()}}Jw.withoutScrollbars=function(){return{width:Yw(),height:Qw()}};var Xw=Jw,zc,nv;function K6(){if(nv)return zc;nv=1;var e=Pa;function t(){return t=e||function(N){for(var z=1;z<arguments.length;z++){var G=arguments[z];for(var K in G)Object.prototype.hasOwnProperty.call(G,K)&&(N[K]=G[K])}return N},t.apply(this,arguments)}function r(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function n(N,z){N.prototype=Object.create(z.prototype),N.prototype.constructor=N,N.__proto__=z}function a(N){for(var z=1;z<arguments.length;z++){var G=arguments[z]!=null?arguments[z]:{},K=Object.keys(G);typeof Object.getOwnPropertySymbols=="function"&&(K=K.concat(Object.getOwnPropertySymbols(G).filter(function(U){return Object.getOwnPropertyDescriptor(G,U).enumerable}))),K.forEach(function(U){i(N,U,G[U])})}return N}function i(N,z,G){return z in N?Object.defineProperty(N,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):N[z]=G,N}var s=g6(),u=En,c=T,f=Bh,h=Su,m=Gw,p=_u,b=Xw,S=Ge,x=Ye,E=ls,w=10;S.List;var v=function(z,G){return z.getAnchorKey()===G||z.getFocusKey()===G},y=function(z,G){var K=z.getNextSiblingKey();return K?G.getBlockForKey(K).getType()===z.getType():!1},C=function(z,G,K){var U=[],H=!0,B=!1,A=void 0;try{for(var j=K.reverse()[Symbol.iterator](),I;!(H=(I=j.next()).done);H=!0){var L=I.value;if(L.type!==G)break;U.push(L)}}catch(pe){B=!0,A=pe}finally{try{!H&&j.return!=null&&j.return()}finally{if(B)throw A}}K.splice(K.indexOf(U[0]),U.length+1);var F=U.reverse(),W=F[0].key;return K.push(c.cloneElement(z,{key:"".concat(W,"-wrap"),"data-offset-key":u.encode(W,0,0)},F)),K},O=function(z,G){var K=G.get(z.getType())||G.get("unstyled"),U=K.wrapper,H=K.element||G.get("unstyled").element;return{Element:H,wrapperTemplate:U}},P=function(z,G){var K=G(z);if(!K)return{};var U=K.component,H=K.props,B=K.editable;return{CustomComponent:U,customProps:H,customEditable:B}},D=function(z,G,K,U,H,B){var A={"data-block":!0,"data-editor":G,"data-offset-key":K,key:z.getKey(),ref:B},j=U(z);return j&&(A.className=j),H.customEditable!==void 0&&(A=a({},A,{contentEditable:H.customEditable,suppressContentEditableWarning:!0})),A},R=function(N){n(z,N);function z(){for(var K,U=arguments.length,H=new Array(U),B=0;B<U;B++)H[B]=arguments[B];return K=N.call.apply(N,[this].concat(H))||this,i(r(K),"wrapperRef",c.createRef()),K}var G=z.prototype;return G.shouldComponentUpdate=function(U){var H=this.props,B=H.block,A=H.direction,j=H.tree,I=!B.getChildKeys().isEmpty(),L=B!==U.block||j!==U.tree||A!==U.direction||v(U.selection,U.block.getKey())&&U.forceSelection;return I||L},G.componentDidMount=function(){var U=this.props.selection,H=U.getEndKey();if(!(!U.getHasFocus()||H!==this.props.block.getKey())){var B=this.wrapperRef.current;if(B){var A=h.getScrollParent(B),j=p(A),I;if(A===window){var L=m(B),F=L.y+L.height,W=b().height;I=F-W,I>0&&window.scrollTo(j.x,j.y+I+w)}else{E(B)||x(!1);var pe=B,ye=pe.offsetHeight+pe.offsetTop,ce=A.offsetHeight+j.y;I=ye-ce,I>0&&f.setTop(A,f.getTop(A)+I+w)}}}},G.render=function(){var U=this,H=this.props,B=H.block,A=H.blockRenderMap,j=H.blockRendererFn,I=H.blockStyleFn,L=H.contentState,F=H.decorator,W=H.editorKey,pe=H.editorState,ye=H.customStyleFn,ce=H.customStyleMap,oe=H.direction,ge=H.forceSelection,fe=H.selection,be=H.tree,Y=null;B.children.size&&(Y=B.children.reduce(function(Le,ue){var te=u.encode(ue,0,0),we=L.getBlockForKey(ue),Te=P(we,j),Me=Te.CustomComponent||z,He=O(we,A),de=He.Element,Ce=He.wrapperTemplate,vt=D(we,W,te,I,Te,null),Xe=a({},U.props,{tree:pe.getBlockTree(ue),blockProps:Te.customProps,offsetKey:te,block:we});return Le.push(c.createElement(de,vt,c.createElement(Me,Xe))),!Ce||y(we,L)||C(Ce,de,Le),Le},[]));var re=B.getKey(),me=u.encode(re,0,0),xe=P(B,j),se=xe.CustomComponent,ee=se!=null?c.createElement(se,t({},this.props,{tree:pe.getBlockTree(re),blockProps:xe.customProps,offsetKey:me,block:B})):c.createElement(s,{block:B,children:Y,contentState:L,customStyleFn:ye,customStyleMap:ce,decorator:F,direction:oe,forceSelection:ge,hasSelection:v(fe,re),selection:fe,tree:be});if(B.getParentKey())return ee;var ae=O(B,A),le=ae.Element,Be=D(B,W,me,I,xe,this.wrapperRef);return c.createElement(le,Be,ee)},z}(c.Component);return zc=R,zc}var Uc,av;function F6(){if(av)return Uc;av=1;var e=Pa;function t(){return t=e||function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f];for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(c[m]=h[m])}return c},t.apply(this,arguments)}function r(c,f){c.prototype=Object.create(f.prototype),c.prototype.constructor=c,c.__proto__=f}var n=K6(),a=En,i=T,s=nr,u=function(c){r(f,c);function f(){return c.apply(this,arguments)||this}var h=f.prototype;return h.shouldComponentUpdate=function(p){var b=this.props.editorState,S=p.editorState,x=b.getDirectionMap(),E=S.getDirectionMap();if(x!==E)return!0;var w=b.getSelection().getHasFocus(),v=S.getSelection().getHasFocus();if(w!==v)return!0;var y=S.getNativelyRenderedContent(),C=b.isInCompositionMode(),O=S.isInCompositionMode();if(b===S||y!==null&&S.getCurrentContent()===y||C&&O)return!1;var P=b.getCurrentContent(),D=S.getCurrentContent(),R=b.getDecorator(),N=S.getDecorator();return C!==O||P!==D||R!==N||S.mustForceSelection()},h.render=function(){for(var p=this.props,b=p.blockRenderMap,S=p.blockRendererFn,x=p.blockStyleFn,E=p.customStyleMap,w=p.customStyleFn,v=p.editorState,y=p.editorKey,C=p.textDirectionality,O=v.getCurrentContent(),P=v.getSelection(),D=v.mustForceSelection(),R=v.getDecorator(),N=s(v.getDirectionMap()),z=O.getBlocksAsArray(),G=z[0],K=[],U=G;U;){var H=U.getKey(),B={blockRenderMap:b,blockRendererFn:S,blockStyleFn:x,contentState:O,customStyleFn:w,customStyleMap:E,decorator:R,editorKey:y,editorState:v,forceSelection:D,selection:P,block:U,direction:C||N.get(H),tree:v.getBlockTree(H)},A=b.get(U.getType())||b.get("unstyled"),j=A.wrapper;K.push({block:i.createElement(n,t({key:H},B)),wrapperTemplate:j,key:H,offsetKey:a.encode(H,0,0)});var I=U.getNextSiblingKey();U=I?O.getBlockForKey(I):null}for(var L=[],F=0;F<K.length;){var W=K[F];if(W.wrapperTemplate){var pe=[];do pe.push(K[F].block),F++;while(F<K.length&&K[F].wrapperTemplate===W.wrapperTemplate);var ye=i.cloneElement(W.wrapperTemplate,{key:W.key+"-wrap","data-offset-key":W.offsetKey},pe);L.push(ye)}else L.push(W.block),F++}return i.createElement("div",{"data-contents":"true"},L)},f}(i.Component);return Uc=u,Uc}var z6=Pa;function vf(){return vf=z6||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}function U6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H6(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function W6(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q6=qw,iv=En,Zs=T,ov=Bh,V6=Su,G6=Ih,Y6=yu,Q6=Ma,J6=Gw,X6=_u,Z6=Xw,eT=Ye,tT=ls,rT=nr,sv=10,lv=function(t,r){return t.getAnchorKey()===r||t.getFocusKey()===r},nT=function(e){H6(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,W6(U6(n),"_node",void 0),n}var r=t.prototype;return r.shouldComponentUpdate=function(a){return this.props.block!==a.block||this.props.tree!==a.tree||this.props.direction!==a.direction||lv(a.selection,a.block.getKey())&&a.forceSelection},r.componentDidMount=function(){if(!this.props.preventScroll){var a=this.props.selection,i=a.getEndKey();if(!(!a.getHasFocus()||i!==this.props.block.getKey())){var s=this._node;if(s!=null){var u=V6.getScrollParent(s),c=X6(u),f;if(u===window){var h=J6(s),m=h.y+h.height,p=Z6().height;f=m-p,f>0&&window.scrollTo(c.x,c.y+f+sv)}else{tT(s)||eT(!1);var b=s.offsetHeight+s.offsetTop,S=u.offsetTop+u.offsetHeight,x=S+c.y;f=b-x,f>0&&ov.setTop(u,ov.getTop(u)+f+sv)}}}}},r._renderChildren=function(){var a=this,i=this.props.block,s=i.getKey(),u=i.getText(),c=this.props.tree.size-1,f=lv(this.props.selection,s);return this.props.tree.map(function(h,m){var p=h.get("leaves");if(p.size===0)return null;var b=p.size-1,S=p.map(function(z,G){var K=iv.encode(s,m,G),U=z.get("start"),H=z.get("end");return Zs.createElement(q6,{key:K,offsetKey:K,block:i,start:U,selection:f?a.props.selection:null,forceSelection:a.props.forceSelection,text:u.slice(U,H),styleSet:i.getInlineStyleAt(U),customStyleMap:a.props.customStyleMap,customStyleFn:a.props.customStyleFn,isLast:m===c&&G===b})}).toArray(),x=h.get("decoratorKey");if(x==null||!a.props.decorator)return S;var E=rT(a.props.decorator),w=E.getComponentForKey(x);if(!w)return S;var v=E.getPropsForKey(x),y=iv.encode(s,m,0),C=p.first().get("start"),O=p.last().get("end"),P=u.slice(C,O),D=i.getEntityAt(h.get("start")),R=Y6.getHTMLDirIfDifferent(G6.getDirection(P),a.props.direction),N={contentState:a.props.contentState,decoratedText:P,dir:R,start:C,end:O,blockKey:s,entityKey:D,offsetKey:y};return Zs.createElement(w,vf({},v,N,{key:y}),S)}).toArray()},r.render=function(){var a=this,i=this.props,s=i.direction,u=i.offsetKey,c=Q6({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":s==="LTR","public/DraftStyleDefault/rtl":s==="RTL"});return Zs.createElement("div",{"data-offset-key":u,className:c,ref:function(h){return a._node=h}},this._renderChildren())},t}(Zs.Component),Zw=nT,Hc,uv;function aT(){if(uv)return Hc;uv=1;function e(t){var r=t||"",n=arguments.length;if(n>1)for(var a=1;a<n;a++){var i=arguments[a];i&&(r=(r?r+" ":"")+i)}return r}return Hc=e,Hc}var Wc,cv;function iT(){if(cv)return Wc;cv=1;var e=Pa;function t(){return t=e||function(b){for(var S=1;S<arguments.length;S++){var x=arguments[S];for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&(b[E]=x[E])}return b},t.apply(this,arguments)}function r(b){for(var S=1;S<arguments.length;S++){var x=arguments[S]!=null?arguments[S]:{},E=Object.keys(x);typeof Object.getOwnPropertySymbols=="function"&&(E=E.concat(Object.getOwnPropertySymbols(x).filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable}))),E.forEach(function(w){n(b,w,x[w])})}return b}function n(b,S,x){return S in b?Object.defineProperty(b,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[S]=x,b}function a(b,S){b.prototype=Object.create(S.prototype),b.prototype.constructor=b,b.__proto__=S}var i=Zw,s=En,u=T,c=Ma,f=aT(),h=nr,m=function(S,x,E,w){return c({"public/DraftStyleDefault/unorderedListItem":S==="unordered-list-item","public/DraftStyleDefault/orderedListItem":S==="ordered-list-item","public/DraftStyleDefault/reset":E,"public/DraftStyleDefault/depth0":x===0,"public/DraftStyleDefault/depth1":x===1,"public/DraftStyleDefault/depth2":x===2,"public/DraftStyleDefault/depth3":x===3,"public/DraftStyleDefault/depth4":x>=4,"public/DraftStyleDefault/listLTR":w==="LTR","public/DraftStyleDefault/listRTL":w==="RTL"})},p=function(b){a(S,b);function S(){return b.apply(this,arguments)||this}var x=S.prototype;return x.shouldComponentUpdate=function(w){var v=this.props.editorState,y=w.editorState,C=v.getDirectionMap(),O=y.getDirectionMap();if(C!==O)return!0;var P=v.getSelection().getHasFocus(),D=y.getSelection().getHasFocus();if(P!==D)return!0;var R=y.getNativelyRenderedContent(),N=v.isInCompositionMode(),z=y.isInCompositionMode();if(v===y||R!==null&&y.getCurrentContent()===R||N&&z)return!1;var G=v.getCurrentContent(),K=y.getCurrentContent(),U=v.getDecorator(),H=y.getDecorator();return N!==z||G!==K||U!==H||y.mustForceSelection()},x.render=function(){for(var w=this.props,v=w.blockRenderMap,y=w.blockRendererFn,C=w.blockStyleFn,O=w.customStyleMap,P=w.customStyleFn,D=w.editorState,R=w.editorKey,N=w.preventScroll,z=w.textDirectionality,G=D.getCurrentContent(),K=D.getSelection(),U=D.mustForceSelection(),H=D.getDecorator(),B=h(D.getDirectionMap()),A=G.getBlocksAsArray(),j=[],I=null,L=null,F=0;F<A.length;F++){var W=A[F],pe=W.getKey(),ye=W.getType(),ce=y(W),oe=void 0,ge=void 0,fe=void 0;ce&&(oe=ce.component,ge=ce.props,fe=ce.editable);var be=z||B.get(pe),Y=s.encode(pe,0,0),re={contentState:G,block:W,blockProps:ge,blockStyleFn:C,customStyleMap:O,customStyleFn:P,decorator:H,direction:be,forceSelection:U,offsetKey:Y,preventScroll:N,selection:K,tree:D.getBlockTree(pe)},me=v.get(ye)||v.get("unstyled"),xe=me.wrapper,se=me.element||v.get("unstyled").element,ee=W.getDepth(),ae="";if(C&&(ae=C(W)),se==="li"){var le=L!==xe||I===null||ee>I;ae=f(ae,m(ye,ee,le,be))}var Be=oe||i,Le={className:ae,"data-block":!0,"data-editor":R,"data-offset-key":Y,key:pe};fe!==void 0&&(Le=r({},Le,{contentEditable:fe,suppressContentEditableWarning:!0}));var ue=u.createElement(se,Le,u.createElement(Be,t({},re,{key:pe})));j.push({block:ue,wrapperTemplate:xe,key:pe,offsetKey:Y}),xe?I=W.getDepth():I=null,L=xe}for(var te=[],we=0;we<j.length;){var Te=j[we];if(Te.wrapperTemplate){var Me=[];do Me.push(j[we].block),we++;while(we<j.length&&j[we].wrapperTemplate===Te.wrapperTemplate);var He=u.cloneElement(Te.wrapperTemplate,{key:Te.key+"-wrap","data-offset-key":Te.offsetKey},Me);te.push(He)}else te.push(Te.block),we++}return u.createElement("div",{"data-contents":"true"},te)},S}(u.Component);return Wc=p,Wc}var oT=oa,sT=oT("draft_tree_data_support"),lT=sT?F6():iT(),ex={isImage:function(t){return dv(t)[0]==="image"},isJpeg:function(t){var r=dv(t);return ex.isImage(t)&&(r[1]==="jpeg"||r[1]==="pjpeg")}};function dv(e){return e.split("/")}var uT=ex,el=Ye;function cT(e){var t=e.length;if(!Array.isArray(e)&&(typeof e=="object"||typeof e=="function")||el(!1),typeof t!="number"&&el(!1),t===0||t-1 in e||el(!1),typeof e.callee=="function"&&el(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(a){}for(var r=Array(t),n=0;n<t;n++)r[n]=e[n];return r}function dT(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function fT(e){return dT(e)?Array.isArray(e)?e.slice():cT(e):[e]}var hT=fT;function Cu(e){return function(){return e}}var La=function(){};La.thatReturns=Cu;La.thatReturnsFalse=Cu(!1);La.thatReturnsTrue=Cu(!0);La.thatReturnsNull=Cu(null);La.thatReturnsThis=function(){return this};La.thatReturnsArgument=function(e){return e};var pT=La,mT=uT,gT=hT,vT=pT,yT=new RegExp(`\r
`,"g"),wT=`
`,xT={"text/rtf":1,"text/html":1};function kT(e){if(e.kind=="file")return e.getAsFile()}var bT=function(){function e(r){this.data=r,this.types=r.types?gT(r.types):[]}var t=e.prototype;return t.isRichText=function(){return this.getHTML()&&this.getText()?!0:this.isImage()?!1:this.types.some(function(n){return xT[n]})},t.getText=function(){var n;return this.data.getData&&(this.types.length?this.types.indexOf("text/plain")!=-1&&(n=this.data.getData("text/plain")):n=this.data.getData("Text")),n?n.replace(yT,wT):null},t.getHTML=function(){if(this.data.getData)if(this.types.length){if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")}else return this.data.getData("Text")},t.isLink=function(){return this.types.some(function(n){return n.indexOf("Url")!=-1||n.indexOf("text/uri-list")!=-1||n.indexOf("text/x-moz-url")})},t.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var n=this.data.getData("text/x-moz-url").split(`
`);return n[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null},t.isImage=function(){var n=this.types.some(function(u){return u.indexOf("application/x-moz-file")!=-1});if(n)return!0;for(var a=this.getFiles(),i=0;i<a.length;i++){var s=a[i].type;if(!mT.isImage(s))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(kT).filter(vT.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}(),tx=bT,ST=Ye,fv=/\.textClipping$/,_T={"text/plain":!0,"text/html":!0,"text/rtf":!0},CT=5e3;function ET(e,t){var r=0,n=[];e.forEach(function(a){TT(a,function(i){r++,i&&n.push(i.slice(0,CT)),r==e.length&&t(n.join("\r"))})})}function TT(e,t){if(!Hn.FileReader||e.type&&!(e.type in _T)){t("");return}if(e.type===""){var r="";fv.test(e.name)&&(r=e.name.replace(fv,"")),t(r);return}var n=new FileReader;n.onload=function(){var a=n.result;typeof a!="string"&&ST(!1),t(a)},n.onerror=function(){t("")},n.readAsText(e)}var rx=ET;function NT(e){return e==="handled"||e===!0}var Eu=NT,IT=tx,nx=rr,ax=tt,DT=ku,MT=xu,PT=rx,jT=Pw,LT=Iw,hv=Eu,qc=nr;function AT(e,t){var r=null,n=null,a=MT(e.currentTarget);if(typeof a.caretRangeFromPoint=="function"){var i=a.caretRangeFromPoint(e.x,e.y);r=i.startContainer,n=i.startOffset}else if(e.rangeParent)r=e.rangeParent,n=e.rangeOffset;else return null;r=qc(r),n=qc(n);var s=qc(DT(r));return jT(t,s,n,s,n)}var OT={onDragEnd:function(t){t.exitCurrentMode(),pv(t)},onDrop:function(t,r){var n=new IT(r.nativeEvent.dataTransfer),a=t._latestEditorState,i=AT(r.nativeEvent,a);if(r.preventDefault(),t._dragCount=0,t.exitCurrentMode(),i!=null){var s=n.getFiles();if(s.length>0){if(t.props.handleDroppedFiles&&hv(t.props.handleDroppedFiles(i,s)))return;PT(s,function(c){c&&t.update(mv(a,i,c))});return}var u=t._internalDrag?"internal":"external";t.props.handleDrop&&hv(t.props.handleDrop(i,n,u))||(t._internalDrag?t.update(RT(a,i)):t.update(mv(a,i,n.getText()))),pv(t)}}};function pv(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var r=new MouseEvent("mouseup",{view:LT(t),bubbles:!0,cancelable:!0});t.dispatchEvent(r)}}function RT(e,t){var r=nx.moveText(e.getCurrentContent(),e.getSelection(),t);return ax.push(e,r,"insert-fragment")}function mv(e,t,r){var n=nx.insertText(e.getCurrentContent(),t,r,e.getCurrentInlineStyle());return ax.push(e,n,"insert-fragment")}var BT=OT;function $T(e){var t=e.getSelection(),r=t.getAnchorKey(),n=e.getBlockTree(r),a=t.getStartOffset(),i=!1;return n.some(function(s){return a===s.get("start")?(i=!0,!0):a<s.get("end")?s.get("leaves").some(function(u){var c=u.get("start");return a===c?(i=!0,!0):!1}):!1}),i}var KT=$T;(function(e,t){if(e.setImmediate)return;var r=1,n={},a=!1,i=e.document,s;function u(v){typeof v!="function"&&(v=new Function(""+v));for(var y=new Array(arguments.length-1),C=0;C<y.length;C++)y[C]=arguments[C+1];var O={callback:v,args:y};return n[r]=O,s(r),r++}function c(v){delete n[v]}function f(v){var y=v.callback,C=v.args;switch(C.length){case 0:y();break;case 1:y(C[0]);break;case 2:y(C[0],C[1]);break;case 3:y(C[0],C[1],C[2]);break;default:y.apply(t,C);break}}function h(v){if(a)setTimeout(h,0,v);else{var y=n[v];if(y){a=!0;try{f(y)}finally{c(v),a=!1}}}}function m(){s=function(v){process.nextTick(function(){h(v)})}}function p(){if(e.postMessage&&!e.importScripts){var v=!0,y=e.onmessage;return e.onmessage=function(){v=!1},e.postMessage("","*"),e.onmessage=y,v}}function b(){var v="setImmediate$"+Math.random()+"$",y=function(C){C.source===e&&typeof C.data=="string"&&C.data.indexOf(v)===0&&h(+C.data.slice(v.length))};e.addEventListener?e.addEventListener("message",y,!1):e.attachEvent("onmessage",y),s=function(C){e.postMessage(v+C,"*")}}function S(){var v=new MessageChannel;v.port1.onmessage=function(y){var C=y.data;h(C)},s=function(y){v.port2.postMessage(y)}}function x(){var v=i.documentElement;s=function(y){var C=i.createElement("script");C.onreadystatechange=function(){h(y),C.onreadystatechange=null,v.removeChild(C),C=null},v.appendChild(C)}}function E(){s=function(v){setTimeout(h,0,v)}}var w=Object.getPrototypeOf&&Object.getPrototypeOf(e);w=w&&w.setTimeout?w:e,{}.toString.call(e.process)==="[object process]"?m():p()?b():e.MessageChannel?S():i&&"onreadystatechange"in i.createElement("script")?x():E(),w.setImmediate=u,w.clearImmediate=c})(typeof self=="undefined"?Hn:self);var FT=Hn.setImmediate,zT=rr,yf=tt,UT=ar,gv=Lh,HT=Eu,WT=KT,vv=nr,qT=FT,VT="'",GT="/",YT=UT.isBrowser("Firefox");function QT(e){return YT&&(e==VT||e==GT)}function yv(e,t,r,n,a){var i=zT.replaceText(e.getCurrentContent(),e.getSelection(),t,r,n);return yf.push(e,i,"insert-characters",a)}function JT(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e._latestEditorState,n=t.data;if(n){if(e.props.handleBeforeInput&&HT(e.props.handleBeforeInput(n,r,t.timeStamp))){t.preventDefault();return}var a=r.getSelection(),i=a.getStartOffset(),s=a.getAnchorKey();if(!a.isCollapsed()){t.preventDefault(),e.update(yv(r,n,r.getCurrentInlineStyle(),gv(r.getCurrentContent(),r.getSelection()),!0));return}var u=yv(r,n,r.getCurrentInlineStyle(),gv(r.getCurrentContent(),r.getSelection()),!1),c=!1;if(c||(c=WT(e._latestCommittedEditorState)),!c){var f=r.getBlockTree(s),h=u.getBlockTree(s);c=f.size!==h.size||f.zip(h).some(function(m){var p=m[0],b=m[1],S=p.get("start"),x=S+(S>=i?n.length:0),E=p.get("end"),w=E+(E>=i?n.length:0),v=b.get("start"),y=b.get("end"),C=b.get("decoratorKey");return p.get("decoratorKey")!==C||p.get("leaves").size!==b.get("leaves").size||x!==v||w!==y||C!=null&&y-v!==E-S})}if(c||(c=QT(n)),c||(c=vv(u.getDirectionMap()).get(s)!==vv(r.getDirectionMap()).get(s)),c){t.preventDefault(),u=yf.set(u,{forceSelection:!0}),e.update(u);return}u=yf.set(u,{nativelyRenderedContent:u.getCurrentContent()}),e._pendingStateFromBeforeInput=u,qT(function(){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}var XT=JT,ZT=tt,wv=Oh,eN=Fw;function tN(e,t){var r=t.currentTarget.ownerDocument;if(!e.props.preserveSelectionOnBlur&&eN(r)===r.body){var n=r.defaultView.getSelection(),a=e.editor;n.rangeCount===1&&wv(a,n.anchorNode)&&wv(a,n.focusNode)&&n.removeAllRanges()}var i=e._latestEditorState,s=i.getSelection();if(s.getHasFocus()){var u=s.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(ZT.acceptSelection(i,u))}}var rN=tN,nN=tt;function aN(e,t){e.setMode("composite"),e.update(nN.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}var iN=aN,oN=pu;function sN(e){var t=e.getSelection();return t.isCollapsed()?null:oN(e.getCurrentContent(),t)}var ix=sN,lN=ix;function uN(e,t){var r=e._latestEditorState,n=r.getSelection();if(n.isCollapsed()){t.preventDefault();return}e.setClipboard(lN(e._latestEditorState))}var cN=uN;function dN(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}var fN=dN,hN=rr,pN=tt,mN=Su,gN=ix,vN=_u,yN=fN;function wN(e,t){var r=e._latestEditorState,n=r.getSelection(),a=t.target,i;if(n.isCollapsed()){t.preventDefault();return}if(yN(a)){var s=a;i=vN(mN.getScrollParent(s))}var u=gN(r);e.setClipboard(u),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(i),e.exitCurrentMode(),e.update(xN(r))},0)}function xN(e){var t=hN.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return pN.push(e,t,"remove-range")}var kN=wN;function bN(e,t){e.setMode("drag"),t.preventDefault()}var SN=bN;function _N(e){e._internalDrag=!0,e.setMode("drag")}var CN=_N,xv=tt,EN=ar;function TN(e,t){var r=e._latestEditorState,n=r.getSelection();if(!n.getHasFocus()){var a=n.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),EN.isBrowser("Chrome < 60.0.3081.0")?e.update(xv.forceSelection(r,a)):e.update(xv.acceptSelection(r,a))}}var NN=TN,IN=Ye,ox=55296,DN=56319,MN=56320,sx=57343,PN=/[\uD800-\uDFFF]/;function lx(e){return ox<=e&&e<=sx}function jN(e,t){if(0<=t&&t<e.length||IN(!1),t+1===e.length)return!1;var r=e.charCodeAt(t),n=e.charCodeAt(t+1);return ox<=r&&r<=DN&&MN<=n&&n<=sx}function $h(e){return PN.test(e)}function bi(e,t){return 1+lx(e.charCodeAt(t))}function LN(e){if(!$h(e))return e.length;for(var t=0,r=0;r<e.length;r+=bi(e,r))t++;return t}function ux(e,t,r){if(t=t||0,r=r===void 0?1/0:r||0,!$h(e))return e.substr(t,r);var n=e.length;if(n<=0||t>n||r<=0)return"";var a=0;if(t>0){for(;t>0&&a<n;t--)a+=bi(e,a);if(a>=n)return""}else if(t<0){for(a=n;t<0&&0<a;t++)a-=bi(e,a-1);a<0&&(a=0)}var i=n;if(r<n)for(i=a;r>0&&i<n;r--)i+=bi(e,i);return e.substring(a,i)}function AN(e,t,r){t=t||0,r=r===void 0?1/0:r||0,t<0&&(t=0),r<0&&(r=0);var n=Math.abs(r-t);return t=t<r?t:r,ux(e,t,n)}function ON(e){for(var t=[],r=0;r<e.length;r+=bi(e,r))t.push(e.codePointAt(r));return t}var RN={getCodePoints:ON,getUTF16Length:bi,hasSurrogateUnit:$h,isCodeUnitInSurrogateRange:lx,isSurrogatePair:jN,strlen:LN,substring:AN,substr:ux},Aa=RN;function BN(e,t){var r=e.getSelection(),n=e.getCurrentContent(),a=r.getStartKey(),i=r.getStartOffset(),s=a,u=0;if(t>i){var c=n.getKeyBefore(a);if(c==null)s=a;else{s=c;var f=n.getBlockForKey(c);u=f.getText().length}}else u=i-t;return r.merge({focusKey:s,focusOffset:u,isBackward:!0})}var Kh=BN,$N=rr,KN=oa,kv=KN("draft_tree_data_support");function FN(e,t,r){var n=e.getSelection(),a=e.getCurrentContent(),i=n,s=n.getAnchorKey(),u=n.getFocusKey(),c=a.getBlockForKey(s);if(kv&&r==="forward"&&s!==u)return a;if(n.isCollapsed()){if(r==="forward"){if(e.isSelectionAtEndOfContent())return a;if(kv){var f=n.getAnchorOffset()===a.getBlockForKey(s).getLength();if(f){var h=a.getBlockForKey(c.nextSibling);if(!h||h.getLength()===0)return a}}}else if(e.isSelectionAtStartOfContent())return a;if(i=t(e),i===n)return a}return $N.removeRange(a,i,r)}var us=FN,zN=tt,UN=Aa,HN=Kh,WN=us;function qN(e){var t=WN(e,function(n){var a=n.getSelection(),i=n.getCurrentContent(),s=a.getAnchorKey(),u=a.getAnchorOffset(),c=i.getBlockForKey(s).getText()[u-1];return HN(n,c?UN.getUTF16Length(c,0):1)},"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return zN.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")}var cx=qN,VN=rr,GN=En,YN=tt,QN=ar,JN=Ow,XN=JN.notEmptyKey,ZN=ku,eI=cx,tI=nr,rI=QN.isEngine("Gecko"),nI=`

`;function aI(e,t){switch(e){case"deleteContentBackward":return eI(t)}return t}function iI(e,t){e._pendingStateFromBeforeInput!==void 0&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var r=e.editor,n=r.ownerDocument.defaultView.getSelection(),a=n.anchorNode,i=n.isCollapsed,s=(a==null?void 0:a.nodeType)!==Node.TEXT_NODE&&(a==null?void 0:a.nodeType)!==Node.ELEMENT_NODE;if(!(a==null||s)){if(a.nodeType===Node.TEXT_NODE&&(a.previousSibling!==null||a.nextSibling!==null)){var u=a.parentNode;if(u==null)return;a.nodeValue=u.textContent;for(var c=u.firstChild;c!=null;c=c.nextSibling)c!==a&&u.removeChild(c)}var f=a.textContent,h=e._latestEditorState,m=tI(ZN(a)),p=GN.decode(m),b=p.blockKey,S=p.decoratorKey,x=p.leafKey,E=h.getBlockTree(b).getIn([S,"leaves",x]),w=E.start,v=E.end,y=h.getCurrentContent(),C=y.getBlockForKey(b),O=C.getText().slice(w,v);if(f.endsWith(nI)&&(f=f.slice(0,-1)),f===O){var P=t.nativeEvent.inputType;if(P){var D=aI(P,h);if(D!==h){e.restoreEditorDOM(),e.update(D);return}}return}var R=h.getSelection(),N=R.merge({anchorOffset:w,focusOffset:v,isBackward:!1}),z=C.getEntityAt(w),G=XN(z)?y.getEntity(z):null,K=G!=null?G.getMutability():null,U=K==="MUTABLE",H=U?"spellcheck-change":"apply-entity",B=VN.replaceText(y,N,f,C.getInlineStyleAt(w),U?C.getEntityAt(w):null),A,j,I,L;if(rI)A=n.anchorOffset,j=n.focusOffset,I=w+Math.min(A,j),L=I+Math.abs(A-j),A=I,j=L;else{var F=f.length-O.length;I=R.getStartOffset(),L=R.getEndOffset(),A=i?L+F:I,j=L+F}var W=B.merge({selectionBefore:y.getSelectionAfter(),selectionAfter:R.merge({anchorOffset:A,focusOffset:j})});e.update(YN.push(h,W,H))}}var oI=iI,sI=bu;function lI(e){return e.which===sI.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}var uI=lI,cI=ar,dI=uI,Vc=cI.isPlatform("Mac OS X"),dx={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return Vc&&t.altKey},usesMacOSHeuristics:function(){return Vc},hasCommandModifier:function(t){return Vc?!!t.metaKey&&!t.altKey:dx.isCtrlKeyCommand(t)},isSoftNewlineEvent:dI},Fh=dx,bv=rr,Sv=tt,fI=pu,hI=nr,Gc=null,pI={cut:function(t){var r=t.getCurrentContent(),n=t.getSelection(),a=null;if(n.isCollapsed()){var i=n.getAnchorKey(),s=r.getBlockForKey(i).getLength();if(s===n.getAnchorOffset()){var u=r.getKeyAfter(i);if(u==null)return t;a=n.set("focusKey",u).set("focusOffset",0)}else a=n.set("focusOffset",s)}else a=n;a=hI(a),Gc=fI(r,a);var c=bv.removeRange(r,a,"forward");return c===r?t:Sv.push(t,c,"remove-range")},paste:function(t){if(!Gc)return t;var r=bv.replaceWithFragment(t.getCurrentContent(),t.getSelection(),Gc);return Sv.push(t,r,"insert-fragment")}},mI=pI,gI=ar,vI=Ye,yI=gI.isBrowser("Chrome");function wI(e){for(var t=e.cloneRange(),r=[],n=e.endContainer;n!=null;n=n.parentNode){var a=n===e.commonAncestorContainer;a?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i=Array.from(t.getClientRects());if(r.push(i),a){var s;return r.reverse(),(s=[]).concat.apply(s,r)}t.setEndBefore(n)}vI(!1)}var xI=yI?wI:function(e){return Array.from(e.getClientRects())},fx=xI,kI=Aa,bI=xu,_v=fx,wf=Ye;function SI(e){var t=getComputedStyle(e),r=bI(e),n=r.createElement("div");n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontStyle=t.fontStyle,n.style.fontWeight=t.fontWeight,n.style.lineHeight=t.lineHeight,n.style.position="absolute",n.textContent="M";var a=r.body;a||wf(!1),a.appendChild(n);var i=n.getBoundingClientRect();return a.removeChild(n),i.height}function Cv(e,t){for(var r=1/0,n=1/0,a=-1/0,i=-1/0,s=0;s<e.length;s++){var u=e[s];u.width===0||u.width===1||(r=Math.min(r,u.top),n=Math.min(n,u.bottom),a=Math.max(a,u.top),i=Math.max(i,u.bottom))}return a<=n&&a-r<t&&i-n<t}function _I(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}function CI(e){e.collapsed||wf(!1),e=e.cloneRange();var t=e.startContainer;t.nodeType!==1&&(t=t.parentNode);var r=SI(t),n=e.endContainer,a=e.endOffset;for(e.setStart(e.startContainer,0);Cv(_v(e),r)&&(n=e.startContainer,a=e.startOffset,n.parentNode||wf(!1),e.setStartBefore(n),!(n.nodeType===1&&getComputedStyle(n).display!=="inline")););var i=n,s=a-1;do{for(var u=i.nodeValue,c=s;c>=0;c--)if(!(u!=null&&c>0&&kI.isSurrogatePair(u,c-1)))if(e.setStart(i,c),Cv(_v(e),r))n=i,a=c;else break;if(c===-1||i.childNodes.length===0)break;i=i.childNodes[c],s=_I(i)}while(!0);return e.setStart(n,a),e}var EI=CI,TI=tt,NI=EI,II=jw,DI=Kh,MI=us;function PI(e,t){var r=MI(e,function(n){var a=n.getSelection();if(a.isCollapsed()&&a.getAnchorOffset()===0)return DI(n,1);var i=t.currentTarget.ownerDocument,s=i.defaultView.getSelection(),u=s.getRangeAt(0);return u=NI(u),II(n,null,u.endContainer,u.endOffset,u.startContainer,u.startOffset).selectionState},"backward");return r===e.getCurrentContent()?e:TI.push(e,r,"remove-range")}var jI=PI,LI=`[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;-----------]`,AI={getPunctuation:function(){return LI}},OI=AI,RI=OI.getPunctuation(),hx="[']",Si="\\s|(?![_])"+RI,BI="^(?:"+Si+")*(?:"+hx+"|(?!"+Si+").)*(?:(?!"+Si+").)",$I=new RegExp(BI),KI="(?:(?!"+Si+").)(?:"+hx+"|(?!"+Si+").)*(?:"+Si+")*$",FI=new RegExp(KI);function Ev(e,t){var r=t?FI.exec(e):$I.exec(e);return r?r[0]:e}var zI={getBackward:function(t){return Ev(t,!0)},getForward:function(t){return Ev(t,!1)}},px=zI,UI=px,HI=tt,Tv=Kh,WI=us;function qI(e){var t=WI(e,function(r){var n=r.getSelection(),a=n.getStartOffset();if(a===0)return Tv(r,1);var i=n.getStartKey(),s=r.getCurrentContent(),u=s.getBlockForKey(i).getText().slice(0,a),c=UI.getBackward(u);return Tv(r,c.length||1)},"backward");return t===e.getCurrentContent()?e:HI.push(e,t,"remove-range")}var VI=qI;function GI(e,t){var r=e.getSelection(),n=r.getStartKey(),a=r.getStartOffset(),i=e.getCurrentContent(),s=n,u,c=i.getBlockForKey(n);return t>c.getText().length-a?(s=i.getKeyAfter(n),u=0):u=a+t,r.merge({focusKey:s,focusOffset:u})}var mx=GI,YI=px,QI=tt,JI=mx,XI=us;function ZI(e){var t=XI(e,function(r){var n=r.getSelection(),a=n.getStartOffset(),i=n.getStartKey(),s=r.getCurrentContent(),u=s.getBlockForKey(i).getText().slice(a),c=YI.getForward(u);return JI(r,c.length||1)},"forward");return t===e.getCurrentContent()?e:QI.push(e,t,"remove-range")}var eD=ZI,tD=rr,rD=tt;function nD(e){var t=tD.splitBlock(e.getCurrentContent(),e.getSelection());return rD.push(e,t,"split-block")}var aD=nD,iD=tt;function oD(e){var t=e.getSelection(),r=t.getEndKey(),n=e.getCurrentContent(),a=n.getBlockForKey(r).getLength();return iD.set(e,{selection:t.merge({anchorKey:r,anchorOffset:a,focusKey:r,focusOffset:a,isBackward:!1}),forceSelection:!0})}var sD=oD,lD=tt;function uD(e){var t=e.getSelection(),r=t.getStartKey();return lD.set(e,{selection:t.merge({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:0,isBackward:!1}),forceSelection:!0})}var cD=uD,dD=tt,fD=Aa,hD=mx,pD=us;function mD(e){var t=pD(e,function(n){var a=n.getSelection(),i=n.getCurrentContent(),s=a.getAnchorKey(),u=a.getAnchorOffset(),c=i.getBlockForKey(s).getText()[u];return hD(n,c?fD.getUTF16Length(c,0):1)},"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return dD.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")}var gD=mD,Nv=rr,Iv=tt,vD=pu;function yD(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(r===0)return e;var n=t.getAnchorKey(),a=e.getCurrentContent(),i=a.getBlockForKey(n),s=i.getLength();if(s<=1)return e;var u,c;r===s?(u=t.set("anchorOffset",r-1),c=t):(u=t.set("focusOffset",r+1),c=u.set("anchorOffset",r+1));var f=vD(a,u),h=Nv.removeRange(a,u,"backward"),m=h.getSelectionAfter(),p=m.getAnchorOffset()-1,b=m.merge({anchorOffset:p,focusOffset:p}),S=Nv.replaceWithFragment(h,b,f),x=Iv.push(e,S,"insert-fragment");return Iv.acceptSelection(x,c)}var wD=yD,Yc=tt;function xD(e,t,r){var n=Yc.undo(t);if(t.getLastChangeType()==="spellcheck-change"){var a=n.getCurrentContent();r(Yc.set(n,{nativelyRenderedContent:a}));return}if(e.preventDefault(),!t.getNativelyRenderedContent()){r(n);return}r(Yc.set(t,{nativelyRenderedContent:null})),setTimeout(function(){r(n)},0)}var kD=xD,bD=rr,gx=tt,SD=Fh,fn=bu,Dv=mI,_D=ar,Mv=Eu,CD=jI,ED=VI,TD=eD,ND=aD,ID=sD,DD=cD,MD=cx,PD=gD,jD=wD,LD=kD,Pv=SD.isOptionKeyCommand,jv=_D.isBrowser("Chrome");function AD(e,t,r){switch(e){case"redo":return gx.redo(t);case"delete":return PD(t);case"delete-word":return TD(t);case"backspace":return MD(t);case"backspace-word":return ED(t);case"backspace-to-start-of-line":return CD(t,r);case"split-block":return ND(t);case"transpose-characters":return jD(t);case"move-selection-to-start-of-block":return DD(t);case"move-selection-to-end-of-block":return ID(t);case"secondary-cut":return Dv.cut(t);case"secondary-paste":return Dv.paste(t);default:return t}}function OD(e,t){var r=t.which,n=e._latestEditorState;function a(c){var f=e.props[c];return f?(f(t),!0):!1}switch(r){case fn.RETURN:if(t.preventDefault(),e.props.handleReturn&&Mv(e.props.handleReturn(t,n)))return;break;case fn.ESC:if(t.preventDefault(),a("onEscape"))return;break;case fn.TAB:if(a("onTab"))return;break;case fn.UP:if(a("onUpArrow"))return;break;case fn.RIGHT:if(a("onRightArrow"))return;break;case fn.DOWN:if(a("onDownArrow"))return;break;case fn.LEFT:if(a("onLeftArrow"))return;break;case fn.SPACE:jv&&Pv(t)&&t.preventDefault()}var i=e.props.keyBindingFn(t);if(i==null||i===""){if(r===fn.SPACE&&jv&&Pv(t)){var s=bD.replaceText(n.getCurrentContent(),n.getSelection(),"");e.update(gx.push(n,s,"insert-characters"))}return}if(i==="undo"){LD(t,n,e.update);return}if(t.preventDefault(),!(e.props.handleKeyCommand&&Mv(e.props.handleKeyCommand(i,n,t.timeStamp)))){var u=AD(i,n,t);u!==n&&e.update(u)}}var RD=OD;function BD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $D=function(){function e(r){BD(this,"_uri",void 0),this._uri=r}var t=e.prototype;return t.toString=function(){return this._uri},e}(),KD=$D,FD=ar,zD=Ye,UD=FD.isBrowser("IE <= 9");function HD(e){var t,r=null;return!UD&&document.implementation&&document.implementation.createHTMLDocument&&(t=document.implementation.createHTMLDocument("foo"),t.documentElement||zD(!1),t.documentElement.innerHTML=e,r=t.getElementsByTagName("body")[0]),r}var vx=HD,WD=ja;function qD(e){return!e||!e.ownerDocument?!1:WD(e)&&e.nodeName==="A"}var VD=qD,GD=ja;function YD(e){return!e||!e.ownerDocument?!1:GD(e)&&e.nodeName==="IMG"}var QD=YD,ua;function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Pt(e,a,r[a])})}return e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var JD=Dr,XD=Da,ZD=Mr,eM=Ph,Lv=mu,yx=KD,lo=Ma,Av=sn,tM=vx,wx=oa,zh=Ge,jn=zh.List,xx=zh.Map,rM=zh.OrderedSet,kx=VD,nM=Bw,Uh=ls,bx=QD,Ov=wx("draft_tree_data_support"),aM="&nbsp;",Sx=" ",iM=new RegExp("\r","g"),oM=new RegExp(`
`,"g"),sM=new RegExp(`^
`,"g"),lM=new RegExp(aM,"g"),uM=new RegExp("&#13;?","g"),cM=new RegExp("&#8203;?","g"),dM=["bold","bolder","500","600","700","800","900"],fM=["light","lighter","normal","100","200","300","400"],hM=["className","href","rel","target","title"],pM=["alt","className","height","src","width"],Rv=(ua={},Pt(ua,lo("public/DraftStyleDefault/depth0"),0),Pt(ua,lo("public/DraftStyleDefault/depth1"),1),Pt(ua,lo("public/DraftStyleDefault/depth2"),2),Pt(ua,lo("public/DraftStyleDefault/depth3"),3),Pt(ua,lo("public/DraftStyleDefault/depth4"),4),ua),Bv=xx({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),mM=function(t){var r={};return t.mapKeys(function(n,a){var i=[a.element];a.aliasedElements!==void 0&&i.push.apply(i,a.aliasedElements),i.forEach(function(s){r[s]===void 0?r[s]=n:typeof r[s]=="string"?r[s]=[r[s],n]:r[s].push(n)})}),xx(r)},gM=function(t){if(Uh(t)){var r=t;if(r.style.fontFamily.includes("monospace"))return"CODE"}return null},vM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(Rv).some(function(n){t.classList.contains(n)&&(r=Rv[n])}),r},yM=function(t){if(!kx(t))return!1;var r=t;if(!r.href||r.protocol!=="http:"&&r.protocol!=="https:"&&r.protocol!=="mailto:"&&r.protocol!=="tel:")return!1;try{var n=new yx(r.href);return!0}catch(a){return!1}},wM=function(t){if(!bx(t))return!1;var r=t;return!!(r.attributes.getNamedItem("src")&&r.attributes.getNamedItem("src").value)},xM=function(t,r){if(!Uh(t))return r;var n=t,a=n.style.fontWeight,i=n.style.fontStyle,s=n.style.textDecoration;return r.withMutations(function(u){dM.indexOf(a)>=0?u.add("BOLD"):fM.indexOf(a)>=0&&u.remove("BOLD"),i==="italic"?u.add("ITALIC"):i==="normal"&&u.remove("ITALIC"),s==="underline"&&u.add("UNDERLINE"),s==="line-through"&&u.add("STRIKETHROUGH"),s==="none"&&(u.remove("UNDERLINE"),u.remove("STRIKETHROUGH"))})},Jc=function(t){return t==="ul"||t==="ol"},kM=function(){function e(r,n){Pt(this,"characterList",jn()),Pt(this,"currentBlockType","unstyled"),Pt(this,"currentDepth",0),Pt(this,"currentEntity",null),Pt(this,"currentText",""),Pt(this,"wrapper",null),Pt(this,"blockConfigs",[]),Pt(this,"contentBlocks",[]),Pt(this,"entityMap",Lv),Pt(this,"blockTypeMap",void 0),Pt(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=r,this.disambiguate=n}var t=e.prototype;return t.clear=function(){this.characterList=jn(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=Lv,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(n){var a;return this.contentBlocks=[],this.currentDepth=0,(a=this.blockConfigs).push.apply(a,this._toBlockConfigs([n],rM())),this._trimCurrentText(),this.currentText!==""&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return this.contentBlocks.length===0&&(Ov?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=n.key||Av(),i=Qc({key:a,type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:jn(),prevSibling:null,nextSibling:null,childConfigs:[]},n);return this.characterList=jn(),this.currentBlockType="unstyled",this.currentText="",i},t._toBlockConfigs=function(n,a){for(var i=[],s=0;s<n.length;s++){var u=n[s],c=u.nodeName.toLowerCase();if(c==="body"||Jc(c)){this._trimCurrentText(),this.currentText!==""&&i.push(this._makeBlockConfig());var f=this.currentDepth,h=this.wrapper;Jc(c)&&(this.wrapper=c,Jc(h)&&this.currentDepth++),i.push.apply(i,this._toBlockConfigs(Array.from(u.childNodes),a)),this.currentDepth=f,this.wrapper=h;continue}var m=this.blockTypeMap.get(c);if(m!==void 0){this._trimCurrentText(),this.currentText!==""&&i.push(this._makeBlockConfig());var p=this.currentDepth,b=this.wrapper;if(this.wrapper=c==="pre"?"pre":this.wrapper,typeof m!="string"&&(m=this.disambiguate(c,this.wrapper)||m[0]||"unstyled"),!Ov&&Uh(u)&&(m==="unordered-list-item"||m==="ordered-list-item")){var S=u;this.currentDepth=vM(S,this.currentDepth)}var x=Av(),E=this._toBlockConfigs(Array.from(u.childNodes),a);this._trimCurrentText(),i.push(this._makeBlockConfig({key:x,childConfigs:E,type:m})),this.currentDepth=p,this.wrapper=b;continue}if(c==="#text"){this._addTextNode(u,a);continue}if(c==="br"){this._addBreakNode(u,a);continue}if(wM(u)){this._addImgNode(u,a);continue}if(yM(u)){this._addAnchorNode(u,i,a);continue}var w=a;Bv.has(c)&&(w=w.add(Bv.get(c))),w=xM(u,w);var v=gM(u);v!=null&&(w=w.add(v)),i.push.apply(i,this._toBlockConfigs(Array.from(u.childNodes),w))}return i},t._appendText=function(n,a){var i;this.currentText+=n;var s=JD.create({style:a,entity:this.currentEntity});this.characterList=(i=this.characterList).push.apply(i,Array(n.length).fill(s))},t._trimCurrentText=function(){var n=this.currentText.length,a=n-this.currentText.trimLeft().length,i=this.currentText.trimRight().length,s=this.characterList.findEntry(function(u){return u.getEntity()!==null});a=s!==void 0?Math.min(a,s[0]):a,s=this.characterList.reverse().findEntry(function(u){return u.getEntity()!==null}),i=s!==void 0?Math.max(i,n-s[0]):i,a>i?(this.currentText="",this.characterList=jn()):(this.currentText=this.currentText.slice(a,i),this.characterList=this.characterList.slice(a,i))},t._addTextNode=function(n,a){var i=n.textContent,s=i.trim();s===""&&this.wrapper!=="pre"&&(i=" "),this.wrapper!=="pre"&&(i=i.replace(sM,""),i=i.replace(oM,Sx)),this._appendText(i,a)},t._addBreakNode=function(n,a){nM(n)&&this._appendText(`
`,a)},t._addImgNode=function(n,a){if(bx(n)){var i=n,s={};pM.forEach(function(u){var c=i.getAttribute(u);c&&(s[u]=c)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",s),wx("draftjs_fix_paste_for_img")?i.getAttribute("role")!=="presentation"&&this._appendText("",a):this._appendText("",a),this.currentEntity=null}},t._addAnchorNode=function(n,a,i){if(kx(n)){var s=n,u={};hM.forEach(function(c){var f=s.getAttribute(c);f&&(u[c]=f)}),u.url=new yx(s.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",u||{}),a.push.apply(a,this._toBlockConfigs(Array.from(n.childNodes),i)),this.currentEntity=null}},t._toContentBlocks=function(n){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=n.length-1,s=0;s<=i;s++){var u=n[s];u.parent=a,u.prevSibling=s>0?n[s-1].key:null,u.nextSibling=s<i?n[s+1].key:null,u.children=jn(u.childConfigs.map(function(c){return c.key})),this.contentBlocks.push(new ZD(Qc({},u))),this._toContentBlocks(u.childConfigs,u.key)}},t._hoistContainersInBlockConfigs=function(n){var a=this,i=jn(n).flatMap(function(s){return s.type!=="unstyled"||s.text!==""?[s]:a._hoistContainersInBlockConfigs(s.childConfigs)});return i},t._toFlatContentBlocks=function(n){var a=this,i=this._hoistContainersInBlockConfigs(n);i.forEach(function(s){var u=a._extractTextFromBlockConfigs(s.childConfigs),c=u.text,f=u.characterList;a.contentBlocks.push(new XD(Qc({},s,{text:s.text+c,characterList:s.characterList.concat(f)})))})},t._extractTextFromBlockConfigs=function(n){for(var a=n.length-1,i="",s=jn(),u=0;u<=a;u++){var c=n[u];i+=c.text,s=s.concat(c.characterList),i!==""&&c.type!=="unstyled"&&(i+=`
`,s=s.push(s.last()));var f=this._extractTextFromBlockConfigs(c.childConfigs);i+=f.text,s=s.concat(f.characterList)}return{text:i,characterList:s}},e}(),bM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:tM,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:eM;t=t.trim().replace(iM,"").replace(lM,Sx).replace(uM,"").replace(cM,"");var a=r(t);if(!a)return null;var i=mM(n),s=function(c,f){return c==="li"?f==="ol"?"ordered-list-item":"unordered-list-item":null};return new kM(i,s).addDOMNode(a).getContentBlocks()},_x=bM;function SM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){_M(e,a,r[a])})}return e}function _M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CM=Da,EM=Mr,TM=_x,NM=sn,IM=vx,DM=oa,Cx=Ge,MM=ow,PM=Cx.List,jM=Cx.Repeat,Ex=DM("draft_tree_data_support"),LM=Ex?EM:CM,AM={processHTML:function(t,r){return TM(t,IM,r)},processText:function(t,r,n){return t.reduce(function(a,i,s){i=MM(i);var u=NM(),c={key:u,type:n,text:i,characterList:PM(jM(r,i.length))};if(Ex&&s!==0){var f=s-1,h=a[f]=a[f].merge({nextSibling:u});c=SM({},c,{prevSibling:h.getKey()})}return a.push(new LM(c)),a},[])}},OM=AM;function RM(e,t,r,n){var a=t.getStartKey(),i=t.getEndKey(),s=e.getBlockMap(),u=s.toSeq().skipUntil(function(c,f){return f===a}).takeUntil(function(c,f){return f===i}).concat([[i,s.get(i)]]).map(function(c){var f=c.getDepth()+r;return f=Math.max(0,Math.min(f,n)),c.set("depth",f)});return s=s.merge(u),e.merge({blockMap:s,selectionBefore:t,selectionAfter:t})}var BM=RM,ca=rr,Gr=tt,$M=BM,KM=nr,Jr={currentBlockContainsLink:function(t){var r=t.getSelection(),n=t.getCurrentContent(),a=n.getEntityMap();return n.getBlockForKey(r.getAnchorKey()).getCharacterList().slice(r.getStartOffset(),r.getEndOffset()).some(function(i){var s=i.getEntity();return!!s&&a.__get(s).getType()==="LINK"})},getCurrentBlockType:function(t){var r=t.getSelection();return t.getCurrentContent().getBlockForKey(r.getStartKey()).getType()},getDataObjectForLinkURL:function(t){return{url:t.toString()}},handleKeyCommand:function(t,r,n){switch(r){case"bold":return Jr.toggleInlineStyle(t,"BOLD");case"italic":return Jr.toggleInlineStyle(t,"ITALIC");case"underline":return Jr.toggleInlineStyle(t,"UNDERLINE");case"code":return Jr.toggleCode(t);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return Jr.onBackspace(t);case"delete":case"delete-word":case"delete-to-end-of-block":return Jr.onDelete(t);default:return null}},insertSoftNewline:function(t){var r=ca.insertText(t.getCurrentContent(),t.getSelection(),`
`,t.getCurrentInlineStyle(),null),n=Gr.push(t,r,"insert-characters");return Gr.forceSelection(n,r.getSelectionAfter())},onBackspace:function(t){var r=t.getSelection();if(!r.isCollapsed()||r.getAnchorOffset()||r.getFocusOffset())return null;var n=t.getCurrentContent(),a=r.getStartKey(),i=n.getBlockBefore(a);if(i&&i.getType()==="atomic"){var s=n.getBlockMap().delete(i.getKey()),u=n.merge({blockMap:s,selectionAfter:r});if(u!==n)return Gr.push(t,u,"remove-range")}var c=Jr.tryToRemoveBlockStyle(t);return c?Gr.push(t,c,"change-block-type"):null},onDelete:function(t){var r=t.getSelection();if(!r.isCollapsed())return null;var n=t.getCurrentContent(),a=r.getStartKey(),i=n.getBlockForKey(a),s=i.getLength();if(r.getStartOffset()<s)return null;var u=n.getBlockAfter(a);if(!u||u.getType()!=="atomic")return null;var c=r.merge({focusKey:u.getKey(),focusOffset:u.getLength()}),f=ca.removeRange(n,c,"forward");return f!==n?Gr.push(t,f,"remove-range"):null},onTab:function(t,r,n){var a=r.getSelection(),i=a.getAnchorKey();if(i!==a.getFocusKey())return r;var s=r.getCurrentContent(),u=s.getBlockForKey(i),c=u.getType();if(c!=="unordered-list-item"&&c!=="ordered-list-item")return r;t.preventDefault();var f=u.getDepth();if(!t.shiftKey&&f===n)return r;var h=$M(s,a,t.shiftKey?-1:1,n);return Gr.push(r,h,"adjust-depth")},toggleBlockType:function(t,r){var n=t.getSelection(),a=n.getStartKey(),i=n.getEndKey(),s=t.getCurrentContent(),u=n;if(a!==i&&n.getEndOffset()===0){var c=KM(s.getBlockBefore(i));i=c.getKey(),u=u.merge({anchorKey:a,anchorOffset:n.getStartOffset(),focusKey:i,focusOffset:c.getLength(),isBackward:!1})}var f=s.getBlockMap().skipWhile(function(m,p){return p!==a}).reverse().skipWhile(function(m,p){return p!==i}).some(function(m){return m.getType()==="atomic"});if(f)return t;var h=s.getBlockForKey(a).getType()===r?"unstyled":r;return Gr.push(t,ca.setBlockType(s,u,h),"change-block-type")},toggleCode:function(t){var r=t.getSelection(),n=r.getAnchorKey(),a=r.getFocusKey();return r.isCollapsed()||n!==a?Jr.toggleBlockType(t,"code-block"):Jr.toggleInlineStyle(t,"CODE")},toggleInlineStyle:function(t,r){var n=t.getSelection(),a=t.getCurrentInlineStyle();if(n.isCollapsed())return Gr.setInlineStyleOverride(t,a.has(r)?a.remove(r):a.add(r));var i=t.getCurrentContent(),s;return a.has(r)?s=ca.removeInlineStyle(i,n,r):s=ca.applyInlineStyle(i,n,r),Gr.push(t,s,"change-inline-style")},toggleLink:function(t,r,n){var a=ca.applyEntity(t.getCurrentContent(),r,n);return Gr.push(t,a,"apply-entity")},tryToRemoveBlockStyle:function(t){var r=t.getSelection(),n=r.getAnchorOffset();if(r.isCollapsed()&&n===0){var a=r.getAnchorKey(),i=t.getCurrentContent(),s=i.getBlockForKey(a),u=s.getType(),c=i.getBlockBefore(a);if(u==="code-block"&&c&&c.getType()==="code-block"&&c.getLength()!==0)return null;if(u!=="unstyled")return ca.setBlockType(i,r,"unstyled")}return null}},Tx=Jr,FM=/\r\n?|\n/g;function zM(e){return e.split(FM)}var UM=zM,Xc=ts,$v=Dr,HM=tx,Nx=rr,Zc=OM,Ix=tt,Kv=Tx,Fv=Lh,WM=rx,zv=Eu,Uv=UM;function qM(e,t){t.preventDefault();var r=new HM(t.clipboardData);if(!r.isRichText()){var n=r.getFiles(),a=r.getText();if(n.length>0){if(e.props.handlePastedFiles&&zv(e.props.handlePastedFiles(n)))return;WM(n,function(P){if(P=P||a,!!P){var D=e._latestEditorState,R=Uv(P),N=$v.create({style:D.getCurrentInlineStyle(),entity:Fv(D.getCurrentContent(),D.getSelection())}),z=Kv.getCurrentBlockType(D),G=Zc.processText(R,N,z),K=Xc.createFromArray(G),U=Nx.replaceWithFragment(D.getCurrentContent(),D.getSelection(),K);e.update(Ix.push(D,U,"insert-fragment"))}});return}}var i=[],s=r.getText(),u=r.getHTML(),c=e._latestEditorState;if(e.props.formatPastedText){var f=e.props.formatPastedText(s,u),h=f.text,m=f.html;s=h,u=m}if(!(e.props.handlePastedText&&zv(e.props.handlePastedText(s,u,c)))){if(s&&(i=Uv(s)),!e.props.stripPastedStyles){var p=e.getClipboard();if(!e.props.formatPastedText&&r.isRichText()&&p){var b;if(((b=u)===null||b===void 0?void 0:b.indexOf(e.getEditorKey()))!==-1||i.length===1&&p.size===1&&p.first().getText()===s){e.update(tl(e._latestEditorState,p));return}}else if(p&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&VM(i,p)){e.update(tl(e._latestEditorState,p));return}if(u){var S=Zc.processHTML(u,e.props.blockRenderMap);if(S){var x=S.contentBlocks,E=S.entityMap;if(x){var w=Xc.createFromArray(x);e.update(tl(e._latestEditorState,w,E));return}}}e.setClipboard(null)}if(i.length){var v=$v.create({style:c.getCurrentInlineStyle(),entity:Fv(c.getCurrentContent(),c.getSelection())}),y=Kv.getCurrentBlockType(c),C=Zc.processText(i,v,y),O=Xc.createFromArray(C);e.update(tl(e._latestEditorState,O))}}}function tl(e,t,r){var n=Nx.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return Ix.push(e,n.set("entityMap",r),"insert-fragment")}function VM(e,t){return e.length===t.size&&t.valueSeq().every(function(r,n){return r.getText()===e[n]})}var GM=qM,Dx=ar,YM=XT,QM=rN,JM=iN,XM=cN,ZM=kN,e7=SN,t7=CN,r7=NN,n7=oI,a7=RD,i7=GM,Mx=Aw,o7=Dx.isBrowser("Chrome"),s7=Dx.isBrowser("Firefox"),Hv=o7||s7?Mx:function(e){},l7={onBeforeInput:YM,onBlur:QM,onCompositionStart:JM,onCopy:XM,onCut:ZM,onDragOver:e7,onDragStart:t7,onFocus:r7,onInput:n7,onKeyDown:a7,onPaste:i7,onSelect:Mx,onMouseUp:Hv,onKeyUp:Hv},u7=l7,c7=bh,d7=c7.unstable_flushControlled,f7=d7;function h7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ed=T,Wv=Ma,p7=function(e){h7(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.shouldComponentUpdate=function(a){return this.props.text!==a.text||this.props.editorState.getSelection().getHasFocus()!==a.editorState.getSelection().getHasFocus()},r.render=function(){var a=this.props.editorState.getSelection().getHasFocus(),i=Wv({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":a}),s={whiteSpace:"pre-wrap"};return ed.createElement("div",{className:i},ed.createElement("div",{className:Wv("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:s},this.props.text))},t}(ed.Component),m7=p7,Px=Fh,uo=bu,jx=ar,Un=jx.isPlatform("Mac OS X"),qv=Un&&jx.isBrowser("Firefox < 29"),Rn=Px.hasCommandModifier,hn=Px.isCtrlKeyCommand;function Lx(e){return Un&&e.altKey||hn(e)}function g7(e){return Rn(e)?e.shiftKey?"redo":"undo":null}function v7(e){return!Un&&e.shiftKey?null:Lx(e)?"delete-word":"delete"}function y7(e){return Rn(e)&&Un?"backspace-to-start-of-line":Lx(e)?"backspace-word":"backspace"}function w7(e){switch(e.keyCode){case 66:return Rn(e)?"bold":null;case 68:return hn(e)?"delete":null;case 72:return hn(e)?"backspace":null;case 73:return Rn(e)?"italic":null;case 74:return Rn(e)?"code":null;case 75:return Un&&hn(e)?"secondary-cut":null;case 77:return hn(e)?"split-block":null;case 79:return hn(e)?"split-block":null;case 84:return Un&&hn(e)?"transpose-characters":null;case 85:return Rn(e)?"underline":null;case 87:return Un&&hn(e)?"backspace-word":null;case 89:return hn(e)?Un?"secondary-paste":"redo":null;case 90:return g7(e)||null;case uo.RETURN:return"split-block";case uo.DELETE:return v7(e);case uo.BACKSPACE:return y7(e);case uo.LEFT:return qv&&Rn(e)?"move-selection-to-start-of-block":null;case uo.RIGHT:return qv&&Rn(e)?"move-selection-to-end-of-block":null;default:return null}}var Ax=w7,x7=Pa;function xf(){return xf=x7||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Ee(e,a,r[a])})}return e}function Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ox(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k7=Ph,b7=kw,S7=O4,_7=lT,C7=BT,E7=u7,Vv=f7,T7=m7,N7=$w,I7=tt,Ln=T,D7=Bh,M7=Su,P7=ar,rd=Ma,j7=sn,L7=Ax,A7=_u,O7=oa,Gv=Ye,Yv=ls,R7=nr,Rx=P7.isBrowser("IE"),B7=!Rx,Qv={edit:E7,composite:S7,drag:C7,cut:null,render:null},Jv=!1,$7=function(e){Ox(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.render=function(){return null},r.componentDidMount=function(){this._update()},r.componentDidUpdate=function(){this._update()},r._update=function(){var a=this.props.editor;a._latestEditorState=this.props.editorState,a._blockSelectEvents=!0},t}(Ln.Component),Bx=function(e){Ox(t,e);function t(n){var a;return a=e.call(this,n)||this,Ee(Ie(a),"_blockSelectEvents",void 0),Ee(Ie(a),"_clipboard",void 0),Ee(Ie(a),"_handler",void 0),Ee(Ie(a),"_dragCount",void 0),Ee(Ie(a),"_internalDrag",void 0),Ee(Ie(a),"_editorKey",void 0),Ee(Ie(a),"_placeholderAccessibilityID",void 0),Ee(Ie(a),"_latestEditorState",void 0),Ee(Ie(a),"_latestCommittedEditorState",void 0),Ee(Ie(a),"_pendingStateFromBeforeInput",void 0),Ee(Ie(a),"_onBeforeInput",void 0),Ee(Ie(a),"_onBlur",void 0),Ee(Ie(a),"_onCharacterData",void 0),Ee(Ie(a),"_onCompositionEnd",void 0),Ee(Ie(a),"_onCompositionStart",void 0),Ee(Ie(a),"_onCopy",void 0),Ee(Ie(a),"_onCut",void 0),Ee(Ie(a),"_onDragEnd",void 0),Ee(Ie(a),"_onDragOver",void 0),Ee(Ie(a),"_onDragStart",void 0),Ee(Ie(a),"_onDrop",void 0),Ee(Ie(a),"_onInput",void 0),Ee(Ie(a),"_onFocus",void 0),Ee(Ie(a),"_onKeyDown",void 0),Ee(Ie(a),"_onKeyPress",void 0),Ee(Ie(a),"_onKeyUp",void 0),Ee(Ie(a),"_onMouseDown",void 0),Ee(Ie(a),"_onMouseUp",void 0),Ee(Ie(a),"_onPaste",void 0),Ee(Ie(a),"_onSelect",void 0),Ee(Ie(a),"editor",void 0),Ee(Ie(a),"editorContainer",void 0),Ee(Ie(a),"focus",void 0),Ee(Ie(a),"blur",void 0),Ee(Ie(a),"setMode",void 0),Ee(Ie(a),"exitCurrentMode",void 0),Ee(Ie(a),"restoreEditorDOM",void 0),Ee(Ie(a),"setClipboard",void 0),Ee(Ie(a),"getClipboard",void 0),Ee(Ie(a),"getEditorKey",void 0),Ee(Ie(a),"update",void 0),Ee(Ie(a),"onDragEnter",void 0),Ee(Ie(a),"onDragLeave",void 0),Ee(Ie(a),"_handleEditorContainerRef",function(i){a.editorContainer=i,a.editor=i!==null?i.firstChild:null}),Ee(Ie(a),"focus",function(i){var s=a.props.editorState,u=s.getSelection().getHasFocus(),c=a.editor;if(c){var f=M7.getScrollParent(c),h=i||A7(f),m=h.x,p=h.y;Yv(c)||Gv(!1),c.focus(),f===window?window.scrollTo(m,p):D7.setTop(f,p),u||a.update(I7.forceSelection(s,s.getSelection()))}}),Ee(Ie(a),"blur",function(){var i=a.editor;i&&(Yv(i)||Gv(!1),i.blur())}),Ee(Ie(a),"setMode",function(i){var s=a.props,u=s.onPaste,c=s.onCut,f=s.onCopy,h=td({},Qv.edit);u&&(h.onPaste=u),c&&(h.onCut=c),f&&(h.onCopy=f);var m=td({},Qv,{edit:h});a._handler=m[i]}),Ee(Ie(a),"exitCurrentMode",function(){a.setMode("edit")}),Ee(Ie(a),"restoreEditorDOM",function(i){a.setState({contentsKey:a.state.contentsKey+1},function(){a.focus(i)})}),Ee(Ie(a),"setClipboard",function(i){a._clipboard=i}),Ee(Ie(a),"getClipboard",function(){return a._clipboard}),Ee(Ie(a),"update",function(i){a._latestEditorState=i,a.props.onChange(i)}),Ee(Ie(a),"onDragEnter",function(){a._dragCount++}),Ee(Ie(a),"onDragLeave",function(){a._dragCount--,a._dragCount===0&&a.exitCurrentMode()}),a._blockSelectEvents=!1,a._clipboard=null,a._handler=null,a._dragCount=0,a._editorKey=n.editorKey||j7(),a._placeholderAccessibilityID="placeholder-"+a._editorKey,a._latestEditorState=n.editorState,a._latestCommittedEditorState=n.editorState,a._onBeforeInput=a._buildHandler("onBeforeInput"),a._onBlur=a._buildHandler("onBlur"),a._onCharacterData=a._buildHandler("onCharacterData"),a._onCompositionEnd=a._buildHandler("onCompositionEnd"),a._onCompositionStart=a._buildHandler("onCompositionStart"),a._onCopy=a._buildHandler("onCopy"),a._onCut=a._buildHandler("onCut"),a._onDragEnd=a._buildHandler("onDragEnd"),a._onDragOver=a._buildHandler("onDragOver"),a._onDragStart=a._buildHandler("onDragStart"),a._onDrop=a._buildHandler("onDrop"),a._onInput=a._buildHandler("onInput"),a._onFocus=a._buildHandler("onFocus"),a._onKeyDown=a._buildHandler("onKeyDown"),a._onKeyPress=a._buildHandler("onKeyPress"),a._onKeyUp=a._buildHandler("onKeyUp"),a._onMouseDown=a._buildHandler("onMouseDown"),a._onMouseUp=a._buildHandler("onMouseUp"),a._onPaste=a._buildHandler("onPaste"),a._onSelect=a._buildHandler("onSelect"),a.getEditorKey=function(){return a._editorKey},a.state={contentsKey:0},a}var r=t.prototype;return r._buildHandler=function(a){var i=this;return function(s){if(!i.props.readOnly){var u=i._handler&&i._handler[a];u&&(Vv?Vv(function(){return u(i,s)}):u(i,s))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var a={text:R7(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return Ln.createElement(T7,a)}return null},r._renderARIADescribedBy=function(){var a=this.props.ariaDescribedBy||"",i=this._showPlaceholder()?this._placeholderAccessibilityID:"";return a.replace("{{editor_id_placeholder}}",i)||void 0},r.render=function(){var a=this.props,i=a.blockRenderMap,s=a.blockRendererFn,u=a.blockStyleFn,c=a.customStyleFn,f=a.customStyleMap,h=a.editorState,m=a.preventScroll,p=a.readOnly,b=a.textAlignment,S=a.textDirectionality,x=rd({"DraftEditor/root":!0,"DraftEditor/alignLeft":b==="left","DraftEditor/alignRight":b==="right","DraftEditor/alignCenter":b==="center"}),E={outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=this.props.role||"textbox",v=w==="combobox"?!!this.props.ariaExpanded:null,y={blockRenderMap:i,blockRendererFn:s,blockStyleFn:u,customStyleMap:td({},b7,f),customStyleFn:c,editorKey:this._editorKey,editorState:h,preventScroll:m,textDirectionality:S};return Ln.createElement("div",{className:x},this._renderPlaceholder(),Ln.createElement("div",{className:rd("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},Ln.createElement("div",{"aria-activedescendant":p?null:this.props.ariaActiveDescendantID,"aria-autocomplete":p?null:this.props.ariaAutoComplete,"aria-controls":p?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":p?null:v,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":p?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:rd({notranslate:!p,"public/DraftEditor/content":!0}),contentEditable:!p,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:p?null:w,spellCheck:B7&&this.props.spellCheck,style:E,suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},Ln.createElement($7,{editor:this,editorState:h}),Ln.createElement(_7,xf({},y,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!Jv&&O7("draft_ods_enabled")&&(Jv=!0,N7.initODS()),this.setMode("edit"),Rx&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):Hn.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(Ln.Component);Ee(Bx,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:k7,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:L7,readOnly:!1,spellCheck:!1,stripPastedStyles:!1});var K7=Bx,F7={},z7={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}},$x=z7,U7=$x,H7=Aa,Xv=H7.strlen;function W7(e,t){var r=[];return e.findEntityRanges(function(n){return!!n.getEntity()},function(n,a){var i=e.getText(),s=e.getEntityAt(n);r.push({offset:Xv(i.slice(0,n)),length:Xv(i.slice(n,a)),key:Number(t[U7.stringify(s)])})}),r}var q7=W7,Zv=Aa,V7=rs,G7=function(t,r){return t===r},Y7=function(t){return!!t},Q7=[];function J7(e,t,r){var n=[],a=t.map(function(i){return i.has(r)}).toList();return V7(a,G7,Y7,function(i,s){var u=e.getText();n.push({offset:Zv.strlen(u.slice(0,i)),length:Zv.strlen(u.slice(i,s)),style:r})}),n}function X7(e){var t=e.getCharacterList().map(function(n){return n.getStyle()}).toList(),r=t.flatten().toSet().map(function(n){return J7(e,t,n)});return Array.prototype.concat.apply(Q7,r.toJS())}var Z7=X7;function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){tP(e,a,r[a])})}return e}function tP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rP=Da,nP=Mr,Kx=$x,aP=q7,iP=Z7,oP=Ye,ey=function(t,r){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:iP(t),entityRanges:aP(t,r),data:t.getData().toObject()}},sP=function(t,r,n,a){if(t instanceof rP){n.push(ey(t,r));return}t instanceof nP||oP(!1);var i=t.getParentKey(),s=a[t.getKey()]=eP({},ey(t,r),{children:[]});if(i){a[i].children.push(s);return}n.push(s)},lP=function(t,r){var n=r.entityMap,a=[],i={},s={},u=0;return t.getBlockMap().forEach(function(c){c.findEntityRanges(function(f){return f.getEntity()!==null},function(f){var h=c.getEntityAt(f),m=Kx.stringify(h);s[m]||(s[m]=h,n[m]="".concat(u),u++)}),sP(c,n,a,i)}),{blocks:a,entityMap:n}},uP=function(t,r){var n=r.blocks,a=r.entityMap,i={};return Object.keys(a).forEach(function(s,u){var c=t.getEntity(Kx.unstringify(s));i[u]={type:c.getType(),mutability:c.getMutability(),data:c.getData()}}),{blocks:n,entityMap:i}},cP=function(t){var r={entityMap:{},blocks:[]};return r=lP(t,r),r=uP(t,r),r},dP=cP;function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){fP(e,a,r[a])})}return e}function fP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hP=sn,Fx=Ye,pP=function(t,r){for(var n=[].concat(t).reverse();n.length;){var a=n.pop();r(a);var i=a.children;Array.isArray(i)||Fx(!1),n=n.concat([].concat(i.reverse()))}},ty=function(t){if(!(t&&t.type))return!1;var r=t.type;return r==="unordered-list-item"||r==="ordered-list-item"},mP=function(t){Array.isArray(t.children)&&(t.children=t.children.map(function(r){return r.type===t.type?yo({},r,{depth:(t.depth||0)+1}):r}))},gP={fromRawTreeStateToRawState:function(t){var r=t.blocks,n=[];return Array.isArray(r)||Fx(!1),!Array.isArray(r)||!r.length?t:(pP(r,function(a){var i=yo({},a);ty(a)&&(i.depth=i.depth||0,mP(a),a.children!=null&&a.children.length>0)||(delete i.children,n.push(i))}),t.blocks=n,yo({},t,{blocks:n}))},fromRawStateToRawTreeState:function(t){var r=[],n=[];return t.blocks.forEach(function(a){var i=ty(a),s=a.depth||0,u=yo({},a,{children:[]});if(!i){r.push(u);return}var c=n[0];if(c==null&&s===0)r.push(u);else if(c==null||c.depth<s-1){var f={key:hP(),text:"",depth:s-1,type:a.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(f),s===1?r.push(f):c!=null&&c.children.push(f),f.children.push(u)}else if(c.depth===s-1)c.children.push(u);else{for(;c!=null&&c.depth>=s;)n.shift(),c=n[0];s>0?c.children.push(u):r.push(u)}}),yo({},t,{blocks:r})}},vP=gP,yP=Dr,wP=Ge,xP=wP.List;function kP(e,t){var r=e.map(function(n,a){var i=t[a];return yP.create({style:n,entity:i})});return xP(r)}var bP=kP,SP=Aa,ry=SP.substr;function _P(e,t){var r=Array(e.length).fill(null);return t&&t.forEach(function(n){for(var a=ry(e,0,n.offset).length,i=a+ry(e,n.offset,n.length).length,s=a;s<i;s++)r[s]=n.key}),r}var CP=_P,EP=Aa,TP=Ge,NP=TP.OrderedSet,ny=EP.substr,IP=NP();function DP(e,t){var r=Array(e.length).fill(IP);return t&&t.forEach(function(n){for(var a=ny(e,0,n.offset).length,i=a+ny(e,n.offset,n.length).length;a<i;)r[a]=r[a].add(n.style),a++}),r}var MP=DP;function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){PP(e,a,r[a])})}return e}function PP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jP=Da,ay=Mr,LP=Th,AP=mu,iy=vP,oy=gu,OP=bP,RP=CP,BP=MP,zx=sn,$P=oa,Hh=Ge,kf=Ye,sy=$P("draft_tree_data_support"),ly=Hh.List,KP=Hh.Map,Ux=Hh.OrderedMap,bf=function(t,r){var n=t.key,a=t.type,i=t.data,s=t.text,u=t.depth,c={text:s,depth:u||0,type:a||"unstyled",key:n||zx(),data:KP(i),characterList:FP(t,r)};return c},FP=function(t,r){var n=t.text,a=t.entityRanges,i=t.inlineStyleRanges,s=a||[],u=i||[];return OP(BP(n,u),RP(n,s.filter(function(c){return r.hasOwnProperty(c.key)}).map(function(c){return Go({},c,{key:r[c.key]})})))},nd=function(t){return Go({},t,{key:t.key||zx()})},uy=function(t,r,n){var a=r.map(function(i){return Go({},i,{parentRef:n})});return t.concat(a.reverse())},zP=function(t,r){return t.map(nd).reduce(function(n,a,i){Array.isArray(a.children)||kf(!1);var s=a.children.map(nd),u=new ay(Go({},bf(a,r),{prevSibling:i===0?null:t[i-1].key,nextSibling:i===t.length-1?null:t[i+1].key,children:ly(s.map(function(E){return E.key}))}));n=n.set(u.getKey(),u);for(var c=uy([],s,u);c.length>0;){var f=c.pop(),h=f.parentRef,m=h.getChildKeys(),p=m.indexOf(f.key),b=Array.isArray(f.children);if(!b){b||kf(!1);break}var S=f.children.map(nd),x=new ay(Go({},bf(f,r),{parent:h.getKey(),children:ly(S.map(function(E){return E.key})),prevSibling:p===0?null:m.get(p-1),nextSibling:p===m.size-1?null:m.get(p+1)}));n=n.set(x.getKey(),x),c=uy(c,S,x)}return n},Ux())},UP=function(t,r){return Ux(t.map(function(n){var a=new jP(bf(n,r));return[a.getKey(),a]}))},HP=function(t,r){var n=t.blocks.find(function(s){return Array.isArray(s.children)&&s.children.length>0}),a=sy&&!n?iy.fromRawStateToRawTreeState(t).blocks:t.blocks;if(!sy)return UP(n?iy.fromRawTreeStateToRawState(t).blocks:a,r);var i=zP(a,r);return i},WP=function(t){var r=t.entityMap,n={};return Object.keys(r).forEach(function(a){var i=r[a],s=i.type,u=i.mutability,c=i.data;n[a]=AP.__create(s,u,c||{})}),n},qP=function(t){Array.isArray(t.blocks)||kf(!1);var r=WP(t),n=HP(t,r),a=n.isEmpty()?new oy:oy.createEmpty(n.first().getKey());return new LP({blockMap:n,entityMap:r,selectionBefore:a,selectionAfter:a})},VP=qP,GP=fx;function YP(e){var t=GP(e),r=0,n=0,a=0,i=0;if(t.length){if(t.length>1&&t[0].width===0){var s=t[1];r=s.top,n=s.right,a=s.bottom,i=s.left}else{var u=t[0];r=u.top,n=u.right,a=u.bottom,i=u.left}for(var c=1;c<t.length;c++){var f=t[c];f.height!==0&&f.width!==0&&(r=Math.min(r,f.top),n=Math.max(n,f.right),a=Math.max(a,f.bottom),i=Math.min(i,f.left))}}return{top:r,right:n,bottom:a,left:i,width:n-i,height:a-r}}var QP=YP,JP=QP;function XP(e){var t=e.getSelection();if(!t.rangeCount)return null;var r=t.getRangeAt(0),n=JP(r),a=n.top,i=n.right,s=n.bottom,u=n.left;return a===0&&i===0&&s===0&&u===0?null:n}var ZP=XP,e8=G3,t8=ts,r8=Dr,n8=tE,a8=Da,i8=Th,o8=Ph,s8=kw,l8=K7,u8=Zw,c8=mu,d8=rr,f8=iw,h8=tt,p8=Fh,m8=F7,g8=Tx,v8=gu,y8=dP,w8=VP,x8=sn,k8=Ax,b8=ZP,S8=_x,_8={Editor:l8,EditorBlock:u8,EditorState:h8,CompositeDecorator:n8,Entity:c8,EntityInstance:f8,BlockMapBuilder:t8,CharacterMetadata:r8,ContentBlock:a8,ContentState:i8,RawDraftContentState:m8,SelectionState:v8,AtomicBlockUtils:e8,KeyBindingUtil:p8,Modifier:d8,RichUtils:g8,DefaultDraftBlockRenderMap:o8,DefaultDraftInlineStyle:s8,convertFromHTML:S8,convertFromRaw:w8,convertToRaw:y8,genKey:x8,getDefaultKeyBinding:k8,getVisibleSelectionRect:b8},at=_8;const cr=(e,t,r,n,a)=>ne(void 0,null,function*(){try{const i={};if(t.email&&(i.toEmail=t.email,i.subject=r,i.htmlBody=n),a&&t.contactNumber){let u=t.contactNumber.replace(/[^0-9]/g,"");u.startsWith("0")&&(u="94"+u.substring(1)),i.toSms=u,i.smsMessage=a}if(Object.keys(i).length===0){console.warn("No contact info provided for notification.");return}if(e.includes("YOUR_PROJECT_ID")){console.log("Simulating sending notification (Please update the Cloud Function URL in utils.ts):",i);return}const s=yield fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!s.ok){const u=yield s.text();throw new Error(`Failed to send notification: ${u}`)}console.log(`Notification request sent successfully for subject: ${r}`)}catch(i){console.error("Failed to send notification:",i)}}),sA=e=>!e||e.length===0?{average:0,count:0}:{average:e.reduce((r,n)=>r+n.rating,0)/e.length,count:e.length},lA=(e,t)=>e?t.map(r=>{let n=e;if(n.includes("clazz2-9e0a9.firebasestorage.app")){n=n.replace("clazz2-9e0a9.firebasestorage.app","clazz2-new.firebasestorage.app");try{const a=new URL(n);a.searchParams.delete("token"),n=a.toString()}catch(a){}}try{if(n.includes("images.unsplash.com")){const a=new URL(n);a.searchParams.set("w",r.toString()),a.searchParams.set("fit","crop"),n=a.toString()}else if(n.includes("picsum.photos")){const a=n.split("/");if(a.length>=6&&!isNaN(parseInt(a[a.length-2],10))){const i=parseInt(a[a.length-2],10),s=parseInt(a[a.length-1],10);a[a.length-2]=r.toString(),!isNaN(s)&&i>0&&(a[a.length-1]=Math.round(s/i*r).toString()),n=a.join("/")}}}catch(a){return`${e} ${r}w`}return`${n} ${r}w`}).join(", "):"",Li=(e,t,r)=>{if(!e)return"";if(e.includes("clazz2-9e0a9.firebasestorage.app")){e=e.replace("clazz2-9e0a9.firebasestorage.app","clazz2-new.firebasestorage.app");try{const n=new URL(e);n.searchParams.delete("token"),e=n.toString()}catch(n){console.warn("Failed to parse URL during hotfix",n)}}if(e.includes("googleusercontent.com")||e.includes("drive-storage")){const n=e.split("=")[0];return r&&t===r?`${n}=s${t}-c`:`${n}=s${t}`}if(e.includes("drive.google.com")){const n=e.match(/\/d\/([a-zA-Z0-9_-]+)/);if(n&&n[1])return`https://drive.google.com/uc?export=view&id=${n[1]}`}if(e.includes("images.unsplash.com"))try{const n=new URL(e);return n.searchParams.set("w",t.toString()),r&&n.searchParams.set("h",r.toString()),n.searchParams.set("fit","crop"),n.searchParams.set("q","80"),n.searchParams.set("auto","format"),n.toString()}catch(n){return e}return e.includes("picsum.photos")&&e.split("/").length>=5,e},uA=e=>{if(!e)return null;const t=/(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?|shorts)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/,r=e.match(t);return r?r[1]:null},C8=(e,t=new Date)=>{if(e.status==="canceled"||e.isDeleted)return"canceled";if(e.status==="finished")return"finished";if(e.recurrence==="flexible"){if(!e.flexibleDates)return"finished";const a=e.flexibleDates.some(s=>new Date(`${s.date}T${s.startTime}`)>t);return e.flexibleDates.some(s=>{const u=new Date(`${s.date}T${s.startTime}`),c=new Date(`${s.date}T${s.endTime}`);return t>=u&&t<=c})?"live":a?"scheduled":"finished"}const r=new Date(`${e.date}T${e.startTime}`),n=new Date(`${e.date}T${e.endTime}`);if(e.recurrence==="weekly"){const a=r.getDay(),i=t.getDay();if(a===i){const u=t.getHours()*60+t.getMinutes(),c=r.getHours()*60+r.getMinutes(),f=n.getHours()*60+n.getMinutes();if(u>=c&&u<=f){const h=new Date(e.date),m=e.endDate?new Date(e.endDate):null;if(t>=h&&(!m||t<=m))return"live"}}const s=e.endDate?new Date(`${e.endDate}T23:59:59`):null;return s&&t>s?"finished":"scheduled"}return t>=r&&t<=n?"live":t>n?"finished":"scheduled"},cy=e=>{if(e.status==="canceled"||e.isDeleted)return"canceled";if(e.status==="finished")return"finished";const t=new Date,r=new Date(`${e.startDate}T${e.startTime}`),n=new Date(`${e.endDate}T${e.endTime}`);return t>=r&&t<=n?"live":t>n?"finished":"scheduled"},E8=e=>{if(e.status==="canceled"||e.isDeleted)return"canceled";if(e.status==="finished")return"finished";const t=new Date,r=new Date(new Date(`${e.date}T${e.startTime}`).getTime()+e.durationMinutes*6e4);return t>r?"finished":"scheduled"},cA=(e,t=new Date)=>{if(e.status==="canceled"||e.isDeleted)return null;if(e.recurrence==="flexible"){if(!e.flexibleDates)return null;const h=e.flexibleDates.map(m=>new Date(`${m.date}T${m.startTime}`)).filter(m=>m>t);return h.length===0?null:(h.sort((m,p)=>m.getTime()-p.getTime()),h[0])}if(e.recurrence!=="weekly"){const h=new Date(`${e.date}T${e.startTime}`);return h>t?h:null}const[r,n]=e.startTime.split(":").map(Number),a=new Date(e.date+"T00:00:00"),i=e.endDate?new Date(e.endDate+"T23:59:59"):null;if(t<a){const h=new Date(a);return h.setHours(r,n,0,0),h}if(i&&t>i)return null;const s=a.getDay(),u=t.getDay();let c=s-u;if(c<0)c+=7;else if(c===0){const h=t.getHours()*60+t.getMinutes(),m=r*60+n;h>=m&&(c=7)}const f=new Date(t);return f.setDate(t.getDate()+c),f.setHours(r,n,0,0),i&&f>i?null:f},T8=["mailinator.com","temp-mail.org","10minutemail.com","guerrillamail.com","yopmail.com"],N8=e=>{if(!e)return!1;const t=e.split("@")[1];return T8.includes(t)},Wh=e=>{const t=new Date,r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),i=Math.random().toString(36).substring(2,8).toUpperCase();return`${e}-${r}${n}${a}-${i}`},Bn=(e,t,r,n,a)=>ne(void 0,null,function*(){const i=new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}),s=`Payment Confirmation for ${n}`,u=`
        <div style="font-family: Arial, sans-serif; color: #333; line-height: 1.6; max-width: 600px; margin: auto; border: 1px solid #ddd; padding: 20px;">
            <h2 style="color: #004aad;">Thank you for your transaction!</h2>
            <p>This email confirms your recent transaction on clazz.lk.</p>
            <h3 style="border-bottom: 2px solid #eee; padding-bottom: 5px;">Transaction Details</h3>
            <table style="width: 100%; border-collapse: collapse;">
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Item:</td>
                    <td style="padding: 10px 0;">${n}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Amount Paid:</td>
                    <td style="padding: 10px 0;">${i.format(r)}</td>
                </tr>
                <tr style="border-bottom: 1px solid #eee;">
                    <td style="padding: 10px 0; font-weight: bold;">Transaction ID:</td>
                    <td style="padding: 10px 0;">${a}</td>
                </tr>
            </table>
            <p style="margin-top: 20px;">You can view your purchase history in your dashboard on our website.</p>
            <p>Thank you for choosing clazz.lk!</p>
        </div>
    `,c=`Thank you for your payment of ${i.format(r)} for "${n}" on clazz.lk. Ref: ${a}`;yield cr(e,t,s,u,c)}),dA=e=>{var a,i,s,u,c,f,h,m,p,b,S;if(!e)return{percentage:0,missing:[]};const t=[{key:"Teaching Subjects & Grades",weight:15,isComplete:e.teachingItems&&e.teachingItems.length>0||e.subjects&&e.subjects.length>0},{key:"Exams Prepared For",weight:5,isComplete:(((a=e.exams)==null?void 0:a.length)||0)>0},{key:"Qualifications",weight:5,isComplete:(((i=e.qualifications)==null?void 0:i.length)||0)>0},{key:"Experience",weight:5,isComplete:e.experienceYears!==void 0&&e.experienceYears!==null},{key:"Profile Picture",weight:10,isComplete:!!e.profileImage&&!e.profileImage.includes("picsum.photos")},{key:"Bio",weight:10,isComplete:(((s=e.bio)==null?void 0:s.length)||0)>20},{key:"Contact Details",weight:5,isComplete:!!((u=e.contact)!=null&&u.phone)&&!!((c=e.contact)!=null&&c.email)},{key:"Teaching Locations",weight:5,isComplete:e.teachingLocations&&e.teachingLocations.length>0||!!((f=e.contact)!=null&&f.location)},{key:"Cover Image",weight:5,isComplete:(((h=e.coverImages)==null?void 0:h.length)||0)>0},{key:"Tagline",weight:5,isComplete:!!e.tagline},{key:"ID Verification",weight:15,isComplete:["verified","pending"].includes(((p=(m=e.verification)==null?void 0:m.id)==null?void 0:p.status)||"")},{key:"Bank Verification",weight:15,isComplete:["verified","pending"].includes(((S=(b=e.verification)==null?void 0:b.bank)==null?void 0:S.status)||"")}];let r=0;const n=[];return t.forEach(x=>{x.isComplete?r+=x.weight:n.push(x.key)}),{percentage:Math.round(r),missing:n}},I8=e=>{var a,i,s,u,c;if(!e)return{percentage:0,missing:[]};const t=[{key:"Full Name",weight:10,isComplete:!!e.firstName&&!!e.lastName},{key:"Gender & Date of Birth",weight:10,isComplete:!!e.gender&&!!e.dateOfBirth},{key:"Preferred Language",weight:10,isComplete:!!e.preferredLanguage},{key:"Student Category",weight:10,isComplete:!!e.targetAudience},{key:"Verified Email",weight:15,isComplete:!!e.isEmailVerified},{key:"Verified Mobile",weight:15,isComplete:!!e.isMobileVerified},{key:"Address Details",weight:10,isComplete:!!((a=e.address)!=null&&a.line1)&&!!((i=e.address)!=null&&i.city)},{key:"Schools",weight:10,isComplete:(((s=e.schools)==null?void 0:s.length)||0)>0},{key:"Career Aspirations",weight:5,isComplete:(((u=e.careerAspirations)==null?void 0:u.length)||0)>10},{key:"Achievements",weight:5,isComplete:(((c=e.achievements)==null?void 0:c.length)||0)>0}];let r=0;const n=[];return t.forEach(f=>{f.isComplete?r+=f.weight:n.push(f.key)}),{percentage:Math.round(r),missing:n}},D8=(e,t)=>ne(void 0,null,function*(){try{const r=yield fetch(e);if(!r.ok)throw new Error(`Failed to fetch image: ${r.statusText}`);const n=yield r.blob(),a=window.URL.createObjectURL(n),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}catch(r){console.error("Image download failed:",r),window.open(e,"_blank")}}),fA=(e,t=80)=>{if(!e)return"";let r="";try{let n;typeof e=="string"?e.trim().startsWith("{")?n=JSON.parse(e):r=e:typeof e=="object"&&e!==null?n=e:r=String(e),n&&Array.isArray(n.blocks)&&"entityMap"in n?r=at.convertFromRaw(n).getPlainText():n&&(r=typeof e=="string"?e:JSON.stringify(e))}catch(n){r=String(e)}return r=r.replace(/(\*|_|`|#|~|>|\\n|\n)/g," ").replace(/\s\s+/g," ").trim(),r.length<=t?r:r.substring(0,t).trim()+"..."},M8="admin@clazz.lk",P8=e=>{const{currentUser:t,ui:r,users:n,nav:a}=e,{addToast:i,setModalState:s}=r,{functionUrls:u}=a,c=T.useCallback(E=>ne(void 0,null,function*(){try{const w=X(q({},E),{referralBalance:{total:0,withdrawn:0,available:0}});yield kt(he(Q,"users",E.id),w);const v=`New ${E.role} Registration: ${E.firstName} ${E.lastName}`,y=E.role==="teacher"||E.role==="tuition_institute"?"<p>This account is now pending your approval in the admin dashboard.</p>":"",C=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>A new user has registered on Clazz.lk.</p>
                    <ul>
                        <li><strong>Name:</strong> ${E.firstName} ${E.lastName}</li>
                        <li><strong>Role:</strong> ${E.role}</li>
                        <li><strong>Email:</strong> ${E.email}</li>
                        <li><strong>User ID:</strong> ${E.id}</li>
                    </ul>
                    ${y}
                </div>
            `;yield cr(u.notification,{email:M8},v,C)}catch(w){throw console.error(w),i("Failed to save user profile.","error"),w}}),[i]),f=T.useCallback(E=>ne(void 0,null,function*(){try{yield kt(he(Q,"teachers",E.id),E);const w=n.find(v=>v.id===E.userId);if(w!=null&&w.referrerId){const v=n.find(y=>y.id===w.referrerId);if(v){const y="A new teacher joined using your referral code!",C=`
                        <div style="font-family: Arial, sans-serif; color: #333;">
                            <p>Hi ${v.firstName},</p>
                            <p>Great news! A new teacher, <strong>${E.name}</strong>, has registered on Clazz.lk using your referral code.</p>
                            <p>Once their account is approved and they start generating platform income, you will begin earning commissions.</p>
                        </div>`;yield cr(u.notification,{email:v.email},y,C)}}}catch(w){throw console.error("Error creating teacher profile:",w),i("Failed to create teacher profile.","error"),w}}),[n,i,u]),h=T.useCallback(E=>ne(void 0,null,function*(){yield kt(he(Q,"tuitionInstitutes",E.id),E)}),[]),m=T.useCallback(E=>ne(void 0,null,function*(){try{yield ct(he(Q,"users",E.id),E)}catch(w){throw console.error("Error updating user profile:",w),i("Error updating profile.","error"),w}}),[i]),p=T.useCallback(E=>ne(void 0,null,function*(){if(t)try{yield ct(he(Q,"users",t.id),E)}catch(w){console.error("Error updating user verification:",w)}}),[t]),b=T.useCallback(E=>ne(void 0,null,function*(){var O;if(!t){i("Please log in to follow a teacher.","info"),s({name:"login"});return}const w=he(Q,"users",t.id),v=he(Q,"teachers",E),y=(O=t.followingTeacherIds)==null?void 0:O.includes(E),C=Jt(Q);y?(C.update(w,{followingTeacherIds:bl(E)}),C.update(v,{followers:bl(t.id)})):(C.update(w,{followingTeacherIds:_r(E)}),C.update(v,{followers:_r(t.id)})),yield C.commit(),i(y?"Unfollowed teacher.":"Now following teacher!","success")}),[t,i,s]),S=T.useCallback(()=>ne(void 0,null,function*(){var w;if(!((w=t==null?void 0:t.notifications)!=null&&w.length))return;const E=t.notifications.map(v=>X(q({},v),{isRead:!0}));yield ct(he(Q,"users",t.id),{notifications:E})}),[t]),x=T.useCallback((E,w)=>ne(void 0,null,function*(){if(!t){i("You must be logged in.","error");return}const v=he(Q,"users",t.id);try{yield nn(Q,y=>ne(void 0,null,function*(){var z,G,K;const C=yield y.get(v);if(!C.exists())throw new Error("User not found.");const O=C.data(),P=O.monthlyReferralEarnings||[],D=P.findIndex(U=>U.year===E&&U.month===w);if(D===-1)throw new Error("Earning record for that month not found.");if(P[D].status!=="pending")throw new Error("Earnings for this month have already been processed.");const R=P[D].earnings;P[D].status="processed";const N={total:((z=O.referralBalance)==null?void 0:z.total)||0,withdrawn:((G=O.referralBalance)==null?void 0:G.withdrawn)||0,available:(((K=O.referralBalance)==null?void 0:K.available)||0)+R};y.update(v,{monthlyReferralEarnings:P,referralBalance:N})})),i("Monthly earnings added to your available balance!","success")}catch(y){console.error(y),i(y.message,"error")}}),[t,i]);return{addUser:c,addTeacher:f,addTuitionInstitute:h,handleUpdateUser:m,handleUserVerification:p,handleFollowToggle:b,handleMarkAllAsRead:S,handleRedeemReferralEarnings:x}},ad="admin@clazz.lk",j8=e=>{const{currentUser:t,teachers:r,sales:n,submissions:a,ui:i,nav:s,handleUpdateTeacher:u,handleImageSave:c}=e,{addToast:f}=i,{handleNavigate:h,functionUrls:m}=s,p=T.useMemo(()=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}),[]),b=T.useCallback(K=>{const U=K.teacherId,H=r.find(j=>j.id===U);if(!H){f("Selected teacher profile not found.","error");return}const B=H.individualClasses.findIndex(j=>j.id===K.id),A=[...H.individualClasses];B>-1?A[B]=K:A.push(K),u(H.id,{individualClasses:A})},[r,u,f]),S=T.useCallback(K=>ne(void 0,null,function*(){let U=q({},K);if(U.coverImage&&U.coverImage.startsWith("data:image")){f("Uploading cover image...","info");const I=yield c(U.coverImage,"course_cover",{teacherId:U.teacherId});if(I)U.coverImage=I;else throw f("Cover image upload failed. Course not saved.","error"),new Error("Image upload failed.")}const H=r.find(I=>I.id===U.teacherId);if(!H){f("Error: Associated teacher profile not found.","error");return}const B=H.courses.findIndex(I=>I.id===U.id),A=[...H.courses],j=B===-1;j?A.push(U):A[B]=U;try{yield u(H.id,{courses:A}),f(j?"Course created successfully!":"Course updated successfully!","success"),h({name:"teacher_profile",teacherId:H.id})}catch(I){console.error("Failed to save course:",I)}}),[r,u,f,h,c]),x=T.useCallback(K=>ne(void 0,null,function*(){const U=r.find(I=>I.id===K.teacherId);if(!U){f("Associated teacher not found.","error");return}const H=U.products||[],B=H.findIndex(I=>I.id===K.id),A=[...H],j=B===-1;if(j?A.push(K):A[B]=K,yield u(U.id,{products:A}),f(j?"Product created. You can now request for it to be published.":"Product updated.","success"),j){const I=`New Product Listed: ${K.title}`,L=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>A new product has been created by a teacher and is ready for review.</p>
                    <ul>
                        <li><strong>Product:</strong> ${K.title}</li>
                        <li><strong>Teacher:</strong> ${U.name} (${U.id})</li>
                        <li><strong>Price:</strong> ${p.format(K.price)}</li>
                        <li><strong>Type:</strong> ${K.type}</li>
                    </ul>
                    <p>You can review and approve it from the admin dashboard under 'Product Management'. Note: The teacher must still click 'Request Publish' for it to appear in your queue.</p>
                </div>
            `;yield cr(m.notification,{email:ad},I,L)}}),[r,u,f,p]),E=T.useCallback(K=>ne(void 0,null,function*(){const U=r.find(A=>A.id===K.teacherId);if(!U){f("Error: Associated teacher profile not found.","error");return}const H=U.quizzes.findIndex(A=>A.id===K.id),B=[...U.quizzes];H>-1?B[H]=K:B.push(K),yield u(U.id,{quizzes:B})}),[r,u,f]),w=T.useCallback((K,U,H)=>ne(void 0,null,function*(){const B=r.find(W=>W.id===K);if(!B)return;const A=Jt(Q),j=he(Q,"teachers",K);let I=[],L;if(H==="class"?(I=B.individualClasses.map(W=>W.id===U?(L=W,X(q({},W),{status:"canceled",isPublished:!1})):W),A.update(j,{individualClasses:I})):(I=B.quizzes.map(W=>W.id===U?(L=W,X(q({},W),{status:"canceled",isPublished:!1})):W),A.update(j,{quizzes:I})),!L){f("Item to cancel not found.","error");return}const F=n.filter(W=>{var pe;return W.itemId===U&&W.itemType===H&&W.status==="completed"&&((pe=W.itemSnapshot)==null?void 0:pe.instanceStartDate)===L.instanceStartDate});for(const W of F){A.update(he(Q,"sales",W.id),{status:"refunded"});const pe=W.totalAmount+W.amountPaidFromBalance;if(A.update(he(Q,"users",W.studentId),{accountBalance:it(pe)}),W.teacherCommission&&W.teacherCommission>0&&A.update(j,{"earnings.total":it(-W.teacherCommission)}),W.instituteId&&W.instituteCommission&&W.instituteCommission>0){const ye=he(Q,"tuitionInstitutes",W.instituteId);A.update(ye,{"earnings.total":it(-W.instituteCommission)})}}try{yield A.commit(),f(`${H} canceled and ${F.length} student(s) refunded.`,"success")}catch(W){console.error(W),f(`Failed to cancel ${H}.`,"error")}}),[r,n,f]),v=T.useCallback((K,U,H,B)=>ne(void 0,null,function*(){const A=he(Q,"teachers",K);try{const j=yield ea(A);if(!j.exists())throw new Error("Teacher not found");const I=j.data();let L={},F=H.charAt(0).toUpperCase()+H.slice(1),W=!1,pe=!0,ye;if(H==="class"){const ce=[...I.individualClasses],oe=ce.findIndex(ge=>ge.id===U);oe>-1&&(W=!ce[oe].isPublished,ce[oe].isPublished=W,L={individualClasses:ce})}else if(H==="course"){const ce=[...I.courses],oe=ce.findIndex(ge=>ge.id===U);if(oe>-1){if(ye=ce[oe],B==="request_approval"){ce[oe].adminApproval="pending",f(`${F} submitted for admin review.`,"success"),pe=!1;const ge=`Content Awaiting Approval: ${ye.title}`,fe=`
                            <div style="font-family: Arial, sans-serif; color: #333;">
                                <p>A new course is awaiting your approval.</p>
                                <ul>
                                    <li><strong>Title:</strong> ${ye.title}</li>
                                    <li><strong>Type:</strong> ${H}</li>
                                    <li><strong>Teacher:</strong> ${I.name} (${K})</li>
                                </ul>
                                <p>Please review it in the admin dashboard.</p>
                            </div>`;yield cr(m.notification,{email:ad},ge,fe)}else W=!ce[oe].isPublished,ce[oe].isPublished=W;L={courses:ce}}}else if(H==="product"){const ce=[...I.products||[]],oe=ce.findIndex(ge=>ge.id===U);if(oe>-1){if(ye=ce[oe],B==="request_approval"){ce[oe].adminApproval="pending",f(`${F} submitted for admin review.`,"success"),pe=!1;const ge=`Product Awaiting Approval: ${ye.title}`,fe=`
                            <div style="font-family: Arial, sans-serif; color: #333;">
                                <p>A new product is awaiting your approval.</p>
                                <ul>
                                    <li><strong>Title:</strong> ${ye.title}</li>
                                    <li><strong>Type:</strong> ${H}</li>
                                    <li><strong>Teacher:</strong> ${I.name} (${K})</li>
                                </ul>
                                <p>Please review it in the admin dashboard.</p>
                            </div>`;yield cr(m.notification,{email:ad},ge,fe)}else W=!ce[oe].isPublished,ce[oe].isPublished=W;L={products:ce}}}else if(H==="quiz"){const ce=[...I.quizzes],oe=ce.findIndex(ge=>ge.id===U);oe>-1&&(W=!ce[oe].isPublished,ce[oe].isPublished=W,L={quizzes:ce})}else if(H==="events"){const ce=[...I.events||[]],oe=ce.findIndex(ge=>ge.id===U);oe>-1&&(W=!ce[oe].isPublished,ce[oe].isPublished=W,L={events:ce})}Object.keys(L).length>0?(yield ct(A,L),pe&&f(`${F} has been ${W?"published":"unpublished"}.`,"success")):f(`Could not find ${F} to update.`,"error")}catch(j){console.error(j),f(`Failed to update ${H}.`,"error")}}),[f]),y=T.useCallback((K,U)=>ne(void 0,null,function*(){if(!t){f("You must be logged in to rate a course.","error");return}const H=r.find(A=>A.courses.some(j=>j.id===K));if(!H){f("Could not find the course to rate.","error");return}const B=H.courses.map(A=>{if(A.id===K){const j=[...A.ratings],I=j.findIndex(F=>F.studentId===t.id),L={studentId:t.id,rating:U,ratedAt:new Date().toISOString()};return I>-1?j[I]=L:j.push(L),X(q({},A),{ratings:j})}return A});try{yield u(H.id,{courses:B}),f("Thank you for your rating!","success")}catch(A){}}),[t,r,u,f]),C=T.useCallback((K,U,H)=>ne(void 0,null,function*(){if(!t){f("You must be logged in to rate a teacher.","error");return}const B=r.find(L=>L.id===K);if(!B){f("Could not find the teacher to rate.","error");return}const A=[...B.ratings||[]],j=A.findIndex(L=>L.studentId===t.id&&L.classId===U),I={studentId:t.id,classId:U,rating:H,ratedAt:new Date().toISOString()};j>-1?A[j]=I:A.push(I);try{yield u(B.id,{ratings:A}),f("Thank you for your rating!","success")}catch(L){}}),[t,r,u,f]),O=T.useCallback(K=>ne(void 0,null,function*(){const U=n.find(j=>j.itemId===K.quizId&&j.studentId===K.studentId&&j.itemSnapshot.instanceStartDate===K.quizInstanceId),H=U==null?void 0:U.itemSnapshot;if(!H){f("Quiz data not found for this submission.","error");return}let B=0;H.questions.forEach(j=>{const I=K.answers.find(L=>L.questionId===j.id);if(I){const L=j.answers.filter(F=>F.isCorrect).map(F=>F.id);L.length===I.selectedAnswerIds.length&&L.every(F=>I.selectedAnswerIds.includes(F))&&B++}});const A=`sub_${K.studentId}_${K.quizId}_${K.quizInstanceId}`;yield kt(he(Q,"submissions",A),X(q({},K),{id:A,score:B})),f("Quiz submitted successfully!","success"),h({name:"quiz_detail",quizId:K.quizId,instanceId:K.quizInstanceId})}),[n,f,h]),P=T.useCallback(K=>ne(void 0,null,function*(){const U=Jt(Q),H=Zr(Et(Q,"submissions"),en("quizId","==",K));(yield tn(H)).forEach(A=>{U.delete(A.ref)}),yield U.commit(),f("Previous submissions for this quiz have been cleared.","success")}),[f]),D=T.useCallback((K,U)=>ne(void 0,null,function*(){if(!t)return;const H=`watchHistory.${K}.${U}`;yield ct(he(Q,"users",t.id),{[H]:!0})}),[t]),R=T.useCallback((K,U,H,B)=>ne(void 0,null,function*(){const A=r.find(F=>F.id===K);if(!A){f("Teacher not found.","error");return}const j=A.individualClasses.findIndex(F=>F.id===U);if(j===-1){f("Class not found.","error");return}const I=[...A.individualClasses],L=q({},I[j]);L.recordingUrls||(L.recordingUrls={}),L.recordingUrls[H]=B,I[j]=L;try{yield u(K,{individualClasses:I}),f("Recording link(s) saved!","success")}catch(F){}}),[r,u,f]),N=T.useCallback((K,U,H,B)=>ne(void 0,null,function*(){const A=r.find(L=>L.id===K);if(!A){f("Teacher not found.","error");return}const j=A.individualClasses.findIndex(L=>L.id===U);if(j===-1){f("Class not found.","error");return}const I=[...A.individualClasses];I[j].grades||(I[j].grades={}),I[j].grades[H]=B,yield u(K,{individualClasses:I}),f("Grades saved successfully!","success")}),[r,u,f]),z=T.useCallback((K,U,H,B)=>ne(void 0,null,function*(){if(!t){f("You must be logged in to submit homework.","error");return}try{yield nn(Q,A=>ne(void 0,null,function*(){var ge;const j=he(Q,"teachers",K),I=yield A.get(j);if(!I.exists())throw new Error("Class teacher not found.");const L=I.data(),F=L.individualClasses.findIndex(fe=>fe.id===U);if(F===-1)throw new Error("Class not found.");const W=q({},L.individualClasses[F]),pe=((ge=W.homeworkSubmissions)==null?void 0:ge[H])||[],ye=pe.findIndex(fe=>fe.studentId===t.id),ce={studentId:t.id,link:B,submittedAt:new Date().toISOString()};ye>-1?pe[ye]=ce:pe.push(ce),W.homeworkSubmissions||(W.homeworkSubmissions={}),W.homeworkSubmissions[H]=pe;const oe=[...L.individualClasses];oe[F]=W,A.update(j,{individualClasses:oe})})),f("Homework submitted successfully!","success")}catch(A){console.error(A),f(A.message||"Error saving homework.","error")}}),[t,f]),G=T.useCallback(K=>ne(void 0,null,function*(){const U=K.organizerId,H=r.find(I=>I.id===U);if(!H){f("Associated teacher profile not found.","error");return}const B=H.events||[],A=B.findIndex(I=>I.id===K.id),j=[...B];A>-1?j[A]=K:j.push(K);try{yield u(H.id,{events:j}),f("Event saved successfully!","success")}catch(I){}}),[r,u,f]);return{handleSaveClass:b,handleSaveCourse:S,handleSaveProduct:x,handleSaveQuiz:E,handleSaveEvent:G,handleCancelItem:w,handleTogglePublishState:v,handleRateCourse:y,handleRateTeacher:C,handleFinishQuiz:O,handleDeleteQuizSubmissions:P,logLectureWatch:D,handleSaveClassRecording:R,handleSaveGrading:N,handleSaveHomeworkSubmission:z}},L8=e=>{const{currentUser:t,ui:r,nav:n,teachers:a,tuitionInstitutes:i}=e,{addToast:s,setModalState:u}=r,{handleNavigate:c}=n;return{handleEnroll:T.useCallback((h,m,p=!1,b,S,x,E)=>ne(void 0,null,function*(){const w=(v=!1,y)=>ne(void 0,null,function*(){var G;const C=t?q(q({},t),y):null;if(!C){u({name:"login",preventRedirect:!0});return}if(!v){const{email:K,contactNumber:U,address:H}=C;if(!(K&&U&&(H==null?void 0:H.line1)&&(H==null?void 0:H.city))){let A=1;K&&U&&(A=2),s("Please complete your profile to proceed with payment.","info"),u({name:"edit_student_profile",initialStep:A,onSaveAndContinue:j=>w(!0,j)});return}}const O=Wh("INV"),P=he(Q,"sales",O),D=S||h.title,R={id:O,studentId:C.id,itemId:h.id,itemType:m,itemName:D,totalAmount:0,amountPaidFromBalance:0,saleDate:new Date().toISOString(),currency:"LKR",status:"completed",itemSnapshot:h};if(x&&(R.purchaseMetadata=x),m==="event"){const K=h;K.organizerType==="teacher"?R.teacherId=K.organizerId:R.instituteId=K.organizerId}else"teacherId"in h&&(R.teacherId=h.teacherId),"instituteId"in h&&h.instituteId&&(R.instituteId=h.instituteId);const N=R;let z=0;b!==void 0?z=b:z=m==="event"?h.tickets.price:"fee"in h?h.fee:0,m==="class"&&h.paymentMethod==="manual"&&(z=0);try{yield nn(Q,K=>ne(void 0,null,function*(){const U=yield K.get(he(Q,"users",C.id));if(!U.exists())throw new Error("Student document not found!");const H=U.data();if(m==="class"&&h.isFreeSlot){const A=he(Q,"teachers",h.teacherId),j=yield K.get(A);if(j.exists()){const I=j.data(),L=I.individualClasses.find(W=>W.id===h.id);if(!L||!L.isPublished)throw new Error("This 1-on-1 slot has just been booked by someone else.");const F=I.individualClasses.map(W=>W.id===h.id?X(q({},W),{isPublished:!1}):W);K.update(A,{individualClasses:F})}else throw new Error("Teacher not found.")}const B=Math.min(H.accountBalance,z);if(N.amountPaidFromBalance=B,N.totalAmount=z-B,N.totalAmount>0)N.status="hold",K.set(P,N);else{N.status="completed",N.paymentMethod=m==="class"&&h.paymentMethod==="manual"?"manual_at_venue":"balance";const A=N.amountPaidFromBalance;if(A>0){let j=0,I=0,L=0;if(N.instituteId){const F=i.find(W=>W.id===N.instituteId);if(F){j=A*(F.platformMarkupRate/100);const W=A*(F.commissionRate/100);L=W-j,I=A-W}}else if(N.teacherId){const F=a.find(W=>W.id===N.teacherId);F&&(j=A*(F.commissionRate/100),I=A-j)}N.platformCommission=j,N.teacherCommission=I,N.instituteCommission=L,I>0&&N.teacherId&&K.update(he(Q,"teachers",N.teacherId),{"earnings.total":it(I)}),L>0&&N.instituteId&&K.update(he(Q,"tuitionInstitutes",N.instituteId),{"earnings.total":it(L)})}K.set(P,N),B>0&&K.update(he(Q,"users",C.id),{accountBalance:H.accountBalance-B})}})),N.totalAmount>0?c({name:"payment_redirect",payload:{type:"enrollment",item:h,sale:N,updatedUser:C,selectedMethod:E}}):(s(`Successfully registered for ${h.title}!`,"success"),z>0&&((G=n.functionUrls)!=null&&G.notification)&&Bn(n.functionUrls.notification,C,z,N.itemName,N.id))}catch(K){console.error(K),s(K.message||"Unable to enroll.","error")}});yield w()}),[t,s,u,c,a,i])}},A8=e=>{const{currentUser:t,ui:r,nav:n,handleImageSave:a}=e,{addToast:i,setModalState:s}=r,u=T.useCallback((f,h)=>{const m=(p=!1,b)=>{const S=t?q(q({},t),b):null;if(!S){s({name:"login",preventRedirect:!0});return}if(!p){const{email:x,contactNumber:E,address:w}=S;if(!(x&&E&&(w==null?void 0:w.line1)&&(w==null?void 0:w.city))){let y=1;x&&E&&(y=2),i("Please complete your profile to proceed with payment.","info"),s({name:"edit_student_profile",initialStep:y,onSaveAndContinue:C=>m(!0,C)});return}}n.handleNavigate({name:"payment_redirect",payload:{type:"topup",amount:f,updatedUser:S,selectedMethod:h}})};m()},[t,n.handleNavigate,s,i]),c=T.useCallback((f,h)=>ne(void 0,null,function*(){if(!t){i("You must be logged in to request a top-up.","error"),s({name:"login",preventRedirect:!0});return}i("Submitting your request...","info");try{const m=yield a(h,"payment_slip");if(!m)throw new Error("Failed to upload payment slip image.");const p=`topup_${t.id}_${Date.now()}`,b=he(Q,"topUpRequests",p),S={id:p,studentId:t.id,method:"slip",amount:f,imageUrl:m,status:"pending",requestedAt:new Date().toISOString()};yield kt(b,S),i("Your top-up request has been submitted for verification. It will be processed within 24 hours.","success")}catch(m){console.error("Error submitting top-up request:",m),i("There was an error submitting your request. Please try again.","error")}}),[t,i,s,a]);return{handleTopUpWithGateway:u,handleTopUpWithSlip:c}},O8=e=>{const{currentUser:t,ui:r,nav:n,currencyFormatter:a}=e,{addToast:i,setModalState:s}=r,u=T.useCallback((f,h)=>{const m=f.amount*h;n.handleNavigate({name:"payment_redirect",payload:{type:"voucher",details:f,quantity:h,totalAmount:m}})},[n.handleNavigate]),c=T.useCallback(f=>ne(void 0,null,function*(){if(!t)return i("Please log in to redeem vouchers.","error"),!1;try{const h=Zr(Et(Q,"vouchers"),en("code","==",f.toUpperCase())),m=yield tn(h);if(m.empty)return i("Invalid voucher code.","error"),!1;const p=m.docs[0],b=p.data();return b.isUsed?(i("This voucher has already been redeemed.","error"),!1):new Date(b.expiresAt)<new Date?(i("This voucher has expired.","error"),!1):b.assignedToUserId&&b.assignedToUserId!==t.id?(i("This voucher is assigned to another user.","error"),!1):(yield nn(Q,S=>ne(void 0,null,function*(){const x=p.ref,E=he(Q,"users",t.id),w=yield S.get(x);if(!w.exists()||w.data().isUsed)throw new Error("This voucher has just been redeemed.");S.update(x,{isUsed:!0,usedBy:t.id,usedAt:new Date().toISOString()});const v={id:`topup_v_${Date.now()}`,studentId:t.id,method:"voucher",amount:b.amount,voucherCode:b.code,status:"approved",requestedAt:new Date().toISOString(),processedAt:new Date().toISOString()};S.update(E,{accountBalance:it(b.amount),topUpHistory:_r(v)})})),i(`Successfully redeemed ${a.format(b.amount)}!`,"success"),!0)}catch(h){const m=typeof h=="string"?h:h.message||"Failed to redeem voucher.";return i(m,"error"),!1}}),[t,i,a]);return{handleVoucherPurchaseRequest:u,handleRedeemVoucher:c}},R8="admin@clazz.lk",B8=e=>{const{currentUser:t,ui:r,nav:n,users:a,teachers:i,tuitionInstitutes:s,currencyFormatter:u}=e,{functionUrls:c}=n,f=T.useCallback(m=>ne(void 0,null,function*(){const p=m.get("status_code"),b=m.get("custom_fields");if(!p||!b)return null;window.history.replaceState({},document.title,window.location.pathname);let S={name:"student_dashboard"};const x=JSON.parse(decodeURIComponent(atob(b))),E=m.get("order_id")||`sale_${Date.now()}`;try{const w=p.replace(/[^0-9]/g,"");if(w==="0"||w==="00"){const v=Jt(Q);switch(x.type){case"enrollment":{const{sale:y}=x,C={status:"completed",paymentMethod:"gateway"},O=y.totalAmount+y.amountPaidFromBalance;if(O>0){let D=0,R=0,N=0;if(y.instituteId){const z=s.find(G=>G.id===y.instituteId);if(z){D=O*(z.platformMarkupRate/100);const G=O*(z.commissionRate/100);N=G-D,R=O-G}}else if(y.teacherId){const z=i.find(G=>G.id===y.teacherId);z&&(D=O*(z.commissionRate/100),R=O-D)}C.platformCommission=D,C.teacherCommission=R,C.instituteCommission=N,R>0&&y.teacherId&&v.update(he(Q,"teachers",y.teacherId),{"earnings.total":it(R)}),N>0&&y.instituteId&&v.update(he(Q,"tuitionInstitutes",y.instituteId),{"earnings.total":it(N)})}v.update(he(Q,"sales",y.id),C),y.amountPaidFromBalance>0&&t&&v.update(he(Q,"users",t.id),{accountBalance:it(-y.amountPaidFromBalance)});const P=t||a.find(D=>D.id===y.studentId);P&&Bn(P,y.totalAmount,y.itemName,y.id),r.addToast(`Successfully enrolled in ${y.itemName}!`,"success"),S={name:`${x.itemType}_detail`,[`${x.itemType}Id`]:y.itemId};break}case"topup":if(t){const y={id:E,studentId:t.id,method:"gateway",amount:x.amount,status:"approved",requestedAt:new Date().toISOString(),processedAt:new Date().toISOString()};v.update(he(Q,"users",t.id),{accountBalance:it(x.amount),topUpHistory:_r(y)}),r.addToast(`${u.format(x.amount)} added to your balance!`,"success"),Bn(c.notification,t,x.amount,"Account Top-Up",E)}break;case"voucher":{const{details:y,quantity:C,totalAmount:O}=x,P=[];for(let D=0;D<C;D++){const R=he(Et(Q,"vouchers")),N=q({id:R.id,code:`GIFT${Math.random().toString(36).substring(2,8).toUpperCase()}`,isUsed:!1,purchasedAt:new Date().toISOString(),expiresAt:new Date(new Date().setMonth(new Date().getMonth()+6)).toISOString(),amount:y.amount},y);v.set(R,N),P.push(N)}return Bn({email:y.billingEmail},O,`${C} x Gift Voucher(s)`,E),yield v.commit(),{name:"voucher_success",vouchers:P}}case"external_topup":{const{students:y,amountPerStudent:C,totalAmount:O,billingDetails:P}=x;return y.forEach(D=>{const R={id:`${E}_${D.id}`,studentId:D.id,method:"gateway",amount:C,status:"approved",requestedAt:new Date().toISOString(),processedAt:new Date().toISOString()};v.update(he(Q,"users",D.id),{accountBalance:it(C),topUpHistory:_r(R)})}),Bn(P,O,`Top-Up for ${y.length} students`,E),yield v.commit(),{name:"topup_success",successData:{students:y,amountPerStudent:C,totalAmount:O}}}case"marketplace_purchase":case"photo_purchase":{const{cart:y,totalAmount:C,billingDetails:O,shippingAddress:P}=x,D=y.map(N=>{var z,G,K,U;if(N.type==="product")for(const H of i){const B=(z=H.products)==null?void 0:z.find(A=>A.id===N.id);if(B)return{type:"product",id:gn(),product:B,quantity:N.quantity}}else{const H=s.find(L=>L.id===N.instituteId),B=(G=H==null?void 0:H.events)==null?void 0:G.find(L=>L.id===N.eventId),A=N.printOptionId?n.photoPrintOptions.find(L=>L.id===N.printOptionId):void 0;let j=0;N.type==="photo_download"?j=((K=B==null?void 0:B.gallery)==null?void 0:K.downloadPrice)||0:N.type==="photo_download_highres"?j=((U=B==null?void 0:B.gallery)==null?void 0:U.downloadPriceHighRes)||0:A&&(j=A.price);const I={id:N.id,url_thumb:N.url_thumb,url_highres:N.url_highres};return{type:N.type,id:gn(),photo:I,eventId:N.eventId,instituteId:N.instituteId,quantity:N.quantity,price:j,printOption:A}}return null}).filter(Boolean);if(D.length===0)throw new Error("Failed to process order: cart items not found.");const R=yield h(D,C,O,P,x.type,t);v.set(he(Q,"sales",R.id),R),R.teacherCommission&&R.teacherId&&v.update(he(Q,"teachers",R.teacherId),{"earnings.total":it(R.teacherCommission)}),R.instituteCommission&&R.instituteId&&v.update(he(Q,"tuitionInstitutes",R.instituteId),{"earnings.total":it(R.instituteCommission)}),x.type==="photo_purchase"&&D.forEach(N=>{N.type.includes("download")&&D8(N.type==="photo_download_highres"?N.photo.url_highres:N.photo.url_thumb.replace(/=s\d+$/,"=s1600"),`clazz_lk_${N.photo.id}.png`)}),Bn(O,C,`${D.length} items`,R.id),r.addToast("Purchase complete!","success"),r.clearCart(),S={name:"student_dashboard",initialTab:"my_orders"};break}case"teacher_subscription":{const{planLevel:y,amount:C,refCode:O,billingDetails:P}=x;Bn({email:P.billingEmail,contactNumber:P.billingContactNumber},C,`Teacher Subscription (Level ${y})`,E);const D=`New Teacher Subscription Payment: Level ${y}`,R=`
                            <div style="font-family: Arial, sans-serif;">
                                <h2>New Subscription Payment</h2>
                                <p><strong>Amount:</strong> ${u.format(C)}</p>
                                <p><strong>Plan Level:</strong> ${y}</p>
                                <p><strong>Ref Code:</strong> ${O}</p>
                                <p><strong>Name:</strong> ${P.billingFirstName} ${P.billingLastName}</p>
                                <p><strong>Email:</strong> ${P.billingEmail}</p>
                                <p><strong>Phone:</strong> ${P.billingContactNumber}</p>
                                <p><strong>Transaction ID:</strong> ${E}</p>
                            </div>
                         `;yield cr({email:R8},D,R),r.addToast("Subscription payment successful!","success"),S={name:"subscription_success",planLevel:y,amount:C,transactionId:E,billingDetails:P,refCode:O};break}}yield v.commit()}else{const v=m.get("msg");r.addToast(`Payment failed: ${v&&v!=="null"?v:"Transaction was unsuccessful."}`,"error"),x.type==="enrollment"&&(yield kl(he(Q,"sales",x.sale.id))),S={name:"student_dashboard"}}}catch(w){if(console.error("Critical error in handlePaymentResponse:",w),x.type==="enrollment")try{yield kl(he(Q,"sales",x.sale.id))}catch(v){console.error("Failed to clean up 'hold' sale doc:",v)}return r.addToast("There was a critical error processing your payment. Please contact support.","error"),{name:"home"}}return S}),[t,r,n,u,a,s,i]),h=(m,p,b,S,x,E)=>{var D,R;const w=Wh("INV");let v;const y=x==="photo_purchase",C=m[0];if(C.type==="product"?v=C.product.teacherId:C.type.startsWith("photo")&&(v=C.instituteId),!v)throw new Error("Seller could not be determined.");const O=y?s.find(N=>N.id===v):i.find(N=>N.id===v);if(!O)throw new Error(`Seller with ID ${v} not found.`);const P={id:w,studentId:(E==null?void 0:E.id)||`guest_${b.billingEmail}`,itemId:w,itemType:x,totalAmount:p,amountPaidFromBalance:0,saleDate:new Date().toISOString(),currency:"LKR",status:"completed",paymentMethod:"gateway",cartItems:m,itemName:`${m.length} item(s) from ${O.name}`};if(S&&(P.shippingAddress=S),y){P.instituteId=v;const z=((D=O.photoCommissionRate)!=null?D:60)/100;P.platformCommission=p*z,P.instituteCommission=p*(1-z),P.photoOrderStatus="pending"}else{P.teacherId=v;const z=((R=O.commissionRate)!=null?R:25)/100;P.platformCommission=p*z,P.teacherCommission=p*(1-z),m.some(K=>K.product.type==="physical")&&(P.physicalOrderStatus="pending")}return P};return{handlePaymentResponse:f}},$8=e=>{const{currentUser:t,ui:r,sales:n}=e,{addToast:a}=r,i=T.useCallback(u=>ne(void 0,null,function*(){if(!t)return;const c=he(Q,"users",t.id);try{yield nn(Q,f=>ne(void 0,null,function*(){const h=yield f.get(c);if(!h.exists())throw new Error("User profile not found");const m=h.data();if((m.referralBalance||{available:0}).available<u)throw new Error("Insufficient available balance for withdrawal.");const b={id:`w_${Date.now()}`,userId:t.id,amount:u,requestedAt:new Date().toISOString(),status:"pending"},S=[...m.withdrawalHistory||[],b];f.update(c,{"referralBalance.available":it(-u),withdrawalHistory:S})})),a("Withdrawal request submitted.","success")}catch(f){a(f.message||"Withdrawal failed","error")}}),[t,a]),s=T.useCallback(u=>ne(void 0,null,function*(){const c=n.find(p=>p.id===u);if(!c||c.status==="refunded"){a("Sale not found or already refunded.","error");return}const f=Jt(Q),h=he(Q,"sales",u);f.update(h,{status:"refunded"});const m=c.totalAmount+c.amountPaidFromBalance;if(m>0&&f.update(he(Q,"users",c.studentId),{accountBalance:it(m)}),c.teacherId&&c.teacherCommission&&c.teacherCommission>0){const p=he(Q,"teachers",c.teacherId);f.update(p,{"earnings.total":it(-c.teacherCommission)})}if(c.instituteId&&c.instituteCommission&&c.instituteCommission>0){const p=he(Q,"tuitionInstitutes",c.instituteId);f.update(p,{"earnings.total":it(-c.instituteCommission)})}try{yield f.commit(),a("Sale refunded to student's account balance.","success")}catch(p){a("Refund failed.","error")}}),[n,a]);return{handleRequestAffiliateWithdrawal:i,handleRefundSale:s}},K8=e=>{const{nav:t}=e;return{handleExternalTopUpRequest:T.useCallback((n,a,i)=>{const s=n.length*a;t.handleNavigate({name:"payment_redirect",payload:{type:"external_topup",students:n,amountPerStudent:a,totalAmount:s,billingDetails:i}})},[t.handleNavigate])}},F8=e=>{const{handleEnroll:t}=L8(e),{handleTopUpWithGateway:r,handleTopUpWithSlip:n}=A8(e),{handleVoucherPurchaseRequest:a,handleRedeemVoucher:i}=O8(e),{handlePaymentResponse:s}=B8(e),{handleRequestAffiliateWithdrawal:u,handleRefundSale:c}=$8(e),{handleExternalTopUpRequest:f}=K8(e);return{handleEnroll:t,handlePaymentResponse:s,handleTopUpWithGateway:r,handleTopUpWithSlip:n,handleRedeemVoucher:i,handleVoucherPurchaseRequest:a,handleExternalTopUpRequest:f,handleRequestAffiliateWithdrawal:u,handleRefundSale:c}},z8="admin@clazz.lk",U8=e=>{const{ui:t,nav:r,users:n,teachers:a,knownInstitutes:i,topUpRequests:s,handleImageSave:u}=e,{addToast:c}=t,{functionUrls:f}=r,h=T.useMemo(()=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}),[]),m=T.useCallback((Y,re)=>ne(void 0,null,function*(){try{const me=he(Q,"teachers",Y);if(re.username){const xe=a.find(se=>se.id===Y);if(xe&&xe.username!==re.username&&a.some(ee=>ee.id!==Y&&ee.username===re.username))throw new Error(`Username "${re.username}" is already taken.`)}if(re.teachingLocations&&re.teachingLocations.length>0){const xe=Jt(Q);let se=!1;for(const ee of re.teachingLocations)if(!i.some(le=>le.name.toLowerCase()===ee.instituteName.toLowerCase()&&le.district===ee.district&&le.town===ee.town)){const le=he(Et(Q,"knownInstitutes")),Be={id:le.id,name:ee.instituteName,district:ee.district,town:ee.town,type:ee.instituteType,addedBy:Y};xe.set(le,Be),se=!0}se&&(yield xe.commit())}if(re.registrationStatus==="approved"){const xe=yield ea(me);if(xe.exists()){const se=xe.data();if(se.registrationStatus!=="approved"){const ee="Your Clazz.lk Teacher Account is Approved!",ae=`
                            <div style="font-family: Arial, sans-serif; color: #333;">
                                <h2>Congratulations, ${se.name}!</h2>
                                <p>Your teacher account on clazz.lk has been reviewed and approved. You can now log in to your dashboard to create courses, schedule classes, and start teaching.</p>
                                <p>Welcome to our community of educators!</p>
                                <p>The Clazz.lk Team</p>
                            </div>
                        `;yield cr(f.notification,{email:se.email},ee,ae)}}}yield ct(me,re)}catch(me){throw console.error("Error updating teacher:",me),c(me.message||"Error updating teacher.","error"),me}}),[c,a,i]),p=T.useCallback((Y,re,me,xe)=>ne(void 0,null,function*(){try{const se=n.find(Le=>Le.id===Y);if(!se)throw new Error("User not found");const ee=se.role==="teacher",le=he(Q,ee?"teachers":"users",Y);let Be=0;if(yield nn(Q,Le=>ne(void 0,null,function*(){const ue=yield Le.get(le);if(!ue.exists())throw new Error("Profile not found");const te=ue.data(),we=[...te.withdrawalHistory||[]],Te=we.findIndex(de=>de.id===re);if(Te===-1)throw new Error("Withdrawal record not found.");const Me=q({},we[Te]);if(Me.status!=="pending")throw new Error("This request has already been processed.");Me.status=me,Me.processedAt=new Date().toISOString(),xe&&(Me.notes=xe),Be=Me.amount,we[Te]=Me;let He={withdrawalHistory:we};if(ee){let Ce=q({},te.earnings);me==="completed"?Ce.withdrawn=(Ce.withdrawn||0)+Me.amount:me==="failed"&&(Ce.available=(Ce.available||0)+Me.amount),He.earnings=Ce}else{const de=te;me==="failed"&&(He.accountBalance=(de.accountBalance||0)+Me.amount)}Le.update(le,He)})),t.addToast(`Withdrawal status updated to ${me}.`,"success"),me==="completed"&&se){const Le="Your Withdrawal Request has been Processed",ue=`
                    <div style="font-family: Arial, sans-serif; color: #333;">
                        <p>Dear ${se.firstName},</p>
                        <p>Your withdrawal request for <strong>${h.format(Be)}</strong> has been processed.</p>
                        <p>The funds should be reflected in your bank account shortly. Please check your account.</p>
                        <p>Thank you for being a part of Clazz.lk!</p>
                        <p>The Clazz.lk Team</p>
                    </div>
                `;yield cr(f.notification,{email:se.email},Le,ue)}}catch(se){console.error(se),t.addToast(se.message||"Failed to update withdrawal.","error")}}),[n,t,h]),b=T.useCallback(Y=>ne(void 0,null,function*(){try{const re=he(Q,"settings","appConfig");yield ct(re,{defaultCoverImages:bl(Y)}),c("Default cover image removed.","success")}catch(re){console.error(re),c("Failed to remove image.","error")}}),[c]),S=T.useCallback((Y,re)=>ne(void 0,null,function*(){const me=he(Q,"teachers",Y);try{yield ct(me,{coverImages:bl(re)}),c("Cover image removed.","success")}catch(xe){console.error("Error removing cover image:",xe),c("Failed to remove cover image.","error")}}),[c]),x=T.useCallback((Y,re,me,xe)=>ne(void 0,null,function*(){const se=s.find(Le=>Le.id===Y);if(!se)return;const ee=Jt(Q),ae=he(Q,"topUpRequests",Y),le=typeof xe=="number"&&xe>=0?xe:se.amount,Be={status:re,processedAt:new Date().toISOString()};if(me&&(Be.rejectionReason=me),re==="approved"&&typeof xe=="number"&&xe!==se.amount&&(Be.originalAmount=se.amount,Be.amount=le),ee.update(ae,Be),re==="approved"){const Le=he(Q,"users",se.studentId),ue=q(X(q({},se),{status:"approved",processedAt:new Date().toISOString(),amount:le}),typeof xe=="number"&&xe!==se.amount&&{originalAmount:se.amount});ee.update(Le,{accountBalance:it(le),topUpHistory:_r(ue)});const te=n.find(we=>we.id===se.studentId);te&&Bn(f.notification,te,le,"Bank Deposit Top-Up",se.id)}yield ee.commit(),c(`Top-up request ${re}.`,"success")}),[s,n,c]),E=T.useCallback((Y,re)=>ne(void 0,null,function*(){try{yield ct(he(Q,"sales",Y),{status:re}),c(`Sale status updated to ${re}.`,"success")}catch(me){console.error(me),c("Failed to update sale status.","error")}}),[c]),w=T.useCallback((Y,re)=>ne(void 0,null,function*(){try{yield ct(he(Q,"sales",Y),{photoOrderStatus:re}),c(`Photo order status updated to ${re}.`,"success")}catch(me){console.error(me),c("Failed to update photo order status.","error")}}),[c]),v=T.useCallback((Y,re)=>ne(void 0,null,function*(){try{yield ct(he(Q,"sales",Y),{physicalOrderStatus:re}),c(`Order status updated to ${re}.`,"success")}catch(me){console.error(me),c("Failed to update order status.","error")}}),[c]),y=T.useCallback((Y,re)=>ne(void 0,null,function*(){yield m(Y,{payoutDetails:re})}),[m]),C=T.useCallback((Y,re,me,xe)=>ne(void 0,null,function*(){if(!a.find(ee=>ee.id===Y)){c("Teacher not found.","error");return}try{const ae=yield u(me,{id_front:"id_verification_front",id_back:"id_verification_back",bank:"bank_verification"}[re],{teacherId:Y});if(ae){const le={};re==="id_front"?(le["verification.id.frontImageUrl"]=ae,le["verification.id.status"]="pending",le["verification.id.requestNote"]=xe,le["verification.id.rejectionReason"]=""):re==="id_back"?(le["verification.id.backImageUrl"]=ae,le["verification.id.status"]="pending",le["verification.id.requestNote"]=xe,le["verification.id.rejectionReason"]=""):(le["verification.bank.imageUrl"]=ae,le["verification.bank.status"]="pending",le["verification.bank.requestNote"]=xe,le["verification.bank.rejectionReason"]=""),yield m(Y,le),c("Verification document submitted for review.","success")}}catch(ee){console.error("Verification upload failed:",ee),c("Failed to upload document.","error")}}),[a,u,m,c]),O=T.useCallback((Y,re,me,xe)=>ne(void 0,null,function*(){const se=a.find(le=>le.id===Y);if(!se)return;const ee=se.verification[re],ae={[`verification.${re}`]:X(q({},ee),{status:me==="approve"?"verified":"rejected",rejectionReason:xe||""})};if(yield m(Y,ae),c(`Verification has been ${me==="approve"?"approved":"rejected"}.`,"success"),me==="approve"){const le=`Your ${re.toUpperCase()} Verification is Approved!`,Be=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>Dear ${se.name},</p>
                    <p>Your <strong>${re==="id"?"ID":"Bank"} verification document</strong> has been reviewed and approved by our team.</p>
                    ${re==="bank"&&se.verification.id.status==="verified"||re==="id"&&se.verification.bank.status==="verified"?"<p>Both your ID and Bank details are now verified. You can now request withdrawals from your earnings dashboard.</p>":"<p>Please ensure both your ID and Bank documents are verified to enable withdrawals.</p>"}
                    <p>Regards,</p>
                    <p>The Clazz.lk Team</p>
                </div>
            `;yield cr(f.notification,{email:se.email},le,Be)}}),[a,m,c]),P=T.useCallback((Y,re)=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{[`staticContent.${Y}`]:re},{merge:!0})}),[]),D=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{homeSlides:Y},{merge:!0})}),[]),R=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{socialMediaLinks:Y},{merge:!0})}),[]),N=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{subjects:Y},{merge:!0})}),[]),z=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{studentCardTaglines:Y},{merge:!0})}),[]),G=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{teacherCardTaglines:Y},{merge:!0})}),[]),K=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{homePageCardCounts:Y},{merge:!0})}),[]),U=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{upcomingExams:Y},{merge:!0})}),[]),H=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{photoPrintOptions:Y},{merge:!0})}),[]),B=T.useCallback(Y=>ne(void 0,null,function*(){yield ct(he(Q,"settings","clientAppConfig"),{paymentGatewaySettings:Y})}),[]),A=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{teacherDashboardMessage:Y},{merge:!0})}),[]),j=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{financialSettings:Y},{merge:!0})}),[]),I=T.useCallback(Y=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{supportSettings:Y},{merge:!0})}),[]),L=T.useCallback((Y,re)=>ne(void 0,null,function*(){var ue;if(!re)return;const me=new Date,xe=me.getDate()>=15,se=new Date(me.getFullYear(),me.getMonth()-1,1),ee=se.getFullYear(),ae=se.getMonth(),le=`${ee}-${String(ae+1).padStart(2,"0")}`;if(!xe){console.log(`Payout processing for ${le} is scheduled for the 15th.`);return}const Le=he(Q,Y==="teacher"?"teachers":Y==="institute"?"tuitionInstitutes":"users",re);try{const te=yield ea(Le);if(!te.exists()){console.warn(`${Y} ${re} not found for payout check.`);return}if((((ue=te.data().earnings)==null?void 0:ue.processedPayouts)||[]).includes(le))return;yield nn(Q,Me=>ne(void 0,null,function*(){var Oe;const He=yield Me.get(Le);if(!He.exists())throw new Error(`${Y} not found in transaction.`);if((((Oe=He.data().earnings)==null?void 0:Oe.processedPayouts)||[]).includes(le))return;const vt=new Date(ee,ae,1),Xe=new Date(ee,ae+1,0,23,59,59),gr=e.sales.filter(Pe=>{const Ne=new Date(Pe.saleDate);return(Y==="teacher"&&Pe.teacherId===re||Y==="institute"&&Pe.instituteId===re)&&Pe.status==="completed"&&Ne>=vt&&Ne<=Xe}).reduce((Pe,Ne)=>Y==="teacher"?Pe+(Ne.teacherCommission||0):Y==="institute"?Pe+(Ne.instituteCommission||0):Pe,0);if(gr<=0){Me.update(Le,{"earnings.processedPayouts":_r(le)});return}Me.update(Le,{"earnings.available":it(gr),"earnings.processedPayouts":_r(le)})})),c("Payout balances have been checked and updated.","info")}catch(te){console.error(`Error processing monthly payouts for ${Y} ${re}:`,te)}}),[e.sales,c]),F=T.useCallback((Y,re,me)=>ne(void 0,null,function*(){const xe=f.fcmNotification||"https://asia-south1-clazz2-new.cloudfunctions.net/fcmNotifications/send-fcm-push";try{const se=yield fetch(xe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({teacherId:Y,content:re,target:me})});if(!se.ok){const ee=yield se.json();throw new Error(ee.message||"Failed to send notification")}c("Notification sent successfully!","success")}catch(se){console.error(se),c("Failed to send notification.","error")}}),[c]),W=T.useCallback((Y,re)=>ne(void 0,null,function*(){const me=a.find(se=>se.id===Y);if(!me){c("Teacher not found.","error");return}const xe=he(Q,"teachers",Y);try{yield nn(Q,se=>ne(void 0,null,function*(){const ee=yield se.get(xe);if(!ee.exists())throw new Error("Teacher profile not found.");if(ee.data().earnings.available<re)throw new Error("Insufficient available balance for withdrawal.");const Be={id:`w_${Date.now()}`,userId:me.userId,amount:re,requestedAt:new Date().toISOString(),status:"pending"};se.update(xe,{"earnings.available":it(-re),withdrawalHistory:_r(Be)})})),c("Withdrawal request submitted successfully.","success")}catch(se){console.error(se),c(se.message||"Withdrawal request failed.","error")}}),[a,c]),pe=T.useCallback((Y,re,me)=>ne(void 0,null,function*(){const xe=a.find(ae=>ae.id===Y);if(!xe)return;const se=xe.courses.findIndex(ae=>ae.id===re);if(se===-1)return;const ee=[...xe.courses];if(ee[se].adminApproval=me,me==="approved"&&(ee[se].isPublished=!0),yield m(Y,{courses:ee}),c(`Course has been ${me}.`,"success"),me==="approved"){const ae=`Your course "${ee[se].title}" has been approved!`,le=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>Hi ${xe.name},</p>
                    <p>Your course, "<strong>${ee[se].title}</strong>", has been reviewed and approved by our team.</p>
                    <p>It is now published and visible to students on the platform. You can manage its visibility from your teacher dashboard.</p>
                    <p>The Clazz.lk Team</p>
                </div>
            `;yield cr(f.notification,{email:xe.email},ae,le)}}),[a,m,c]),ye=T.useCallback((Y,re,me)=>ne(void 0,null,function*(){const xe=a.find(ae=>ae.id===Y);if(!xe||!xe.products)return;const se=xe.products.findIndex(ae=>ae.id===re);if(se===-1)return;const ee=[...xe.products];if(ee[se].adminApproval=me,me==="approved"&&(ee[se].isPublished=!0),yield m(Y,{products:ee}),c(`Product has been ${me}.`,"success"),me==="approved"){const ae=`Your product "${ee[se].title}" has been approved!`,le=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>Hi ${xe.name},</p>
                    <p>Your product, "<strong>${ee[se].title}</strong>", has been reviewed and approved by our team.</p>
                    <p>It is now published and visible to students on the platform store. You can manage its visibility from your teacher dashboard.</p>
                    <p>The Clazz.lk Team</p>
                </div>
            `;yield cr(f.notification,{email:xe.email},ae,le)}}),[a,m,c]),ce=T.useCallback((Y,re)=>ne(void 0,null,function*(){const me=n.find(xe=>{var se;return((se=xe.referralCode)==null?void 0:se.toUpperCase())===re.toUpperCase()});if(!me)throw new Error(`Referral code "${re}" is invalid.`);if(me.id===Y)throw new Error("Cannot assign self as referrer.");try{yield ct(he(Q,"users",Y),{referrerId:me.id}),c(`Successfully assigned referrer: ${me.firstName} ${me.lastName}`,"success")}catch(xe){throw console.error(xe),new Error("Failed to update user profile.")}}),[n,c]),oe=T.useCallback((Y,re,me)=>ne(void 0,null,function*(){const xe=Jt(Q),se=[];Y.forEach(ee=>{const ae=he(Et(Q,"vouchers")),le={id:ae.id,code:`GIFT${Math.random().toString(36).substring(2,8).toUpperCase()}`,amount:re,isUsed:!1,isCollected:!1,generatedByAdmin:!0,assignedToUserId:ee,title:me.title,redemptionRules:me.rules,purchasedAt:new Date().toISOString(),expiresAt:me.expiryDate,billingFirstName:"Admin",billingLastName:"System",billingEmail:z8,billingContactNumber:"",billingAddressLineOne:"System Generated"};xe.set(ae,le),se.push(le)});try{yield xe.commit(),c(`Successfully generated ${se.length} vouchers.`,"success")}catch(ee){console.error(ee),c("Failed to generate vouchers.","error")}}),[c]),ge=T.useCallback(Y=>ne(void 0,null,function*(){try{yield kl(he(Q,"vouchers",Y)),c("Voucher deleted successfully.","success")}catch(re){console.error(re),c("Failed to delete voucher.","error")}}),[c]),fe=T.useCallback((Y,re)=>ne(void 0,null,function*(){try{yield ct(he(Q,"vouchers",Y),re),c("Voucher updated successfully.","success")}catch(me){console.error(me),c("Failed to update voucher.","error")}}),[c]),be=T.useCallback(Y=>ne(void 0,null,function*(){try{const re=Y,{EMAIL_USER:me,EMAIL_PASS:xe,NOTIFY_LK_USER_ID:se,NOTIFY_LK_API_KEY:ee,NOTIFY_LK_SENDER_ID:ae}=re,le=ks(re,["EMAIL_USER","EMAIL_PASS","NOTIFY_LK_USER_ID","NOTIFY_LK_API_KEY","NOTIFY_LK_SENDER_ID"]),Be=Jt(Q);Object.keys(le).length>0&&Be.update(he(Q,"settings","clientAppConfig"),le);const ue=Object.fromEntries(Object.entries({EMAIL_USER:me,EMAIL_PASS:xe,NOTIFY_LK_USER_ID:se,NOTIFY_LK_API_KEY:ee,NOTIFY_LK_SENDER_ID:ae}).filter(([te,we])=>we!==void 0));Object.keys(ue).length>0&&Be.set(he(Q,"settings","system_config"),ue,{merge:!0}),yield Be.commit(),c("Developer settings updated successfully.","success")}catch(me){console.error(me),c("Failed to update developer settings.","error")}}),[c]);return{handleUpdateTeacher:m,handleUpdateWithdrawal:p,handleRemoveDefaultCoverImage:b,handleRemoveCoverImageFromArray:S,handleTopUpDecision:x,handleUpdateSaleStatus:E,handleUpdatePhotoOrderStatus:w,handleSaveBankDetails:y,handleVerificationDecision:O,handleUpdateStaticContent:P,handleUpdateHomeSlides:D,handleUpdateSocialMediaLinks:R,handleUpdateSubjects:N,handleUpdateStudentCardTaglines:z,handleUpdateTeacherCardTaglines:G,handleUpdateHomePageCardCounts:K,handleUpdateUpcomingExams:U,handleUpdatePhotoPrintOptions:H,handleUpdatePaymentGatewaySettings:B,handleUpdateTeacherDashboardMessage:A,handleUpdateFinancialSettings:j,handleUpdateSupportSettings:I,processMonthlyPayouts:L,handleSendNotification:F,handleRequestWithdrawal:W,handleCourseApproval:pe,handleProductApproval:ye,handleVerificationUpload:C,handleUpdatePhysicalOrderStatus:v,handleAssignReferralCode:ce,handleGenerateVouchers:oe,handleDeleteVoucher:ge,handleUpdateVoucher:fe,handleUpdateDeveloperSettings:be}},H8=e=>{const{ui:t,currentUser:r,teachers:n,tuitionInstitutes:a,sales:i}=e,{addToast:s}=t,u=T.useCallback(x=>ne(void 0,null,function*(){try{yield kt(he(Q,"tuitionInstitutes",x.id),x)}catch(E){throw console.error(E),s("Failed to save institute profile.","error"),E}}),[s]),c=T.useCallback((x,E)=>ne(void 0,null,function*(){try{yield ct(he(Q,"tuitionInstitutes",x),E)}catch(w){throw console.error(w),s("Failed to update institute profile.","error"),w}}),[s]),f=T.useCallback(x=>ne(void 0,null,function*(){const E=a.find(C=>C.id===x.organizerId);if(!E){s("Could not find the organizing institute.","error");return}const w=E.events||[],v=w.findIndex(C=>C.id===x.id),y=[...w];v>-1?y[v]=x:y.push(x);try{yield c(E.id,{events:y}),s("Event saved successfully!","success")}catch(C){s("Failed to save event.","error")}}),[a,c,s]),h=T.useCallback((x,E)=>ne(void 0,null,function*(){const w=a.find(D=>D.id===x);if(!w)return;const v=Jt(Q),y=he(Q,"tuitionInstitutes",x),C=w.events||[],O=C.findIndex(D=>D.id===E);if(O>-1){const D=[...C];D[O]=X(q({},D[O]),{status:"canceled",isDeleted:!0}),v.update(y,{events:D})}const P=i.filter(D=>D.itemId===E&&D.itemType==="event"&&D.status==="completed");for(const D of P){v.update(he(Q,"sales",D.id),{status:"refunded"});const R=D.totalAmount+D.amountPaidFromBalance;v.update(he(Q,"users",D.studentId),{accountBalance:it(R)})}try{yield v.commit(),s(`Event canceled and ${P.length} student(s) refunded.`,"success")}catch(D){console.error(D),s("Failed to cancel event.","error")}}),[i,a,s]),m=T.useCallback((x,E)=>ne(void 0,null,function*(){const w=a.find(P=>P.id===x);if(!w){s("Could not find the organizing institute.","error");return}const v=w.events||[],y=v.findIndex(P=>P.id===E);if(y===-1){s("Event not found to update.","error");return}const C=[...v],O=!C[y].isPublished;C[y].isPublished=O;try{yield c(x,{events:C}),s(`Event has been ${O?"published":"unpublished"}.`,"success")}catch(P){s("Failed to update event status.","error")}}),[a,c,s]),p=T.useCallback((x,E,w,v)=>ne(void 0,null,function*(){const y=n.find(C=>C.individualClasses.some(O=>O.id===x));if(!y)return s("Could not find class owner.","error"),!1;try{return yield nn(Q,C=>ne(void 0,null,function*(){const O=he(Q,"teachers",y.id),P=yield C.get(O);if(!P.exists())throw new Error("Teacher not found");const D=P.data(),R=D.individualClasses.findIndex(K=>K.id===x);if(R===-1)throw new Error("Class not found on teacher profile");const N=D.individualClasses[R],z=N.attendance||[];if(z.some(K=>K.studentId===E.id)){s(`${E.firstName} is already marked as attended.`,"info");return}const G={studentId:E.id,studentName:`${E.firstName} ${E.lastName}`,studentAvatar:E.avatar,attendedAt:new Date().toISOString(),paymentStatus:w,paymentRef:v};N.attendance=[...z,G],D.individualClasses[R]=N,C.update(O,{individualClasses:D.individualClasses})})),s(`${E.firstName}'s attendance marked successfully.`,"success"),!0}catch(C){return console.error("Failed to mark attendance:",C),s(C.message||"Error marking attendance.","error"),!1}}),[n,s]),b=T.useCallback((x,E)=>ne(void 0,null,function*(){var N,z;if(!r||!x.instituteId)return s("Operation failed: missing user or institute context.","error"),null;const w=Wh("INV"),v=he(Q,"sales",w);let y=50;try{const G=yield ea(he(Q,"settings","clientAppConfig"));if(G.exists()){const K=G.data();((N=K.financialSettings)==null?void 0:N.manualPaymentPlatformFee)!==void 0&&(y=K.financialSettings.manualPaymentPlatformFee)}}catch(G){console.error("Failed to fetch platform fee config, using default:",G)}const C=a.find(G=>G.id===x.instituteId);if(!C)return s("Institute not found.","error"),null;const O=C.commissionRate,P=x.fee*(O/100)-y,D=x.fee-x.fee*(O/100),R={id:w,studentId:E.id,teacherId:x.teacherId,instituteId:x.instituteId,itemId:x.id,itemType:"class",itemName:x.title,totalAmount:0,amountPaidFromBalance:x.fee,saleDate:new Date().toISOString(),currency:"LKR",status:"completed",paymentMethod:"manual_at_venue",itemSnapshot:x,platformCommission:y,instituteCommission:P,teacherCommission:D};try{const G=Jt(Q);G.set(v,R);const K=he(Q,"tuitionInstitutes",x.instituteId),U=he(Q,"teachers",x.teacherId);return G.update(K,{"earnings.total":it(P),"earnings.available":it(P),[`teacherManualBalances.${x.teacherId}.balance`]:it(D),[`teacherManualBalances.${x.teacherId}.teacherName`]:((z=n.find(H=>H.id===x.teacherId))==null?void 0:z.name)||"Unknown"}),G.update(U,{[`manualEarningsByInstitute.${x.instituteId}`]:it(D)}),yield G.commit(),s("Manual payment recorded successfully!","success"),R}catch(G){return console.error("Failed to record manual payment:",G),s("Error recording payment.","error"),null}}),[r,s,n,a]),S=T.useCallback((x,E)=>ne(void 0,null,function*(){try{const w=he(Q,"tuitionInstitutes",x),v=he(Q,"teachers",E),y=Jt(Q);y.update(w,{[`teacherManualBalances.${E}.balance`]:0,[`teacherManualBalances.${E}.lastReset`]:new Date().toISOString()}),y.update(v,{[`manualEarningsByInstitute.${x}`]:0}),yield y.commit(),s("Teacher's manual collection balance has been reset.","success")}catch(w){console.error("Failed to reset teacher balance:",w),s("Error resetting balance.","error")}}),[s]);return{addTuitionInstitute:u,updateTuitionInstitute:c,handleSaveEvent:f,handleCancelEvent:h,handleToggleEventPublishState:m,markAttendance:p,recordManualPayment:b,handleResetTeacherBalance:S}},W8=e=>{const{currentUser:t,users:r,teachers:n,tuitionInstitutes:a,knownInstitutes:i,sales:s,topUpRequests:u,submissions:c}=e;Gt();const f=At(),h=Ir(),{addToast:m}=f,p=T.useMemo(()=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}),[]),b=(O,P,D)=>ne(void 0,null,function*(){if(!O){m("No image selected.","error");return}const R=Date.now();let N;if(P==="student_profile"&&t)N=`profile-images/students/${t.id}_${R}`;else if(P==="profile")N=`profile-images/teachers/${D.teacherId}_${R}`;else if(P==="cover_add")N=`cover-images/${D.teacherId}/${R}`;else if(typeof P=="object"&&P.type==="cover")N=`cover-images/${D.teacherId}/${R}`;else if(P==="admin_default_cover")N=`default-cover-images/${R}`;else if(P==="id_verification_front"||P==="id_verification_back")N=`verification-docs/${D.teacherId}/${P}_${R}`;else if(P==="bank_verification")N=`verification-docs/${D.teacherId}/bank_${R}`;else if(P==="payment_slip")N=`payment-slips/${t==null?void 0:t.id}/${R}`;else if(P==="event_flyer")N=`event-flyers/${D.organizerId}/${R}`;else if(P==="quiz_question_image")N=`quiz-images/${D.quizId}/${D.questionId}_${R}`;else if(P==="product_cover"||P==="course_cover")N=`product-images/${D.teacherId}/${R}`;else if(P==="og_image")N=`site-assets/og_image_${R}`;else if(P==="payment_method_logo")N=`site-assets/payment-logos/${D.methodId}_${R}`;else throw new Error(`Unsupported image upload type: ${P}`);const z=ak(Q5,N);try{m("Uploading image...","info"),yield ik(z,O,"data_url");const G=yield ok(z);if(P==="student_profile"&&t)yield ct(he(Q,"users",t.id),{avatar:G});else if(P==="profile"){const K=he(Q,"teachers",D.teacherId),U=yield ea(K);if(U.exists()){const H=he(Q,"users",U.data().userId),B=Jt(Q);B.update(K,{profileImage:G,avatar:G}),B.update(H,{avatar:G}),yield B.commit()}}else if(P==="cover_add")yield ct(he(Q,"teachers",D.teacherId),{coverImages:_r(G)});else if(typeof P=="object"&&P.type==="cover"){const K=he(Q,"teachers",D.teacherId),U=yield ea(K);if(U.exists()){const H=U.data().coverImages,B=[...Array.isArray(H)?H:[]];B[P.index]=G,yield ct(he(Q,"teachers",D.teacherId),{coverImages:B})}}else P==="admin_default_cover"&&(yield kt(he(Q,"settings","appConfig"),{defaultCoverImages:_r(G)},{merge:!0}));return["payment_slip","event_flyer","quiz_question_image","product_cover","course_cover","og_image","payment_method_logo"].includes(P)||m("Image saved successfully!","success"),G}catch(G){console.error("Image upload/save failed:",G),m("Image save failed. Please try again.","error")}}),S=P8({currentUser:t,ui:f,users:r,nav:h}),x=U8(X(q({ui:f,nav:h,users:r,teachers:n,tuitionInstitutes:a,knownInstitutes:i,sales:s,topUpRequests:u},S),{handleImageSave:b})),E={currentUser:t,teachers:n,sales:s,submissions:c,ui:f,nav:h,handleUpdateTeacher:x.handleUpdateTeacher,handleImageSave:b},w=X(q({},j8(E)),{handleSaveHomeworkSubmission:T.useCallback((O,P,D,R)=>ne(void 0,null,function*(){if(!t){m("You must be logged in to submit homework.","error");return}const N=he(Q,"teachers",O);try{yield nn(Q,z=>ne(void 0,null,function*(){var F;const G=yield z.get(N);if(!G.exists())throw new Error("Class teacher not found.");const K=G.data(),U=Array.isArray(K.individualClasses)?K.individualClasses:[],H=U.findIndex(W=>W.id===P);if(H===-1)throw new Error("Class not found.");const B=q({},U[H]),A=((F=B.homeworkSubmissions)==null?void 0:F[D])||[],j=A.findIndex(W=>W.studentId===t.id),I={studentId:t.id,link:R,submittedAt:new Date().toISOString()};j>-1?A[j]=I:A.push(I),B.homeworkSubmissions||(B.homeworkSubmissions={}),B.homeworkSubmissions[D]=A;const L=[...U];L[H]=B,z.update(N,{individualClasses:L})})),m("Homework submitted successfully!","success")}catch(z){console.error("Failed to save homework submission:",z),m(z.message||"Error saving homework.","error")}}),[t,m])}),v=F8({currentUser:t,users:r,teachers:n,tuitionInstitutes:a,sales:s,ui:f,nav:h,handleImageSave:b,currencyFormatter:p}),y=H8({ui:f,currentUser:t,teachers:n,tuitionInstitutes:a,sales:s}),C=T.useCallback(O=>ne(void 0,null,function*(){yield kt(he(Q,"settings","appConfig"),{ogImageUrl:O},{merge:!0})}),[]);return X(q(q(q(q(q({},S),x),w),v),y),{handleImageSave:b,handleUpdateOgImage:C})},Hx=T.createContext(void 0),q8=({children:e})=>{const{currentUser:t}=Gt(),{functionUrls:r}=Ir(),[n,a]=T.useState([]),[i,s]=T.useState([]),[u,c]=T.useState([]),[f,h]=T.useState([]),[m,p]=T.useState([]),[b,S]=T.useState([]),[x,E]=T.useState([]),[w,v]=T.useState([]),[y,C]=T.useState([]),[O,P]=T.useState({}),[D,R]=T.useState(!0),[N,z]=T.useState(!1),[G,K]=T.useState(!1);T.useEffect(()=>{const B=xr(Et(Q,"teachers"),L=>{s(L.docs.map(F=>q({id:F.id},F.data()))),z(!0)},L=>{console.error("Error fetching teachers:",L),z(!0)}),A=xr(Et(Q,"tuitionInstitutes"),L=>{c(L.docs.map(F=>q({id:F.id},F.data()))),K(!0)},L=>{console.error("Error fetching tuitionInstitutes:",L),K(!0)}),j=xr(Et(Q,"knownInstitutes"),L=>{h(L.docs.map(F=>q({id:F.id},F.data())))},L=>console.error("Error fetching knownInstitutes:",L)),I=xr(he(Q,"settings","appConfig"),L=>{C(L.exists()?L.data().defaultCoverImages||[]:[])},L=>console.error("Error fetching clientAppConfig:",L));return()=>{B(),A(),j(),I()}},[]),T.useEffect(()=>{if(!t){a([]),p([]),S([]),E([]),v([]);return}const B=xr(Et(Q,"users"),F=>{a(F.docs.map(W=>q({id:W.id},W.data())))},F=>console.error("Error fetching users:",F)),A=xr(Et(Q,"sales"),F=>p(F.docs.map(W=>q({id:W.id},W.data()))),F=>console.error("Error fetching sales:",F)),j=xr(Et(Q,"vouchers"),F=>S(F.docs.map(W=>q({id:W.id},W.data()))),F=>console.error("Error fetching vouchers:",F)),I=xr(Et(Q,"topUpRequests"),F=>E(F.docs.map(W=>q({id:W.id},W.data()))),F=>console.error("Error fetching topUpRequests:",F)),L=xr(Et(Q,"submissions"),F=>v(F.docs.map(W=>q({id:W.id},W.data()))),F=>console.error("Error fetching submissions:",F));return()=>{B(),A(),j(),I(),L()}},[t]),T.useEffect(()=>{N&&G&&R(!1)},[N,G,i,u]),T.useEffect(()=>{const B=(j,I,L)=>ne(void 0,null,function*(){const F=`Reminder: Add Joining Link for '${I.title}'`,W=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>Dear ${j.firstName},</p>
                    <p>This is a reminder that your class, <strong>${I.title}</strong>, is scheduled to start in approximately <strong>${L}</strong>.</p>
                    <p>The joining link for this online/hybrid class has not been added yet. Please add it as soon as possible from your teacher dashboard so that students can join on time.</p>
                    <p>Thank you,</p>
                    <p>The clazz.lk Team</p>
                </div>
            `;try{if(!(yield fetch(r.notification,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toEmail:j.email,subject:F,htmlBody:W})})).ok)throw new Error("Notification API returned an error.");console.log(`Sent ${L} reminder to ${j.email} for class ${I.id}`)}catch(pe){console.error("Failed to send reminder email:",pe)}}),A=setInterval(()=>{const j=new Date;i.forEach(I=>{const L=n.find(F=>F.id===I.userId);!L||!L.email||I.individualClasses.forEach(F=>{if((F.mode==="Online"||F.mode==="Both")&&!F.joiningLink&&F.status==="scheduled"){const W=new Date(`${F.date}T${F.startTime}`);if(isNaN(W.getTime()))return;const pe=(W.getTime()-j.getTime())/(1e3*60),ye=`${I.id}_${F.id}`;pe>29&&pe<=30&&O[ye]!=="30min"&&O[ye]!=="5min"?(B(L,F,"30 minutes"),P(ce=>X(q({},ce),{[ye]:"30min"}))):pe>4&&pe<=5&&O[ye]!=="5min"&&(B(L,F,"5 minutes"),P(ce=>X(q({},ce),{[ye]:"5min"})))}})})},6e4);return()=>clearInterval(A)},[i,n,O,r.notification]),T.useEffect(()=>{const B=()=>ne(void 0,null,function*(){if(i.length===0)return;console.log("Checking for finished classes to unpublish...");const I=Jt(Q);let L=!1;for(const F of i){if(!Array.isArray(F.individualClasses))continue;let W=!1;const pe=F.individualClasses.map(ye=>ye.isPublished&&ye.status!=="finished"&&C8(ye)==="finished"?(W=!0,X(q({},ye),{isPublished:!1,status:"finished"})):ye);if(W){const ye=he(Q,"teachers",F.id);I.update(ye,{individualClasses:pe}),L=!0}}if(L)try{yield I.commit(),console.log("Batch update: Unpublished finished classes.")}catch(F){console.error("Error unpublishing finished classes:",F)}}),A=setInterval(B,3e5),j=setTimeout(B,15e3);return()=>{clearInterval(A),clearTimeout(j)}},[i]);const U=W8({currentUser:t,users:n,teachers:i,tuitionInstitutes:u,knownInstitutes:f,sales:m,topUpRequests:x,submissions:w}),H=X(q({users:n,teachers:i,tuitionInstitutes:u,knownInstitutes:f,sales:m,vouchers:b,topUpRequests:x,submissions:w,defaultCoverImages:y},U),{loading:D});return l.jsx(Hx.Provider,{value:H,children:e})},ln=()=>{const e=T.useContext(Hx);if(e===void 0)throw new Error("useData must be used within a DataProvider");return e},hA=(e,t)=>{const{teachers:r,sales:n}=ln(),{currentUser:a}=Gt();return T.useMemo(()=>{let i=null,s=null;for(const f of r){let h;if(e==="course"?h=f.courses.find(m=>m.id===t):e==="class"?h=f.individualClasses.find(m=>m.id===t):e==="quiz"?h=f.quizzes.find(m=>m.id===t):e==="product"&&(h=(f.products||[]).find(m=>m.id===t)),h){i=h,s=f;break}}if(!i&&a&&e!=="product"){const f=n.find(h=>h.studentId===a.id&&h.itemType===e&&String(h.itemId)===String(t));if(f){const h=r.find(m=>m.id===f.teacherId);i=X(q({},f.itemSnapshot),{isDeleted:!0}),s=h||null}}if(!i||!s)return{item:null,teacher:null,isOwner:!1,isEnrolled:!1};const u=(a==null?void 0:a.id)===s.userId;let c=u;return!c&&a&&(c=n.some(f=>{if(f.studentId!==a.id||String(f.itemId)!==String(t)||f.itemType!==e||f.status!=="completed")return!1;if(e==="class"&&i.weeklyPaymentOption==="per_month"){const h=new Date(f.saleDate),m=new Date;return h.getFullYear()===m.getFullYear()&&h.getMonth()===m.getMonth()}if(e==="class"||e==="quiz"){const h=i;if(!f.itemSnapshot)return!1;const m=f.itemSnapshot;return h.instanceStartDate?m.instanceStartDate===h.instanceStartDate:!m.instanceStartDate}return e==="course"||e==="product"||e==="event"})),{item:i,teacher:s,isOwner:u,isEnrolled:c}},[r,a,e,t,n])},Wx=T.createContext(void 0),V8=({children:e})=>{const{addToast:t,setChatWidgetOpen:r}=At(),{currentUser:n}=Gt(),[a,i]=T.useState(null),s=(c=!1)=>ne(void 0,null,function*(){if(!("Notification"in window)){console.log("Notification API not supported in this browser.");return}if((yield Notification.requestPermission())==="granted"){console.log("Notification permission granted.");try{const h=yield og;if(!h)return;let m;"serviceWorker"in navigator&&(m=yield navigator.serviceWorker.getRegistration(),(!m||!m.active)&&(console.log("Waiting for Service Worker to be ready..."),m=yield navigator.serviceWorker.ready));const p=yield lk(h,{vapidKey:"BLk_TH2Pmf_M2_PpNQHazldZWKyZRL_7DsYGt8yToxYB-wXSjCew2JoKb-pxgS8FzwGkmcWz4NttuURRR7VdEu4",serviceWorkerRegistration:m});if(p&&(console.log("FCM Token:",p),i(p),n!=null&&n.id)){const b=he(Q,"users",n.id),S=yield ea(b);if(S.exists()){const x=S.data();(!x.fcmTokens||!x.fcmTokens.includes(p))&&(yield ct(b,{fcmTokens:_r(p)}),console.log("FCM token saved to user profile."),c||t("Notifications enabled successfully!","success"))}}}catch(h){console.error("Error retrieving FCM token:",h),c||t("Failed to enable notifications. Please try again.","error")}}else console.log("Unable to get permission to notify."),c||t("Permission denied. Please enable notifications in browser settings.","error")});T.useEffect(()=>{let c;return ne(void 0,null,function*(){try{const h=yield og;if(!h)return;c=sk(h,p=>{var x,E,w;console.log("Message received. ",p);const b=((x=p.notification)==null?void 0:x.title)||"New Message",S=((E=p.notification)==null?void 0:E.body)||"You have a new notification!";t(`${b}: ${S}`,"info"),((w=p.data)==null?void 0:w.type)==="chat_reply"&&r(!0)});const m=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;"Notification"in window&&(Notification.permission==="granted"||Notification.permission==="default"&&!m)&&s(!0)}catch(h){console.error("An error occurred during FCM listener setup:",h)}}),()=>{c&&c()}},[n==null?void 0:n.id,t]);const u={fcmToken:a,enableNotifications:s};return l.jsx(Wx.Provider,{value:u,children:e})},pA=()=>{const e=T.useContext(Wx);if(e===void 0)throw new Error("useFirebase must be used within a FirebaseProvider");return e},G8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})),Y8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})),Q8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})})),J8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})})),X8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"})})),mA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})),ri=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})),gA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})),vA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 100-2.186m0 2.186a2.25 2.25 0 100-2.186"})})),yA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})),ni=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.124-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.077-2.09.921-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})),Z8=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})),qh=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})),ej=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})),tj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})})),wA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0110.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0l.229 2.523a1.125 1.125 0 01-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0021 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 00-1.913-.247M6.34 18H5.25A2.25 2.25 0 013 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 011.913-.247m10.5 0a48.536 48.536 0 00-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5zm-3 0h.008v.008H15V10.5z"})})),Zn=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})),rj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})),nj=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})),aj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228"})})),ij=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})),id=e=>l.jsxs("svg",X(q({className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),{children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})),xA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})),oj=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 4.7865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008v-.008z"})]})),qx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9A2.25 2.25 0 0 0 13.5 5.25h-9A2.25 2.25 0 0 0 2.25 7.5v9A2.25 2.25 0 0 0 4.5 18.75Z"})})),sj=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"})]})),lj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"})})),uj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.972l-11.54 6.347a1.125 1.125 0 01-1.667-.986V5.653z"})})),cj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75v4.5m0-4.5h-4.5m4.5 0L15 9m5.25 11.25v-4.5m0 4.5h-4.5m4.5 0L15 15"})})),dj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25-2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"})})),fj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z"})})),hj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.811V8.688zm9.75 0c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 01-1.683-.977V8.688z"})})),Vx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})),Gx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98-3.54-.18-6.69-1.86-8.8-4.46-.37.63-.58 1.37-.58 2.15 0 1.49.76 2.81 1.91 3.58-.71 0-1.37-.22-1.95-.55v.05c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 01-1.93.07 4.28 4.28 0 01-3.63-2.24c.53.1 1.1.16 1.7.16 1.76 0 3.37-.6 4.68-1.62A4.26 4.26 0 0112 8.29v-.05c.5.09 1.03.14 1.58.14a4.27 4.27 0 01-1.58-3.57c0-.79.21-1.53.58-2.15a12.13 12.13 0 008.8 4.46c-.08-.34-.12-.7-.12-1.06 0-2.35 1.92-4.28 4.28-4.28.92 0 1.76.39 2.35 1.02.73-.14 1.43-.41 2.05-.78-.24.75-.75 1.38-1.42 1.78.65-.08 1.28-.25 1.86-.51-.43.64-.97 1.2-1.59 1.68z"})})),Yx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.784 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})),Qx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.07-1.645-.07-4.85s.012-3.584.07-4.85c.148-3.225 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.85-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.358-.2 6.78-2.618 6.98-6.98.059-1.281.073-1.689-.073-4.948-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-2.759-6.162-6.162-2.759-6.162-6.162-2.759-6.162-6.162-2.759-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4s1.791-4 4-4 4 1.79 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44 1.441-.645 1.441-1.44-.645-1.44-1.441-1.44z"})})),Jx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"})})),Xx=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},e),{children:l.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.487 5.235 3.487 8.413.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.371-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01s-.521.074-.792.372c-.272.296-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.626.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.289.173-1.413z"})})),Zx=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px"},e),{children:[l.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),l.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),l.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.223,0-9.64-3.337-11.28-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),l.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.902,35.619,44,29.697,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})),kA=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),{children:[l.jsx("path",{fill:"#00832d",d:"M13,10H22.5V14H13V10Z"}),l.jsx("path",{fill:"#0066da",d:"M12,1.5V11.5A1.5,1.5 0 0,1 10.5,13H1.5V7.5A1.5,1.5 0 0,1 3,6H12V1.5Z"}),l.jsx("path",{fill:"#e94235",d:"M12,14.5V22.5L3,18A1.5,1.5 0 0,1 1.5,16.5V13H10.5A1.5,1.5 0 0,1 12,14.5Z"}),l.jsx("path",{fill:"#2684fc",d:"M12,6H9.38L12,3.38V6Z"}),l.jsx("path",{fill:"#00ac47",d:"M1.5,18L7,22.5H1.5V18Z"}),l.jsx("path",{fill:"#ffba00",d:"M13,1.5V5L22.5,5V7.63L13,1.5Z"})]})),e2=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c.51 0 .962-.343 1.087-.835l1.823-6.836a.75.75 0 00-.74-1.018H5.25v-.152c0-.51-.424-.926-.934-.926H2.25M7.5 14.25L5.106 5.106M15 20.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zM7.5 20.25a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})})),bA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.658-.463 1.243-1.119 1.243H4.51c-.656 0-1.19-.585-1.119-1.243L4.644 8.507a3.75 3.75 0 0 1 3.606-2.514h7.5a3.75 3.75 0 0 1 3.606 2.514z"})})),SA=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h16.5v7.5H2.25v-7.5ZM4.5 8.25a3 3 0 0 1 3 3 3 3 0 0 1-3 3m11.25-6a3 3 0 0 0 0 6m-6-3a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 6.75h16.5v7.5m-3-7.5a3 3 0 0 1 3 3 3 3 0 0 1-3 3"})]})),_A=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 21z"})})),CA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})),EA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v3a2.5 2.5 0 1 0 0 5v3a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-3a2.5 2.5 0 1 0 0-5V6Z"})})),pj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})),TA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})),NA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9a9.75 9.75 0 011.303-5.467l.95-2.09a9.75 9.75 0 011.303-5.467m2.394 13.024a9.75 9.75 0 004.096-5.467l.95-2.09a9.75 9.75 0 004.096-5.467m-8.192 13.024a9.75 9.75 0 01-4.096-5.467l-.95-2.09a9.75 9.75 0 01-4.096-5.467m8.192 13.024L12 18.75m0 0l-1.25-2.75m1.25 2.75L12 15m0 3.75l1.25-2.75M12 15l1.25 2.75m-2.5-2.75L12 15m0 0l1.25-2.75M12 15l-1.25 2.75M7.5 3.75h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25-2.25h-9a2.25 2.25 0 01-2.25-2.25v-9A2.25 2.25 0 017.5 3.75z"})})),mj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962c.51.056 1.02.086 1.5.086s.99-.03 1.5-.086m-7.5 2.962c.51.056 1.02.086 1.5.086s.99-.03 1.5-.086m0 0a5.25 5.25 0 005.25-5.25m-10.5 0a5.25 5.25 0 005.25-5.25m-5.25 0V3.75c0-1.657 1.343-3 3-3h.09m-3.181 4.512A5.25 5.25 0 017.5 12a5.25 5.25 0 01-2.93 4.774m5.86-1.124a5.25 5.25 0 012.93 4.774m0 0a5.25 5.25 0 01-5.86 1.124m5.86 0V21m-5.86 0V12m0 0v-1.125c0-1.657 1.343-3 3-3h.09m-3.181 4.512A5.25 5.25 0 017.5 12a5.25 5.25 0 01-2.93 4.774m5.86-1.124a5.25 5.25 0 012.93 4.774m0 0a5.25 5.25 0 01-5.86 1.124"})})),IA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-2.253M15 19.128v-3.857A3.375 3.375 0 0011.625 12H9.75v-1.5A3.375 3.375 0 006.375 7.125H3.75m11.25 12v-3.857m0 0a3.375 3.375 0 00-3.375-3.375H9.75m2.625 3.375a3.375 3.375 0 01-3.375-3.375V7.125A3.375 3.375 0 006.375 3.75H3.75m11.25 12L12 14.25m-2.625 4.875L9.75 14.25m0 0A3.375 3.375 0 0112 10.875m0 0c-1.864 0-3.375 1.511-3.375 3.375M3.75 7.125c0-1.864 1.511-3.375 3.375-3.375h1.5a3.375 3.375 0 013.375 3.375m-6.75 0v.113c0 .592.235 1.154.652 1.571M3.75 7.125v.113m0 0c0 .592.235 1.154.652 1.571"})})),gj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})),vj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"})})),yj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})),wj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})),Sf=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"})})),Vh=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})),DA=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"})]})),xj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"})})),kj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M-4.5 12h2.25"})})),bj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})})),MA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})})),PA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z"})})),jA=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V13.5zm0 2.25h.008v.008H8.25v-.008zm0 2.25h.008v.008H8.25V18zm2.498-6.75h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V13.5zm0 2.25h.007v.008h-.007v-.008zm0 2.25h.007v.008h-.007V18zm2.504-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V18zm2.498-6.75h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V13.5zM8.25 6h7.5v2.25h-7.5V6zM12 18h3.75"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3v18h18V3H3.75z"})]})),LA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0h18M12 12.75h.008v.008H12v-.008z"})})),AA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 017.424 0M5.136 11.962a8.25 8.25 0 0113.728 0M12 18.75a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75v-.008z"})})),OA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.324h5.385a.563.563 0 01.329.958l-4.491 3.26a.563.563 0 00-.182.635l1.703 5.026a.563.563 0 01-.812.622l-4.49-3.26a.563.563 0 00-.642 0l-4.49 3.26a.563.563 0 01-.812-.622l1.703-5.026a.563.563 0 00-.182-.635L2.53 9.892a.563.563 0 01.329-.958h5.385a.563.563 0 00.475-.324L11.48 3.5z"})})),RA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})})),BA=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})})),Sj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})),Tu=e=>l.jsxs("svg",X(q({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"500",zoomAndPan:"magnify",viewBox:"0 0 375 374.999991",height:"500",preserveAspectRatio:"xMidYMid meet",version:"1.0"},e),{children:[l.jsxs("defs",{children:[l.jsx("g",{}),l.jsx("clipPath",{id:"977cd9b38a",children:l.jsx("path",{d:"M 87 34 L 314.25 34 L 314.25 375 L 87 375 Z M 87 34 ",clipRule:"nonzero"})}),l.jsx("clipPath",{id:"a6b528c0aa",children:l.jsx("path",{d:"M 87 55 L 233.089844 55 L 233.089844 221.679688 L 87 221.679688 Z M 87 55 ",clipRule:"nonzero"})}),l.jsx("clipPath",{id:"8e678945a8",children:l.jsx("path",{d:"M 130 71.339844 L 183 71.339844 L 183 111 L 130 111 Z M 130 71.339844 ",clipRule:"nonzero"})}),l.jsx("clipPath",{id:"eeca683bc0",children:l.jsx("path",{d:"M 153 151 L 174 151 L 174 190.589844 L 153 190.589844 Z M 153 151 ",clipRule:"nonzero"})})]}),l.jsx("g",{clipPath:"url(#977cd9b38a)",children:l.jsx("path",{fill:"#0cc0df",d:"M 314.300781 375.226562 L 314.300781 34.839844 C 306.472656 34.492188 299.035156 34.324219 293.429688 34.359375 L 293.429688 347.371094 L 279.539062 345.105469 C 181.679688 329.144531 122 346.667969 87.796875 365.894531 C 196.164062 340.628906 279.734375 362.734375 314.300781 375.226562 ",fillOpacity:"1",fillRule:"nonzero"})}),l.jsx("path",{fill:"#0cc0df",d:"M 269.496094 319.417969 L 269.496094 7.386719 C 115.882812 -14.722656 60.050781 47.414062 50.101562 60.554688 L 50.101562 362.363281 C 80.492188 336.671875 145.90625 302.476562 269.496094 319.417969 ",fillOpacity:"1",fillRule:"nonzero"}),l.jsx("g",{clipPath:"url(#a6b528c0aa)",children:l.jsx("path",{fill:"#004aad",d:"M 93.847656 73.867188 L 93.847656 125.113281 C 93.847656 162.359375 117.558594 195.96875 155.71875 212.832031 C 157.160156 213.472656 158.621094 214.09375 160.125 214.703125 C 161.628906 214.09375 163.089844 213.472656 164.53125 212.832031 C 202.691406 195.96875 226.402344 162.359375 226.402344 125.113281 L 226.402344 73.867188 C 183.566406 57.765625 136.679688 57.765625 93.847656 73.867188 Z M 160.125 221.625 C 159.707031 221.625 159.289062 221.554688 158.894531 221.394531 C 156.882812 220.59375 154.925781 219.765625 153.027344 218.933594 C 112.410156 200.984375 87.1875 165.03125 87.1875 125.117188 L 87.1875 71.574219 C 87.1875 70.203125 88.03125 68.972656 89.304688 68.472656 C 134.976562 50.675781 185.273438 50.679688 230.945312 68.472656 C 232.21875 68.972656 233.0625 70.203125 233.0625 71.574219 L 233.0625 125.117188 C 233.0625 165.03125 207.832031 200.984375 167.222656 218.933594 C 165.324219 219.765625 163.363281 220.59375 161.355469 221.394531 C 160.960938 221.554688 160.542969 221.625 160.125 221.625 ",fillOpacity:"1",fillRule:"nonzero"})}),l.jsx("g",{clipPath:"url(#8e678945a8)",children:l.jsx("path",{fill:"#004aad",d:"M 172.457031 82.125 L 182.78125 73.320312 L 153.839844 71.378906 L 130.316406 88.359375 L 138.5 89.574219 L 140.699219 97.25 C 140.800781 97.605469 141.175781 97.8125 141.53125 97.710938 C 141.886719 97.609375 142.089844 97.238281 141.988281 96.882812 L 139.957031 89.792969 L 143.738281 90.355469 L 146.515625 100.03125 L 147.691406 99.695312 C 147.738281 99.890625 147.785156 100.085938 147.84375 100.28125 C 149.933594 107.570312 157.535156 111.785156 164.820312 109.695312 C 172.109375 107.605469 176.324219 100.003906 174.234375 92.71875 C 174.179688 92.523438 174.117188 92.328125 174.054688 92.140625 L 175.230469 91.800781 L 172.457031 82.125 ",fillOpacity:"1",fillRule:"nonzero"})}),l.jsx("path",{fill:"#004aad",d:"M 147.203125 125.90625 C 153.285156 132.125 156.40625 140.023438 157.753906 148.148438 C 164.628906 145.144531 171.808594 141.339844 178.832031 136.949219 C 178.988281 136.851562 179.144531 136.75 179.304688 136.648438 C 184.261719 122.695312 188.300781 107.277344 189.550781 91.972656 C 171.839844 121.734375 155.824219 113.308594 144.289062 111.703125 C 136.511719 110.625 130.347656 113.082031 125.882812 116.167969 C 130.628906 114.628906 137.558594 116.042969 147.203125 125.90625 ",fillOpacity:"1",fillRule:"nonzero"}),l.jsx("g",{clipPath:"url(#eeca683bc0)",children:l.jsx("path",{fill:"#004aad",d:"M 158.601562 159.734375 C 158.460938 176.183594 153.238281 190.679688 153.238281 190.679688 C 153.238281 190.679688 163.65625 174.589844 173.394531 151.753906 C 168.457031 154.683594 163.488281 157.359375 158.601562 159.734375 ",fillOpacity:"1",fillRule:"nonzero"})}),l.jsx("path",{fill:"#5271ff",d:"M 222.5625 92.105469 C 221.410156 90.261719 219.464844 89.003906 216.867188 88.289062 C 218.261719 88.960938 219.347656 89.878906 220.085938 91.054688 C 225.835938 100.25 207.980469 121.78125 180.207031 139.148438 C 152.433594 156.515625 125.253906 163.136719 119.503906 153.941406 C 115.417969 147.402344 123.265625 134.625 138.128906 121.542969 C 137.730469 121.277344 137.339844 121.027344 136.949219 120.792969 C 114.46875 138.035156 101.488281 156.070312 106.765625 164.507812 C 113.199219 174.800781 144.335938 166.933594 176.3125 146.9375 C 208.289062 126.945312 228.996094 102.398438 222.5625 92.105469 ",fillOpacity:"1",fillRule:"nonzero"}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(62.633764, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 14.25 -24.8125 C 17.863281 -24.8125 20.722656 -23.90625 22.828125 -22.09375 C 24.929688 -20.289062 25.984375 -17.710938 25.984375 -14.359375 L 18.5 -14.359375 C 18.5 -15.773438 18.125 -16.894531 17.375 -17.71875 C 16.632812 -18.550781 15.582031 -18.96875 14.21875 -18.96875 C 12.632812 -18.96875 11.46875 -18.46875 10.71875 -17.46875 C 9.976562 -16.476562 9.609375 -15.097656 9.609375 -13.328125 L 9.609375 -11.0625 C 9.609375 -9.3125 9.976562 -7.929688 10.71875 -6.921875 C 11.46875 -5.921875 12.609375 -5.421875 14.140625 -5.421875 C 15.660156 -5.421875 16.804688 -5.8125 17.578125 -6.59375 C 18.359375 -7.375 18.75 -8.472656 18.75 -9.890625 L 25.984375 -9.890625 C 25.984375 -6.554688 24.960938 -4.003906 22.921875 -2.234375 C 20.878906 -0.460938 17.988281 0.421875 14.25 0.421875 C 10.09375 0.421875 6.941406 -0.640625 4.796875 -2.765625 C 2.660156 -4.890625 1.59375 -8.035156 1.59375 -12.203125 C 1.59375 -16.359375 2.660156 -19.5 4.796875 -21.625 C 6.941406 -23.75 10.09375 -24.8125 14.25 -24.8125 Z M 14.25 -24.8125 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(90.213199, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 2.625 -24.390625 L 10.453125 -24.390625 L 10.453125 -6.234375 L 22.96875 -6.234375 L 22.96875 0 L 2.625 0 Z M 2.625 -24.390625 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(113.857779, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 18.96875 0 L 17.9375 -3.4375 L 9.390625 -3.4375 L 8.359375 0 L 0.359375 0 L 9.25 -24.390625 L 18.359375 -24.390625 L 27.265625 0 Z M 11.03125 -8.90625 L 16.3125 -8.90625 L 13.75 -17.578125 L 13.609375 -17.578125 Z M 11.03125 -8.90625 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(141.437214, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 12.90625 -5.84375 L 24.5 -5.84375 L 24.5 0 L 0.84375 0 L 0.84375 -2.515625 L 12.15625 -18.546875 L 1.703125 -18.546875 L 1.703125 -24.390625 L 24.21875 -24.390625 L 24.21875 -21.875 Z M 12.90625 -5.84375 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(167.0315, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 12.90625 -5.84375 L 24.5 -5.84375 L 24.5 0 L 0.84375 0 L 0.84375 -2.515625 L 12.15625 -18.546875 L 1.703125 -18.546875 L 1.703125 -24.390625 L 24.21875 -24.390625 L 24.21875 -21.875 Z M 12.90625 -5.84375 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(192.625786, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 2.15625 0 L 2.15625 -7.0625 L 9.671875 -7.0625 L 9.671875 0 Z M 2.15625 0 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(204.430355, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 2.625 -24.390625 L 10.453125 -24.390625 L 10.453125 -6.234375 L 22.96875 -6.234375 L 22.96875 0 L 2.625 0 Z M 2.625 -24.390625 "})})})}),l.jsx("g",{fill:"#004aad",fillOpacity:"1",children:l.jsx("g",{transform:"translate(228.074934, 282.972697)",children:l.jsx("g",{children:l.jsx("path",{d:"M 19.140625 -24.390625 L 28.859375 -24.390625 L 20.109375 -14.359375 L 29.03125 0 L 19.78125 0 L 14.71875 -8.9375 L 10.453125 -5.453125 L 10.453125 0 L 2.625 0 L 2.625 -24.390625 L 10.453125 -24.390625 L 10.453125 -13.96875 Z M 19.140625 -24.390625 "})})})})]})),_j=({theme:e,toggleTheme:t})=>l.jsx("button",{onClick:t,className:"p-2 rounded-full text-light-subtle dark:text-dark-subtle hover:bg-light-border dark:hover:bg-dark-border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary dark:focus:ring-offset-dark-background","aria-label":"Toggle theme",children:e===pa.Light?l.jsx(wj,{className:"h-6 w-6"}):l.jsx(yj,{className:"h-6 w-6"})}),Cj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})})),Ej=({userNotifications:e,onClose:t,onMarkAllRead:r})=>{const[n,a]=T.useState([]),[i,s]=T.useState(!0),{handleNavigate:u}=Ir(),c=T.useRef(null);T.useEffect(()=>{ne(void 0,null,function*(){if(e.length===0){a([]),s(!1);return}s(!0);try{const p=[...e].reverse().slice(0,10).map(E=>E.notificationId),b=Zr(Et(Q,"notifications"),en("id","in",p)),x=(yield tn(b)).docs.map(E=>E.data());x.sort((E,w)=>new Date(w.createdAt).getTime()-new Date(E.createdAt).getTime()),a(x)}catch(m){console.error("Error fetching notifications headers:",m)}finally{s(!1)}})},[e]),T.useEffect(()=>{const h=m=>{c.current&&!c.current.contains(m.target)&&t()};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[t]);const f=h=>{u({name:"teacher_profile",teacherId:h.teacherId}),t()};return l.jsxs("div",{ref:c,className:"absolute top-16 right-0 w-80 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-lg z-50",children:[l.jsxs("div",{className:"p-3 flex justify-between items-center border-b border-light-border dark:border-dark-border",children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Notifications"}),e.length>0&&l.jsx("button",{onClick:r,className:"text-xs text-primary hover:underline",children:"Mark all as read"})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:i?l.jsx("div",{className:"p-4 text-center text-light-subtle dark:text-dark-subtle",children:"Loading..."}):n.length===0?l.jsx("div",{className:"p-4 text-center text-light-subtle dark:text-dark-subtle",children:"No new notifications."}):n.map(h=>{const m=e.find(b=>b.notificationId===h.id),p=(m==null?void 0:m.isRead)||!1;return l.jsxs("button",{onClick:()=>f(h),className:`w-full text-left p-3 flex items-start space-x-3 hover:bg-light-border dark:hover:bg-dark-border ${p?"":"bg-blue-50 dark:bg-blue-900/20"}`,children:[l.jsx("img",{src:Li(h.teacherAvatar,32,32),alt:h.teacherName,className:"w-8 h-8 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold",children:h.teacherName}),l.jsx("p",{className:"text-xs text-light-subtle dark:text-dark-subtle",children:h.content}),l.jsx("p",{className:"text-xs text-light-subtle dark:text-dark-subtle mt-1",children:new Date(h.createdAt).toLocaleString()})]}),!p&&l.jsx("div",{className:"w-2.5 h-2.5 bg-primary rounded-full mt-1 flex-shrink-0"})]},h.id)})})]})},Tj=({isOpen:e,onClose:t,onNavigate:r,currentUser:n})=>{var E,w;const{handleLogout:a}=Gt(),{setModalState:i}=At(),{socialMediaLinks:s}=Ir(),{teachers:u}=ln(),c=v=>{r(v),t()},f=v=>{i(v),t()},h=()=>{a(),t()},m=()=>{if(!n)return;let v;if(n.role==="admin")v={name:"admin_dashboard"};else if(n.role==="teacher"){const y=u.find(C=>C.userId===n.id);v=y?{name:"teacher_profile",teacherId:y.id}:{name:"home"}}else n.role==="tuition_institute"?v={name:"ti_dashboard"}:v={name:"student_dashboard"};c(v)},p=[{key:"about_us",label:"About Us",type:"static"},{key:"contact_support",label:"Contact Support",type:"static"},{key:"faq",label:"FAQ",type:"static"},{key:"gift_voucher",label:"Gift Vouchers",type:"page"},{key:"referral_dashboard",label:"Referral Program",type:"page"}],b=[{key:"community_guidelines",label:"Community Guidelines",type:"static"},{key:"code_of_conduct",label:"Code of Conduct",type:"static"},{key:"copyright_policy",label:"Copyright & IP Policy",type:"static"}],S=[{key:"teacher_terms",label:"Teacher Terms"},{key:"student_terms",label:"Student Terms"},{key:"privacy_policy",label:"Privacy Policy"},{key:"refund_policy",label:"Refund Policy"},{key:"disclaimer",label:"Disclaimer"},{key:"cookie_policy",label:"Cookie Policy"}],x={FacebookIcon:Vx,TwitterIcon:Gx,LinkedInIcon:Yx,InstagramIcon:Qx,YouTubeIcon:Jx,WhatsAppIcon:Xx};return l.jsxs("div",{className:`fixed inset-0 z-50 md:hidden ${e?"pointer-events-auto":"pointer-events-none"}`,children:[l.jsx("div",{className:`fixed inset-0 bg-black/60 transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:t}),l.jsxs("div",{className:`relative h-full w-full max-w-xs ml-auto bg-light-surface dark:bg-dark-surface shadow-xl flex flex-col transition-transform duration-300 ease-in-out ${e?"translate-x-0":"translate-x-full"}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tu,{className:"h-8 w-8"}),l.jsxs("span",{className:"text-xl font-bold",children:["clazz.",l.jsx("span",{className:"text-primary",children:"lk"})]})]}),l.jsx("button",{onClick:t,className:"p-2 text-light-subtle dark:text-dark-subtle",children:l.jsx(qh,{className:"h-6 w-6"})})]}),l.jsxs("div",{className:"flex-grow overflow-y-auto p-6",children:[n?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[n.avatar?l.jsx("img",{src:Li(n.avatar,48,48),alt:"avatar",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold text-xl",children:l.jsxs("span",{children:[(E=n.firstName)==null?void 0:E.charAt(0),(w=n.lastName)==null?void 0:w.charAt(0)]})}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-lg",children:[n.firstName," ",n.lastName]}),l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle truncate",children:n.email})]})]}),l.jsx("button",{onClick:m,className:"w-full text-left font-semibold py-3 text-lg hover:text-primary transition-colors",children:"Dashboard"}),l.jsx("button",{onClick:h,className:"w-full text-left font-semibold py-3 text-lg hover:text-primary transition-colors",children:"Sign Out"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"For Students & General Users"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>f({name:"login",userType:"user"}),className:"w-full text-left font-semibold py-2 text-lg hover:text-primary transition-colors",children:"Log In"}),l.jsx("button",{onClick:()=>f({name:"register",userType:"user"}),className:"w-full text-center px-4 py-3 text-lg font-medium text-white bg-primary rounded-md hover:bg-primary-dark transition-colors",children:"Sign Up"})]}),l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text pt-4",children:"For Partners"}),l.jsxs("ul",{className:"space-y-2 text-light-subtle dark:text-dark-subtle",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>f({name:"login",userType:"user"}),className:"hover:text-primary",children:"Teacher Login"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>f({name:"register",userType:"user",initialRole:"teacher"}),className:"hover:text-primary",children:"Teacher Signup"})}),l.jsx("li",{className:"pt-2",children:l.jsx("button",{onClick:()=>f({name:"login",userType:"tuition_institute"}),className:"font-semibold hover:text-primary",children:"Institute Login"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>f({name:"register",userType:"tuition_institute"}),className:"font-semibold hover:text-primary",children:"Institute Signup"})})]})]}),l.jsx("div",{className:"border-t border-light-border dark:border-dark-border my-6"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Company"}),l.jsx("ul",{className:"space-y-2",children:p.map(v=>l.jsx("li",{children:l.jsx("button",{onClick:()=>c(v.type==="static"?{name:"static",pageKey:v.key}:{name:v.key}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary",children:v.label})},v.key))}),l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text pt-4",children:"Community"}),l.jsx("ul",{className:"space-y-2",children:b.map(v=>l.jsx("li",{children:l.jsx("button",{onClick:()=>c({name:"static",pageKey:v.key}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary",children:v.label})},v.key))}),l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text pt-4",children:"Legal"}),l.jsx("ul",{className:"space-y-2",children:S.map(v=>l.jsx("li",{children:l.jsx("button",{onClick:()=>c({name:"static",pageKey:v.key}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary",children:v.label})},v.key))})]})]}),l.jsx("div",{className:"p-6 border-t border-light-border dark:border-dark-border",children:l.jsx("div",{className:"flex justify-center space-x-6",children:s.map(v=>{const y=x[v.icon];return y?l.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"text-light-subtle dark:text-dark-subtle hover:text-primary",children:l.jsx(y,{className:"h-6 w-6"})},v.id):null})})})]})]})},Nj=()=>{var B,A;const{theme:e,toggleTheme:t,setModalState:r,cart:n}=At(),{currentUser:a,handleLogout:i}=Gt(),{pageState:s,handleNavigate:u,homePageCardCounts:c,searchQuery:f,setSearchQuery:h}=Ir(),{teachers:m,tuitionInstitutes:p,handleMarkAllAsRead:b}=ln(),S=T.useMemo(()=>{const j=m.flatMap(L=>L.events||[]).filter(L=>L.isPublished&&L.status!=="canceled"&&cy(L)!=="finished").length,I=p.flatMap(L=>L.events||[]).filter(L=>L.isPublished&&L.status!=="canceled"&&cy(L)!=="finished").length;return j+I},[m,p]),x=T.useMemo(()=>m.flatMap(j=>j.quizzes||[]).filter(j=>j.isPublished&&!j.isDeleted&&j.status!=="canceled"&&E8(j)!=="finished").length,[m]),[E,w]=T.useState(!1),[v,y]=T.useState(void 0),[C,O]=T.useState(!1),[P,D]=T.useState(!1),R=T.useRef(null);T.useEffect(()=>{const I=new URLSearchParams(window.location.search).get("ref");I&&y(I)},[]),T.useEffect(()=>{P&&R.current&&R.current.focus()},[P]);const N=T.useMemo(()=>{var j;return((j=a==null?void 0:a.notifications)==null?void 0:j.filter(I=>!I.isRead).length)||0},[a]),z=()=>{if((a==null?void 0:a.role)==="admin")u({name:"admin_dashboard"});else if((a==null?void 0:a.role)==="teacher"){const j=m.find(I=>I.userId===a.id);u(j?{name:"teacher_profile",teacherId:j.id}:{name:"home"})}else(a==null?void 0:a.role)==="tuition_institute"?u({name:"ti_dashboard"}):u({name:"student_dashboard"})},G=()=>u({name:"home"}),K=()=>r({name:"login"}),U=()=>r({name:"register",refCode:v}),H=[{name:"all_teachers",label:"Teachers",show:!0},{name:"all_courses",label:"Courses",show:!0},{name:"all_classes",label:"Classes",show:!0},{name:"all_quizzes",label:"Quizzes",show:x>0},{name:"all_products",label:"Store",show:!0},{name:"all_events",label:"Events",show:S>0}].filter(j=>j.show);return l.jsxs(l.Fragment,{children:[l.jsx("header",{className:"sticky top-0 z-40 w-full bg-light-surface/80 dark:bg-dark-surface/80 backdrop-blur-sm border-b border-light-border dark:border-dark-border",children:l.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("button",{onClick:G,className:"flex items-center space-x-2",children:[l.jsx(Tu,{className:"h-8 w-8"}),l.jsxs("span",{className:"text-xl font-bold hidden sm:inline",children:["clazz.",l.jsx("span",{className:"text-primary",children:"lk"})]})]}),l.jsx("nav",{className:"hidden md:flex items-center space-x-6 ml-10",children:H.map(j=>{const L={all_teachers:"/teachers",all_courses:"/courses",all_classes:"/classes",all_quizzes:"/quizzes",all_products:"/store",all_events:"/events"}[j.name]||"/";return l.jsx("a",{href:L,onClick:F=>{F.preventDefault(),u({name:j.name})},className:`font-medium text-sm transition-colors ${s.name===j.name?"text-primary":"text-light-subtle dark:text-dark-subtle hover:text-primary dark:hover:text-primary-light"}`,children:j.label},j.name)})})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsxs("div",{className:`relative flex items-center transition-all duration-300 ${P?"w-48 sm:w-64":"w-10"}`,children:[P&&l.jsx("input",{ref:R,type:"text",value:f,onChange:j=>h(j.target.value),onBlur:()=>!f&&D(!1),placeholder:"Search...",className:"w-full pl-3 pr-10 py-1.5 text-base md:text-sm bg-light-background dark:bg-dark-background border border-light-border dark:border-dark-border rounded-full focus:outline-none focus:ring-1 focus:ring-primary"}),l.jsx("button",{onClick:()=>{D(!P),!P&&R.current&&setTimeout(()=>{var j;return(j=R.current)==null?void 0:j.focus()},100)},className:`absolute right-0 p-2 rounded-full text-light-subtle dark:text-dark-subtle hover:bg-light-border dark:hover:bg-dark-border ${P?"text-primary":""}`,children:l.jsx(ej,{className:"h-5 w-5"})})]}),l.jsx(_j,{theme:e,toggleTheme:t}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a&&l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>O(j=>!j),className:"p-2 rounded-full text-light-subtle dark:text-dark-subtle hover:bg-light-border dark:hover:bg-dark-border",children:[l.jsx(Cj,{className:"h-6 w-6"}),N>0&&l.jsx("span",{className:"absolute top-0 right-0 block h-2.5 w-2.5 rounded-full bg-red-500 ring-2 ring-white dark:ring-dark-surface"})]}),C&&l.jsx(Ej,{userNotifications:a.notifications||[],onClose:()=>O(!1),onMarkAllRead:b})]}),n.length>0&&l.jsx("div",{className:"relative",children:l.jsxs("button",{onClick:()=>r({name:"cart"}),className:"p-2 rounded-full text-light-subtle dark:text-dark-subtle hover:bg-light-border dark:hover:bg-dark-border",children:[l.jsx(e2,{className:"h-6 w-6"}),l.jsxs("span",{className:"absolute top-0 right-0 flex h-5 w-5",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-5 w-5 bg-primary text-white text-xs items-center justify-center",children:n.length})]})]})}),a?l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:z,className:"flex items-center space-x-2 p-1 rounded-full hover:bg-light-border dark:hover:bg-dark-border transition-colors",children:[a.avatar?l.jsx("img",{src:Li(a.avatar,32,32),alt:`${a.firstName} ${a.lastName}`,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white font-bold text-sm",children:l.jsxs("span",{children:[((B=a.firstName)==null?void 0:B.charAt(0))||"",((A=a.lastName)==null?void 0:A.charAt(0))||""]})}),l.jsx("span",{className:"font-medium text-sm",children:`${a.firstName} ${a.lastName}`})]}),l.jsx("button",{onClick:i,className:"px-3 py-1.5 text-xs font-medium text-light-subtle dark:text-dark-subtle border border-light-border dark:border-dark-border rounded-md hover:bg-light-border dark:hover:bg-dark-border hover:text-light-text dark:hover:text-dark-text",children:"Sign Out"})]}):l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:K,className:"px-4 py-2 text-sm font-medium text-primary hover:bg-primary/10 rounded-md transition-colors",children:"Log In"}),l.jsx("button",{onClick:U,className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary-dark transition-colors",children:"Sign Up"})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>w(!0),className:"p-2 rounded-full text-light-subtle dark:text-dark-subtle hover:bg-light-border dark:hover:bg-dark-border",children:l.jsx(Sj,{className:"h-6 w-6"})})})]})]})})}),l.jsx(Tj,{isOpen:E,onClose:()=>w(!1),onNavigate:u,currentUser:a})]})},Ij=()=>{const{handleNavigate:e,socialMediaLinks:t}=Ir(),{setModalState:r,addToast:n}=At(),{currentUser:a}=Gt(),i=[{key:"about_us",label:"About Us"},{key:"contact_support",label:"Contact Support"},{key:"faq",label:"FAQ"}],s=[{key:"teacher_terms",label:"Teacher Terms & Conditions"},{key:"student_terms",label:"Student Terms & Conditions"},{key:"privacy_policy",label:"Privacy Policy"},{key:"refund_policy",label:"Refund & Cancellation Policy"},{key:"disclaimer",label:"Disclaimer"},{key:"cookie_policy",label:"Cookie Policy"}],u=[{key:"community_guidelines",label:"Community Guidelines"},{key:"code_of_conduct",label:"Code of Conduct"},{key:"copyright_policy",label:"Copyright & IP Policy"}],c={FacebookIcon:Vx,TwitterIcon:Gx,LinkedInIcon:Yx,InstagramIcon:Qx,YouTubeIcon:Jx,WhatsAppIcon:Xx},f=({link:m})=>l.jsx("li",{children:l.jsx("button",{onClick:()=>e({name:"static",pageKey:m.key}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left",children:m.label})}),h=()=>ne(void 0,null,function*(){if(window.confirm("Are you sure you want to clear all application cache, storage, and service workers? This will log you out and redirect to the home page."))try{if(localStorage.clear(),sessionStorage.clear(),n("Local and session storage cleared.","info"),"serviceWorker"in navigator){const m=yield navigator.serviceWorker.getRegistrations();for(const p of m)yield p.unregister();n("All service workers unregistered.","info")}if(window.caches){const m=yield caches.keys();yield Promise.all(m.map(p=>caches.delete(p))),n("Cache storage cleared.","info")}n("Full cache clear successful! Redirecting to home...","success"),setTimeout(()=>{window.location.href="/"},1500)}catch(m){console.error("Error clearing cache:",m),n("Error clearing cache. See console for details.","error")}});return l.jsx("footer",{className:"hidden md:block bg-light-surface dark:bg-dark-surface border-t border-light-border dark:border-dark-border mt-auto pb-20 md:pb-12",children:l.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-8",children:[l.jsxs("div",{className:"md:col-span-1 space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Tu,{className:"h-8 w-8"}),l.jsxs("span",{className:"text-2xl font-bold",children:["clazz.",l.jsx("span",{className:"text-primary",children:"lk"})]})]}),l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle",children:"Connecting students with the best tutors in Sri Lanka. Your journey to academic excellence starts here."}),l.jsx("div",{className:"flex space-x-4",children:t.map(m=>{const p=c[m.icon];return p?l.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-light-subtle dark:text-dark-subtle hover:text-primary",children:l.jsx(p,{className:"h-6 w-6"})},m.id):null})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Company"}),l.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[i.map(m=>l.jsx(f,{link:m},m.key)),l.jsx("li",{children:l.jsx("button",{onClick:()=>e({name:"gift_voucher"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left",children:"Gift Vouchers"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>e({name:"referral_dashboard"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left",children:"Referral Program"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"For Partners"}),l.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx("button",{onClick:()=>r({name:"login",userType:"user"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left",children:"Teacher Login"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>r({name:"register",userType:"user"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left",children:"Teacher Signup"})}),l.jsx("li",{className:"pt-2",children:l.jsx("button",{onClick:()=>r({name:"login",userType:"tuition_institute"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left font-semibold",children:"Institute Login"})}),l.jsx("li",{children:l.jsx("button",{onClick:()=>r({name:"register",userType:"tuition_institute"}),className:"text-light-subtle dark:text-dark-subtle hover:text-primary text-left font-semibold",children:"Institute Signup"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Community"}),l.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:u.map(m=>l.jsx(f,{link:m},m.key))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-light-text dark:text-dark-text",children:"Legal"}),l.jsx("ul",{className:"mt-4 space-y-2 text-sm",children:s.map(m=>l.jsx(f,{link:m},m.key))})]})]}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-light-border dark:border-dark-border text-center text-xs text-light-subtle dark:text-dark-subtle",children:[" ",new Date().getFullYear()," clazz.lk. All rights reserved.",l.jsx("div",{className:"mt-4",children:l.jsx("button",{onClick:h,className:"px-3 py-1 bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 text-xs font-semibold rounded-full hover:bg-red-200 dark:hover:bg-red-900",children:"Clear Full Website Cache"})})]})]})})},Dj=e=>l.jsx("svg",X(q({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor"},e),{children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.658-.463 1.243-1.119 1.243H4.51c-.656 0-1.19-.585-1.119-1.243L4.644 8.507A3.75 3.75 0 018.25 4.5h7.5a3.75 3.75 0 013.606 3.993z"})})),Mj=()=>{const{pageState:e,handleNavigate:t}=Ir(),r=[{name:"home",label:"Home",icon:X8,page:{name:"home"}},{name:"all_teachers",label:"Teachers",icon:mj,page:{name:"all_teachers"}},{name:"all_courses",label:"Courses",icon:pj,page:{name:"all_courses"}},{name:"all_classes",label:"Classes",icon:qx,page:{name:"all_classes"}},{name:"all_products",label:"Store",icon:Dj,page:{name:"all_products"}}],n=a=>e.name===a;return l.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-16 pb-safe box-content bg-light-surface/80 dark:bg-dark-surface/80 backdrop-blur-md border-t border-light-border dark:border-dark-border shadow-[0_-2px_10px_rgba(0,0,0,0.05)] z-40",children:l.jsx("div",{className:"flex justify-around items-center h-full",children:r.map(a=>l.jsxs("button",{onClick:()=>t(a.page),className:`flex flex-col items-center justify-center w-full h-full transition-colors duration-200 ${n(a.name)?"text-primary":"text-light-subtle dark:text-dark-subtle hover:text-primary"}`,"aria-current":n(a.name)?"page":void 0,children:[l.jsx(a.icon,{className:"w-6 h-6"}),l.jsx("span",{className:"text-[10px] font-medium mt-1",children:a.label})]},a.name))})})},Tn=({isOpen:e,onClose:t,title:r,children:n,size:a="lg"})=>{const i=T.useRef(null),s=T.useRef(null);if(T.useEffect(()=>{if(e){s.current=document.activeElement,setTimeout(()=>{var h;const f=(h=i.current)==null?void 0:h.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');f&&f.length>0&&f[0].focus()},100);const c=f=>{var h;if(f.key==="Escape"){t();return}if(f.key==="Tab"){const m=(h=i.current)==null?void 0:h.querySelectorAll('a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])');if(!m||m.length===0)return;const p=m[0],b=m[m.length-1];f.shiftKey?document.activeElement===p&&(b.focus(),f.preventDefault()):document.activeElement===b&&(p.focus(),f.preventDefault())}};return document.addEventListener("keydown",c),()=>{var f;document.removeEventListener("keydown",c),(f=s.current)==null||f.focus()}}},[e,t]),!e)return null;const u={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl"};return L5.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center animate-fadeIn","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onClick:t,children:l.jsxs("div",{ref:i,className:`relative bg-light-surface dark:bg-dark-surface rounded-lg shadow-xl w-full ${u[a]} m-4 flex flex-col max-h-[90vh] animate-slideInUp`,onClick:c=>c.stopPropagation(),children:[l.jsxs("div",{className:"flex items-start justify-between p-4 border-b border-light-border dark:border-dark-border flex-shrink-0",children:[l.jsx("h3",{id:"modal-title",className:"text-lg font-semibold text-light-text dark:text-dark-text",children:r}),l.jsx("button",{type:"button",className:"p-1 text-light-subtle dark:text-dark-subtle hover:text-light-text dark:hover:text-dark-text rounded-full hover:bg-light-border dark:hover:bg-dark-border",onClick:t,"aria-label":"Close modal",children:l.jsx(qh,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 overflow-y-auto",children:n})]})}),document.body)},De=({label:e,name:t,type:r="text",value:n,onChange:a,placeholder:i,required:s=!1,disabled:u=!1,min:c,max:f,step:h,maxLength:m,inputMode:p,error:b})=>{const[S,x]=T.useState(!1),E=T.useRef(null),w=r==="password",v=r==="time",y=r==="date",C=w?S?"text":"password":r,O=!!b,P=()=>{x(N=>!N)},D=()=>{if(E.current&&!u&&"showPicker"in E.current)try{E.current.showPicker()}catch(N){console.warn("showPicker failed",N)}},R=w||v||y;return l.jsxs("div",{className:O?"animate-shake":"",children:[l.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:e}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{ref:E,type:C,name:t,id:t,value:n,onChange:a,placeholder:i,required:s,disabled:u,min:c,max:f,step:h,maxLength:m,inputMode:p,className:`w-full px-3 py-2 border placeholder-light-subtle dark:placeholder-dark-subtle text-light-text dark:text-dark-text bg-light-background dark:bg-dark-background rounded-md focus:outline-none sm:text-sm disabled:bg-light-border dark:disabled:bg-dark-border disabled:opacity-70 disabled:cursor-not-allowed ${R?"pr-10":""} ${v||y?"cursor-pointer":""} ${O?"border-red-500 dark:border-red-500 focus:ring-red-500 focus:border-red-500":"border-light-border dark:border-dark-border focus:ring-primary focus:border-primary"}`,onClick:v||y?D:void 0,"aria-invalid":O,"aria-describedby":O?`${t}-error`:void 0}),w&&l.jsx("button",{type:"button",onClick:P,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-600 dark:text-gray-400 hover:text-light-text dark:hover:text-dark-text","aria-label":S?"Hide password":"Show password",children:S?l.jsx(aj,{className:"h-5 w-5"}):l.jsx(nj,{className:"h-5 w-5"})}),(v||y)&&l.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-700 dark:text-gray-300",children:v?l.jsx(bj,{className:"h-5 w-5"}):l.jsx(kj,{className:"h-5 w-5"})})]}),O&&l.jsx("p",{id:`${t}-error`,className:"mt-1 text-xs text-red-600 dark:text-red-400",children:b})]})},Pj=()=>{const{modalState:e,setModalState:t,addToast:r}=At(),{handleLogin:n,handleGoogleSignIn:a,handleResendVerificationEmail:i,sendPhoneNumberOtp:s,verifyPhoneNumberOtp:u}=Gt(),{teachers:c}=ln(),{handleNavigate:f}=Ir(),h=e.name==="login"&&e.userType==="tuition_institute",m=e.name==="login"?e.refCode:void 0,p=e.name==="login"?e.preventRedirect:!1,b=()=>e.name==="login"&&e.initialMethod?e.initialMethod:"email",[S,x]=T.useState(b()),[E,w]=T.useState({email:"",password:""}),[v,y]=T.useState("phone"),[C,O]=T.useState("+94"),[P,D]=T.useState(""),[R,N]=T.useState(""),[z,G]=T.useState(!1),[K,U]=T.useState(null),[H,B]=T.useState(!1),A=T.useCallback(()=>{t({name:"none"})},[t]);T.useEffect(()=>{e.name==="login"&&e.initialMethod&&x(e.initialMethod)},[e]);const j=fe=>{if(p){A();return}if(fe.role==="admin")f({name:"admin_dashboard"});else if(fe.role==="teacher"){const be=c.find(Y=>Y.userId===fe.id);f(be?{name:"teacher_profile",teacherId:be.id}:{name:"home"})}else fe.role==="tuition_institute"?f({name:"ti_dashboard"}):f({name:"student_dashboard"})},I=fe=>{B(!0),h&&fe.role!=="tuition_institute"?N(`This is a ${fe.role} account. Please use the general login page.`):!h&&fe.role==="tuition_institute"&&N("This is an Institute account. Please use the Institute Login page.")},L=fe=>{w(be=>X(q({},be),{[fe.target.name]:fe.target.value}))},F=fe=>ne(void 0,null,function*(){var be;fe.preventDefault(),G(!0),N(""),B(!1),U(null);try{const Y=yield n(E.email,E.password);if(Y){if(h&&Y.role!=="tuition_institute"||!h&&Y.role==="tuition_institute"){I(Y);return}j(Y)}}catch(Y){Y.code==="auth/email-not-verified"?(N("Please verify your email to log in."),U(Y.user)):Y.code==="auth/profile-incomplete"?(N(""),r("Welcome! Please complete your profile to continue.","info"),t({name:"register",firebaseUser:Y.user,userType:h?"tuition_institute":"user",preventRedirect:p})):Y.message&&(Y.message.toLowerCase().includes("firebase:")||(be=Y.code)!=null&&be.toLowerCase().includes("auth/"))?N("An error occurred during sign-in. Please check your credentials or contact support."):N(Y.message||"Failed to sign in.")}finally{G(!1)}}),W=()=>ne(void 0,null,function*(){if(K){G(!0),N("");try{yield i(K),U(null)}catch(fe){N(fe.message||"Failed to resend verification email.")}finally{G(!1)}}}),pe=()=>ne(void 0,null,function*(){var fe;G(!0),N(""),B(!1);try{const{existingUser:be,newUserInfo:Y}=yield a();if(be){if(h&&be.role!=="tuition_institute"||!h&&be.role==="tuition_institute"){I(be);return}j(be)}else Y&&t({name:"register",googleUser:Y,userType:h?"tuition_institute":"user",preventRedirect:p})}catch(be){be.code==="auth/account-exists-with-different-credential"?N("An account already exists with this email address. Please sign in using your original method (e.g., email and password, or mobile OTP)."):be.message&&(be.message.toLowerCase().includes("firebase:")||(fe=be.code)!=null&&fe.toLowerCase().includes("auth/"))?N("An error occurred while signing in with Google. Please try again or contact support."):N(be.message||"Failed to sign in with Google.")}finally{G(!1)}}),ye=fe=>ne(void 0,null,function*(){var be;fe.preventDefault(),G(!0),N("");try{yield s(C),y("otp")}catch(Y){Y.message&&(Y.message.toLowerCase().includes("firebase:")||(be=Y.code)!=null&&be.toLowerCase().includes("auth/"))?N("An unexpected error occurred while sending the OTP. Please check the number and try again, or contact support if the issue persists."):N(Y.message||"Failed to send OTP. The phone number might be invalid or already in use by another account.")}finally{G(!1)}}),ce=fe=>ne(void 0,null,function*(){var be;fe.preventDefault(),G(!0),N(""),B(!1);try{const{existingUser:Y,newFirebaseUser:re}=yield u(C,P);if(Y){if(h&&Y.role!=="tuition_institute"||!h&&Y.role==="tuition_institute"){I(Y);return}j(Y)}else re&&t({name:"register",firebaseUser:re,userType:h?"tuition_institute":"user",refCode:m,preventRedirect:p})}catch(Y){Y.code==="auth/credential-already-in-use"?N("This phone number is already associated with another account. Please log in using another method or contact support."):Y.message&&(Y.message.toLowerCase().includes("firebase:")||(be=Y.code)!=null&&be.toLowerCase().includes("auth/"))?N("An error occurred during verification. Please try again or contact support."):N(Y.message||"Failed to verify OTP. Please check the code and try again.")}finally{G(!1)}}),oe=()=>l.jsx(l.Fragment,{children:l.jsxs("form",{onSubmit:v==="phone"?ye:ce,children:[v==="phone"?l.jsx(De,{label:"Mobile Number",name:"phone",type:"tel",value:C,onChange:fe=>O(fe.target.value),placeholder:"+94771234567",required:!0}):l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-center text-sm text-light-subtle dark:text-dark-subtle",children:["Enter the OTP sent to ",C,"."," ",l.jsx("button",{type:"button",onClick:()=>{y("phone"),N("")},className:"font-medium text-primary hover:text-primary-dark",children:"Change"})]}),l.jsx(De,{label:"Verification Code",name:"otp",type:"text",inputMode:"numeric",value:P,onChange:fe=>D(fe.target.value),placeholder:"Enter 6-digit OTP",required:!0})]}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{type:"submit",disabled:z,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark transition-colors disabled:opacity-50",children:[l.jsx(Sf,{className:"w-5 h-5 mr-2"}),z?"Sending...":v==="phone"?"Send OTP":"Verify & Sign In"]})})]})}),ge=h?"Institute Login":"Sign in to your account";return l.jsx(Tn,{isOpen:!0,onClose:A,title:ge,children:l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"border-b border-light-border dark:border-dark-border",children:l.jsxs("nav",{className:"-mb-px flex justify-center space-x-4","aria-label":"Tabs",children:[l.jsxs("button",{onClick:()=>{x("email"),N(""),B(!1)},className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${S==="email"?"border-primary text-primary":"border-transparent text-light-subtle dark:text-dark-subtle hover:text-light-text dark:hover:text-dark-text hover:border-light-border dark:hover:border-dark-border"}`,children:[l.jsx(Vh,{className:"w-5 h-5 mr-2"})," Login with Email"]}),l.jsxs("button",{onClick:()=>{x("mobile"),N(""),y("phone"),B(!1)},className:`flex items-center whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${S==="mobile"?"border-primary text-primary":"border-transparent text-light-subtle dark:text-dark-subtle hover:text-light-text dark:hover:text-dark-text hover:border-light-border dark:hover:border-dark-border"}`,children:[l.jsx(Sf,{className:"w-5 h-5 mr-2"})," Login with Mobile"]})]})}),S==="email"?l.jsxs("form",{className:"space-y-4",onSubmit:F,children:[l.jsx(De,{label:"Email Address",name:"email",type:"email",value:E.email,onChange:L,placeholder:"Email address",required:!0}),l.jsx(De,{label:"Password",name:"password",type:"password",value:E.password,onChange:L,placeholder:"Password",required:!0}),l.jsx("div",{className:"text-right text-sm",children:l.jsx("button",{type:"button",onClick:()=>t({name:"forgot_password"}),className:"font-medium text-primary hover:text-primary-dark focus:outline-none",children:"Forgot your password?"})}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{type:"submit",disabled:z,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light transition-colors disabled:opacity-50",children:[l.jsx(gj,{className:"w-5 h-5 mr-2"}),z?"Signing In...":"Sign In with Email"]})})]}):oe(),R&&l.jsx("p",{className:"text-sm text-red-500 text-center pt-2",children:R}),H&&l.jsx("div",{className:"text-center text-sm mt-2",children:l.jsxs("button",{type:"button",onClick:()=>{N(""),B(!1),t({name:"login",userType:h?"user":"tuition_institute"})},className:"font-medium text-primary hover:text-primary-dark underline",children:["Click here to switch to the ",h?"User":"Institute"," Login page."]})}),K&&l.jsx("div",{className:"text-center text-sm",children:l.jsx("button",{type:"button",onClick:W,disabled:z,className:"font-medium text-primary hover:text-primary-dark focus:outline-none disabled:opacity-50",children:z?"Sending...":"Resend verification email"})}),l.jsxs("div",{className:"relative flex py-2 items-center",children:[l.jsx("div",{className:"flex-grow border-t border-light-border dark:border-dark-border"}),l.jsx("span",{className:"flex-shrink mx-4 text-xs text-light-subtle dark:text-dark-subtle",children:"OR"}),l.jsx("div",{className:"flex-grow border-t border-light-border dark:border-dark-border"})]}),l.jsx("div",{children:l.jsxs("button",{type:"button",onClick:pe,className:"group relative w-full flex justify-center py-2 px-4 border border-light-border dark:border-dark-border text-sm font-medium rounded-md text-light-text dark:text-dark-text bg-light-surface dark:bg-dark-surface hover:bg-light-border dark:hover:bg-dark-border focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light transition-colors",children:[l.jsx(Zx,{className:"w-5 h-5 mr-2"}),"Sign in with Google"]})}),l.jsxs("p",{className:"mt-6 text-center text-sm text-light-subtle dark:text-dark-subtle",children:["Don't have an account?"," ",l.jsx("button",{onClick:()=>t({name:"register",userType:h?"tuition_institute":"user",refCode:m,preventRedirect:p}),className:"font-medium text-primary hover:text-primary-dark",children:"Sign up"})]})]})})},jj=["student","teacher"],Lj=(e,t)=>{const r=e==="teacher"?"TID":e==="student"?"SID":"TI",n=t.filter(f=>f.id.startsWith(r));let a=0;n.forEach(f=>{const h=f.id.match(new RegExp(`^${r}(\\d{4})`));if(h&&h[1]){const m=parseInt(h[1],10);m>a&&(a=m)}});const i=a+1,s=String(i).padStart(4,"0"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZ",c=u[Math.floor(Math.random()*u.length)]+u[Math.floor(Math.random()*u.length)];return`${r}${s}${c}`},Aj=({refCode:e,googleUser:t,firebaseUser:r,initialMethod:n,prefillData:a})=>{var xe,se;const{modalState:i,setModalState:s,addToast:u}=At(),{handleRegister:c,handleLoginSuccess:f,handleGoogleSignIn:h,updateUserAuthEmail:m}=Gt(),{users:p,addUser:b,addTeacher:S,teachers:x,addTuitionInstitute:E}=ln(),{handleNavigate:w,teacherCardTaglines:v}=Ir(),y=!!t||!!r,C=!!(r&&r.phoneNumber&&!r.email),O=i.name==="register"&&i.userType==="tuition_institute",P=i.name==="register"?i.initialRole:void 0,D=i.name==="register"?i.preventRedirect:!1,[R,N]=T.useState({email:(t==null?void 0:t.email)||(r==null?void 0:r.email)||(a==null?void 0:a.email)||"",password:"",confirmPassword:"",firstName:O?"":((xe=t==null?void 0:t.displayName)==null?void 0:xe.split(" ")[0])||(a==null?void 0:a.firstName)||"",lastName:O?"":((se=t==null?void 0:t.displayName)==null?void 0:se.split(" ").slice(1).join(" "))||(a==null?void 0:a.lastName)||"",instituteName:O&&(t==null?void 0:t.displayName)||"",contactNumber:(a==null?void 0:a.contactNumber)||""}),[z,G]=T.useState(O?"tuition_institute":P||"student"),[K,U]=T.useState(""),[H,B]=T.useState(!1),[A,j]=T.useState(!!e),[I,L]=T.useState(e||""),[F,W]=T.useState(!1),pe=T.useCallback(()=>s({name:"none"}),[s]);T.useEffect(()=>{n==="mobile"&&s({name:"login",initialMethod:"mobile",userType:O?"tuition_institute":"user",refCode:e,preventRedirect:D})},[n,s,O,e,D]),T.useEffect(()=>{t?N(ee=>{var ae,le;return X(q({},ee),{email:t.email||ee.email,firstName:O?ee.firstName:((ae=t.displayName)==null?void 0:ae.split(" ")[0])||ee.firstName,lastName:O?ee.lastName:((le=t.displayName)==null?void 0:le.split(" ").slice(1).join(" "))||ee.lastName,instituteName:O&&t.displayName||ee.instituteName})}):r?N(ee=>X(q({},ee),{email:r.email||ee.email})):a&&N(ee=>X(q({},ee),{email:a.email||ee.email,firstName:a.firstName||ee.firstName,lastName:a.lastName||ee.lastName,contactNumber:a.contactNumber||ee.contactNumber}))},[t,r,O,a]);const ye=ee=>{if(D){s({name:"none"});return}const ae=x.find(le=>le.userId===ee.id);ee.role==="admin"?w({name:"admin_dashboard"}):ee.role==="teacher"&&ae?w({name:"teacher_profile",teacherId:ae.id}):ee.role==="tuition_institute"?w({name:"ti_dashboard"}):w({name:"student_dashboard"})},ce=ee=>{N(ae=>X(q({},ae),{[ee.target.name]:ee.target.value}))},oe=ee=>{if(!ee)return;const ae=p.find(le=>le.referralCode.toUpperCase()===ee.toUpperCase());return ae==null?void 0:ae.id},ge=()=>ne(void 0,null,function*(){var ee;B(!0),U("");try{const{existingUser:ae,newUserInfo:le}=yield h();ae?(u(`Welcome back, ${ae.firstName}! You're already registered.`,"info"),ye(ae)):le&&s({name:"register",googleUser:le,userType:O?"tuition_institute":"user",preventRedirect:D})}catch(ae){ae.code==="auth/account-exists-with-different-credential"?U("An account already exists with this email address. Please sign in using your original method (e.g., email and password, or mobile OTP)."):ae.message&&(ae.message.toLowerCase().includes("firebase:")||(ee=ae.code)!=null&&ee.toLowerCase().includes("auth/"))?U("An error occurred while signing up with Google. Please try again or contact support."):U(ae.message||"Failed to sign up with Google.")}finally{B(!1)}}),fe=(ee,ae)=>ne(void 0,null,function*(){const{firstName:le,lastName:Be,email:Le,role:ue,avatar:te,instituteName:we,contactNumber:Te}=ae;if(Le&&N8(Le))throw new Error("Registration with temporary email addresses is not allowed.");const Me=oe(I),He=Lj(ue,p),de=q({id:He,uid:ee.uid,firstName:ue==="tuition_institute"?we:le,lastName:ue==="tuition_institute"?"(Institute)":Be,email:Le,role:ue,avatar:te||ee.photoURL||"",contactNumber:Te||ee.phoneNumber||"",status:"active",accountBalance:0,referralCode:Math.random().toString(36).substring(2,10).toUpperCase(),isEmailVerified:ee.emailVerified,isMobileVerified:!!ee.phoneNumber,createdAt:new Date().toISOString()},Me&&{referrerId:Me});if(yield b(de),Me&&ue==="teacher"){const Ce=p.find(vt=>vt.id===Me);if(Ce){const vt=`${le} ${Be}`,Xe="A new teacher joined using your referral code!",yt=`
                <div style="font-family: Arial, sans-serif; color: #333;">
                    <p>Hi ${Ce.firstName},</p>
                    <p>Great news! A new teacher, <strong>${vt}</strong>, has registered on Clazz.lk using your referral code.</p>
                    <p>Once their account is approved and they start generating platform income, you will begin earning commissions.</p>
                    <p>Thank you for helping our community grow!</p>
                    <p>The Clazz.lk Team</p>
                </div>
            `;yield cr({email:Ce.email},Xe,yt)}}if(de.role==="teacher"){const vt=((gr,Oe)=>{const Pe=gr.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9]/g,""),Ne=new Set(Oe.map(Ot=>Ot.username));if(!Ne.has(Pe))return Pe;let We=2,Ue=`${Pe}${We}`;for(;Ne.has(Ue);)We++,Ue=`${Pe}${We}`;return Ue})(`${de.firstName} ${de.lastName}`,x),Xe=v&&v.length>0?v[Math.floor(Math.random()*v.length)]:"Passionate Educator Ready to Inspire",yt={id:de.id,userId:de.id,name:`${de.firstName} ${de.lastName}`,username:vt,email:de.email,profileImage:de.avatar,avatar:de.avatar,coverImages:[],tagline:Xe,bio:"",subjects:[],exams:[],qualifications:[],languages:[],experienceYears:0,contact:{phone:ee.phoneNumber||"",email:de.email,location:"",onlineAvailable:!0},timetable:[],individualClasses:[],courses:[],quizzes:[],achievements:[],registrationStatus:"pending",earnings:{total:0,withdrawn:0,available:0},withdrawalHistory:[],payoutDetails:null,commissionRate:25,verification:{id:{status:"unverified"},bank:{status:"unverified"}},ratings:[]};yield S(yt)}else if(de.role==="tuition_institute"){const Ce={id:de.id,userId:de.id,name:we,address:{line1:"",city:"",state:"",postalCode:"",country:"Sri Lanka"},contact:{phone:Te||"",email:Le,location:"",onlineAvailable:!0},commissionRate:25,platformMarkupRate:15,registrationStatus:"pending",earnings:{total:0,withdrawn:0,available:0},withdrawalHistory:[]};yield E(Ce)}return de}),re=y?ee=>ne(void 0,null,function*(){ee.preventDefault(),U(""),B(!0);const ae=r||(t?{uid:t.uid,emailVerified:!0,photoURL:t.photoURL,phoneNumber:null,email:t.email}:null);if(!ae){U("Session error. Please try signing in again."),B(!1);return}try{if(C&&R.email)try{yield m(R.email)}catch(Be){Be.message.includes("This email is already associated")?U("This email is already in use by another account. Please use a different email or contact support."):U(Be.message||"Failed to link email address."),B(!1);return}const le=yield fe(ae,{firstName:R.firstName,lastName:R.lastName,instituteName:R.instituteName,contactNumber:R.contactNumber,email:R.email,role:z});f(le,"Registration successful! Welcome."),ye(le)}catch(le){U(le.message||"Failed to create profile.")}finally{B(!1)}}):ee=>ne(void 0,null,function*(){var ae;if(ee.preventDefault(),U(""),z!=="tuition_institute"&&(!R.firstName||!R.lastName)){U("First and last name are required.");return}if(z==="tuition_institute"&&!R.instituteName){U("Institute name is required.");return}if(R.password!==R.confirmPassword){U("Passwords do not match.");return}if(R.password.length<6){U("Password must be at least 6 characters long.");return}B(!0);try{const le=yield c(R.email,R.password);le&&(yield fe(le,{firstName:R.firstName,lastName:R.lastName,instituteName:R.instituteName,contactNumber:R.contactNumber,email:R.email,role:z}),W(!0))}catch(le){le.code==="auth/email-already-in-use"?U("This email address is already in use by another account. Please try to log in or use a different email."):le.message&&(le.message.toLowerCase().includes("firebase:")||(ae=le.code)!=null&&ae.toLowerCase().includes("auth/"))?U("An error occurred during registration. Please try again or contact support."):U(le.message||"Registration failed.")}finally{B(!1)}}),me=F?"Registration Successful":O?"Register Your Institute":"Create your account";return l.jsx(Tn,{isOpen:!0,onClose:pe,title:me,children:F?l.jsxs("div",{className:"text-center p-4 animate-fadeIn",children:[l.jsx(Zn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Please verify your email"}),l.jsx("p",{className:"text-light-subtle dark:text-dark-subtle mt-2",children:"A verification link has been sent to your email address. Please check your inbox (and spam folder) and click the link to complete your registration."}),l.jsx("div",{className:"mt-6",children:l.jsx("button",{onClick:()=>s({name:"login",userType:O?"tuition_institute":"user",preventRedirect:D}),className:"w-full bg-primary text-white font-bold py-3 rounded-md hover:bg-primary-dark transition-colors",children:"OK"})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("form",{onSubmit:re,className:"space-y-4",children:[O?l.jsxs(l.Fragment,{children:[l.jsx(De,{label:"Institute Name",name:"instituteName",value:R.instituteName,onChange:ce,required:!0}),l.jsx(De,{label:"Contact Number",name:"contactNumber",type:"tel",value:R.contactNumber,onChange:ce,required:!0,placeholder:"+94771234567"})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsx(De,{label:"First Name",name:"firstName",value:R.firstName,onChange:ce,required:!0}),l.jsx(De,{label:"Last Name",name:"lastName",value:R.lastName,onChange:ce,required:!0})]}),!O&&l.jsx(De,{label:"Contact Number",name:"contactNumber",type:"tel",value:R.contactNumber,onChange:ce,required:!0,placeholder:"+94771234567"}),!C&&l.jsx(De,{label:"Email",name:"email",type:"email",value:R.email,onChange:ce,required:!0,disabled:!!(t!=null&&t.email)||!!(r!=null&&r.email)||!!(a!=null&&a.email)}),!y&&l.jsxs(l.Fragment,{children:[l.jsx(De,{label:"Password",name:"password",type:"password",value:R.password,onChange:ce,required:!0}),l.jsx(De,{label:"Confirm Password",name:"confirmPassword",type:"password",value:R.confirmPassword,onChange:ce,required:!0})]}),!O&&!P&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-sm",children:A?l.jsx(De,{label:"Referral Code (Optional)",name:"refCode",value:I,onChange:ee=>L(ee.target.value),placeholder:"Enter code"}):l.jsx("button",{type:"button",onClick:()=>j(!0),className:"font-medium text-primary hover:text-primary-dark",children:"Have a referral code?"})}),l.jsx("div",{className:"border-b border-light-border dark:border-dark-border pt-2",children:l.jsxs("nav",{className:"-mb-px flex justify-center space-x-4",children:[l.jsx("p",{className:"py-3 px-1 text-sm font-medium",children:"I am a:"}),jj.map(ee=>l.jsx("button",{type:"button",onClick:()=>G(ee),className:`${z===ee?"border-primary text-primary":"border-transparent text-light-subtle dark:text-dark-subtle hover:text-light-text"} whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm capitalize`,children:ee},ee))]})})]}),P&&l.jsxs("div",{className:"text-sm text-center font-medium p-2 bg-light-background dark:bg-dark-background rounded-md border border-light-border dark:border-dark-border",children:["Registering as a ",l.jsx("span",{className:"capitalize font-bold text-primary",children:P})]}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{type:"submit",disabled:H,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark disabled:opacity-50",children:[l.jsx(vj,{className:"w-5 h-5 mr-2"}),H?"Saving...":y?"Complete Profile":"Create Account"]})})]}),!y&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative flex py-2 items-center",children:[l.jsx("div",{className:"flex-grow border-t border-light-border dark:border-dark-border"}),l.jsx("span",{className:"flex-shrink mx-4 text-xs text-light-subtle dark:text-dark-subtle",children:"OR SIGN UP WITH"}),l.jsx("div",{className:"flex-grow border-t border-light-border dark:border-dark-border"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("button",{type:"button",onClick:ge,className:"group relative w-full flex justify-center py-2 px-4 border border-light-border dark:border-dark-border text-sm font-medium rounded-md text-light-text dark:text-dark-text bg-light-surface dark:bg-dark-surface hover:bg-light-border dark:hover:bg-dark-border",children:[l.jsx(Zx,{className:"w-5 h-5 mr-2"}),"Google"]}),l.jsxs("button",{type:"button",onClick:()=>s({name:"login",initialMethod:"mobile",userType:O?"tuition_institute":"user",preventRedirect:D}),className:"group relative w-full flex justify-center py-2 px-4 border border-light-border dark:border-dark-border text-sm font-medium rounded-md text-light-text dark:text-dark-text bg-light-surface dark:bg-dark-surface hover:bg-light-border dark:hover:bg-dark-border",children:[l.jsx(Sf,{className:"w-5 h-5 mr-2"}),"Mobile (OTP)"]})]})]}),K&&l.jsx("p",{className:"text-sm text-red-500 text-center pt-2",children:K}),l.jsxs("p",{className:"mt-6 text-center text-sm text-light-subtle dark:text-dark-subtle",children:["Already have an account?"," ",l.jsx("button",{onClick:()=>s({name:"login",userType:O?"tuition_institute":"user",preventRedirect:D}),className:"font-medium text-primary hover:text-primary-dark",children:"Sign in"})]})]})})},Oj=()=>{const{setModalState:e}=At(),{handlePasswordReset:t}=Gt(),[r,n]=T.useState(""),[a,i]=T.useState(!1),[s,u]=T.useState(!1),[c,f]=T.useState(""),h=T.useCallback(()=>{e({name:"none"})},[e]);T.useEffect(()=>{let p;return s&&(p=window.setTimeout(()=>{h()},4e3)),()=>clearTimeout(p)},[s,h]);const m=p=>ne(void 0,null,function*(){p.preventDefault(),i(!0),f("");try{yield t(r),u(!0)}catch(b){console.error("Password reset error:",b),u(!0)}finally{i(!1)}});return l.jsx(Tn,{isOpen:!0,onClose:h,title:"Reset your password",children:s?l.jsxs("div",{className:"text-center p-4 animate-fadeIn",children:[l.jsx(Zn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Check your email"}),l.jsx("p",{className:"text-light-subtle dark:text-dark-subtle mt-2",children:"If an account with that email exists, we've sent a link to reset your password."}),l.jsx("p",{className:"text-xs text-light-subtle dark:text-dark-subtle mt-4",children:"This window will close automatically."})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsx("p",{className:"text-center text-sm text-light-subtle dark:text-dark-subtle -mt-2",children:"Enter your email address and we'll send you a link to reset your password."}),l.jsxs("form",{className:"space-y-4",onSubmit:m,children:[l.jsx(De,{label:"Email Address",name:"email",type:"email",value:r,onChange:p=>n(p.target.value),placeholder:"you@example.com",required:!0}),c&&l.jsx("p",{className:"text-sm text-red-500 text-center",children:c}),l.jsx("div",{className:"pt-2",children:l.jsxs("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light transition-colors disabled:opacity-50",children:[l.jsx(Vh,{className:"w-5 h-5 mr-2"}),a?"Sending...":"Send Reset Link"]})})]}),l.jsxs("p",{className:"mt-6 text-center text-sm text-light-subtle dark:text-dark-subtle",children:["Remember your password?"," ",l.jsx("button",{onClick:()=>e({name:"login"}),className:"font-medium text-primary hover:text-primary-dark focus:outline-none",children:"Back to Login"})]})]})})},rl=({label:e,name:t,value:r,onChange:n,options:a,required:i=!1})=>l.jsxs("div",{children:[l.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:e}),l.jsxs("select",{name:t,id:t,value:r,onChange:n,required:i,className:"w-full px-3 py-2 border border-light-border dark:border-dark-border text-light-text dark:text-dark-text bg-light-background dark:bg-dark-background rounded-md focus:outline-none focus:ring-primary focus:border-primary sm:text-sm",children:[l.jsx("option",{value:"",disabled:!0,children:"Select an option"}),a.map(s=>l.jsx("option",{value:s.value,children:s.label},s.value))]})]}),da=({label:e,tags:t,onTagsChange:r,placeholder:n="Type and click + to add"})=>{const[a,i]=T.useState(""),s=()=>{const f=a.trim();f&&(t.includes(f)||r([...t,f]),i(""))},u=f=>{f.key==="Enter"&&(f.preventDefault(),s())},c=f=>{r(t.filter(h=>h!==f))};return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:e}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("input",{type:"text",value:a,onChange:f=>i(f.target.value),onKeyDown:u,className:"flex-grow px-3 py-2 border border-light-border dark:border-dark-border bg-light-background dark:bg-dark-background rounded-md focus:outline-none focus:ring-primary focus:border-primary sm:text-sm text-light-text dark:text-dark-text",placeholder:n}),l.jsx("button",{type:"button",onClick:s,disabled:!a.trim(),className:"flex-shrink-0 flex items-center justify-center w-10 h-10 bg-primary text-white rounded-md hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l.jsx(ri,{className:"w-5 h-5"})})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(f=>l.jsxs("span",{className:"flex items-center bg-primary/10 text-primary text-sm font-medium px-3 py-1.5 rounded-full border border-primary/20",children:[f,l.jsx("button",{type:"button",onClick:()=>c(f),className:"ml-2 text-primary/70 hover:text-red-500 focus:outline-none transition-colors",children:l.jsx(qh,{className:"w-3 h-3"})})]},f))})]})},Rj=({value:e,max:t,label:r})=>{const n=t>0?Math.min(e/t*100,100):0;return l.jsxs("div",{children:[r&&l.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-primary-dark bg-primary/20",children:r}),l.jsx("div",{className:"w-full bg-light-border dark:bg-dark-border rounded-full h-2.5 mt-1",children:l.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:`${n}%`}})})]})},od=({onMouseDown:e,children:t,title:r,active:n})=>l.jsx("button",{type:"button",onMouseDown:e,title:r,className:`px-2.5 py-1 text-sm rounded hover:bg-white/50 dark:hover:bg-black/20 text-light-text dark:text-dark-text ${n?"bg-primary/20":""}`,children:t}),nl=({label:e,id:t,name:r,value:n,onChange:a,rows:i,placeholder:s})=>{const[u,c]=T.useState(()=>{try{if(n){const v=JSON.parse(n);if(typeof v=="object"&&v!==null){const y=at.convertFromRaw(v);return at.EditorState.createWithContent(y)}}}catch(v){return at.EditorState.createWithContent(at.ContentState.createFromText(n||""))}return at.EditorState.createEmpty()}),f=T.useRef(!1);T.useEffect(()=>{if(f.current){f.current=!1;return}const v=u.getCurrentContent();let y;try{if(n){const P=JSON.parse(n);typeof P=="object"&&P!==null?y=at.convertFromRaw(P):y=at.ContentState.createFromText(n)}else y=at.ContentState.createFromText("")}catch(P){y=at.ContentState.createFromText(n||"")}const C=v.getPlainText(),O=y.getPlainText();if(C!==O){const P=at.EditorState.createWithContent(y);c(P)}else!n&&C!==""&&c(at.EditorState.createEmpty())},[n]);const h=T.useRef(null),m=i*24,p=v=>{c(v);const y=u.getCurrentContent(),C=v.getCurrentContent();if(y!==C){const O=at.convertToRaw(C),P=JSON.stringify(O);f.current=!0,a({target:{name:r,value:P}})}},b=()=>{var v;(v=h.current)==null||v.focus()},S=(v,y)=>{const C=at.RichUtils.handleKeyCommand(y,v);return C?(p(C),"handled"):"not-handled"},x=(v,y)=>{v.preventDefault(),p(at.RichUtils.toggleInlineStyle(u,y))},E=v=>{v.preventDefault();const y=u.getSelection();if(y.isCollapsed()){alert("Please select some text to apply a link.");return}const C=window.prompt("Enter URL:","https://");if(!C){p(at.RichUtils.toggleLink(u,y,null));return}const P=u.getCurrentContent().createEntity("LINK","MUTABLE",{url:C}),D=P.getLastCreatedEntityKey(),R=at.EditorState.set(u,{currentContent:P});p(at.RichUtils.toggleLink(R,y,D))},w=u.getCurrentInlineStyle();return l.jsxs("div",{children:[l.jsx("label",{htmlFor:t,className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:e}),l.jsxs("div",{className:"border border-light-border dark:border-dark-border rounded-md focus-within:ring-1 focus-within:ring-primary focus-within:border-primary",children:[l.jsxs("div",{className:"flex items-center space-x-1 p-1 bg-light-border dark:bg-dark-border rounded-t-md border-b border-light-border dark:border-dark-border",children:[l.jsx(od,{onMouseDown:v=>x(v,"BOLD"),title:"Bold (Ctrl+B)",active:w.has("BOLD"),children:l.jsx("span",{className:"font-bold w-6",children:"B"})}),l.jsx(od,{onMouseDown:v=>x(v,"ITALIC"),title:"Italic (Ctrl+I)",active:w.has("ITALIC"),children:l.jsx("span",{className:"italic w-6",children:"I"})}),l.jsx(od,{onMouseDown:E,title:"Insert Link",children:l.jsx(xj,{className:"w-4 h-4 mx-1"})})]}),l.jsx("div",{className:"p-2 bg-light-background dark:bg-dark-background text-light-text dark:text-dark-text placeholder-light-subtle dark:placeholder-dark-subtle rounded-b-md",style:{minHeight:`${m}px`},onClick:b,children:l.jsx(at.Editor,{ref:h,editorState:u,onChange:p,handleKeyCommand:S,placeholder:s,spellCheck:!0})})]})]})},Bj=30,$j={line1:"",line2:"",city:"",state:"",postalCode:"",country:"Sri Lanka"},Kj=()=>{const{currentUser:e,handleResendVerificationEmail:t,linkPhoneNumber:r,verifyPhoneNumberLink:n,updateUserAuthEmail:a,handlePasswordReset:i}=Gt(),{handleUpdateUser:s}=ln(),{modalState:u,setModalState:c,addToast:f}=At(),[h,m]=T.useState({}),[p,b]=T.useState(0),[S,x]=T.useState(!1),[E,w]=T.useState("enter_number"),[v,y]=T.useState(""),[C,O]=T.useState(0),[P,D]=T.useState({}),[R,N]=T.useState(""),[z,G]=T.useState(""),[K,U]=T.useState({name:"",date:"",targetAudience:eo[0].value}),[H,B]=T.useState({}),A=u.name==="edit_student_profile"&&!!u.onSaveAndContinue,j=T.useCallback(()=>{A&&f("For gateway payments, providing your email, mobile, and address is required. Alternatively, you can use the bank transfer option on your dashboard.","info"),c({name:"none"})},[c,A,f]),I=!u.name||u.name==="edit_student_profile"&&(!u.userToEdit||u.userToEdit.id===(e==null?void 0:e.id));T.useEffect(()=>{if(u.name==="edit_student_profile"){const ue=u.userToEdit||e;if(ue&&(!h.id||h.id!==ue.id)){const te=X(q({},ue),{address:ue.address||$j});eo.some(Me=>Me.value===ue.targetAudience)&&ue.targetAudience!=="Other"?(te.targetAudience=ue.targetAudience,G("")):(te.targetAudience="Other",G(ue.targetAudience||"")),m(te);const Te=u.initialStep||0;b(Te)}}},[u,e==null?void 0:e.id]),T.useEffect(()=>{I&&e&&h.id===e.id&&m(ue=>X(q({},ue),{isEmailVerified:e.isEmailVerified,isMobileVerified:e.isMobileVerified,email:e.email,contactNumber:e.contactNumber}))},[e==null?void 0:e.isEmailVerified,e==null?void 0:e.isMobileVerified,e==null?void 0:e.email,e==null?void 0:e.contactNumber,I]),T.useEffect(()=>{let ue;return C>0&&(ue=window.setTimeout(()=>O(te=>te-1),1e3)),()=>clearTimeout(ue)},[C]),T.useEffect(()=>{if(I&&u.name==="edit_student_profile"&&h&&!h.isEmailVerified&&h.email){const ue=setInterval(()=>ne(void 0,null,function*(){if(bt.currentUser&&(yield bt.currentUser.reload(),bt.currentUser.emailVerified)){const te=he(Q,"users",e.id);yield ct(te,{isEmailVerified:!0,email:bt.currentUser.email}),f("Email successfully verified!","success"),clearInterval(ue)}}),5e3);return()=>clearInterval(ue)}},[u.name,h.email,h.isEmailVerified,f,e,I]);const{percentage:L}=I8(h),F=[{name:"Personal Information"},{name:"Contact & Verification"},{name:"Address Details"},{name:"Academic & Goals"},{name:"CV & Portfolio"}],W=ue=>{var Te,Me,He,de,Ce,vt,Xe,yt;const te={},we=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;switch(ue){case 0:(Te=h.firstName)!=null&&Te.trim()||(te.firstName="First name is required to continue."),(Me=h.lastName)!=null&&Me.trim()||(te.lastName="Last name is required to continue.");break;case 1:A?((He=h.email)!=null&&He.trim()?we.test(h.email)||(te.email="Please enter a valid email format."):te.email="Email is mandatory for payments.",(de=h.contactNumber)!=null&&de.trim()||(te.contactNumber="Contact number is mandatory for payments.")):h.email&&!we.test(h.email)&&(te.email="Please enter a valid email format.");break;case 2:A&&((vt=(Ce=h.address)==null?void 0:Ce.line1)!=null&&vt.trim()||(te.line1="Address Line 1 is mandatory for payments."),(yt=(Xe=h.address)==null?void 0:Xe.city)!=null&&yt.trim()||(te.city="City is mandatory for payments."));break}return B(te),Object.keys(te).length===0},pe=()=>{if(!W(p)){A&&f("Please fill in the required fields to continue.","error");return}p<F.length-1&&(B({}),b(ue=>ue+1))},ye=()=>{var Te,Me,He,de,Ce,vt,Xe,yt;const ue={},te=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let we=-1;return(Te=h.firstName)!=null&&Te.trim()||(ue.firstName="First name is required.",we===-1&&(we=0)),(Me=h.lastName)!=null&&Me.trim()||(ue.lastName="Last name is required.",we===-1&&(we=0)),(He=h.email)!=null&&He.trim()?te.test(h.email)||(ue.email="Please enter a valid email format.",we===-1&&(we=1)):(ue.email="Email is mandatory for payments.",we===-1&&(we=1)),(de=h.contactNumber)!=null&&de.trim()||(ue.contactNumber="Contact number is mandatory for payments.",we===-1&&(we=1)),(vt=(Ce=h.address)==null?void 0:Ce.line1)!=null&&vt.trim()||(ue.line1="Address Line 1 is mandatory for payments.",we===-1&&(we=2)),(yt=(Xe=h.address)==null?void 0:Xe.city)!=null&&yt.trim()||(ue.city="City is mandatory for payments.",we===-1&&(we=2)),B(ue),we!==-1?(b(we),f("Please complete all mandatory fields before finishing.","error"),!1):!0},ce=()=>ne(void 0,null,function*(){var ue;if(A){if(!ye())return}else if(!W(p)){f("Please fill all mandatory fields to continue.","error");return}x(!0);try{const te=u.name==="edit_student_profile"&&((ue=u.userToEdit)==null?void 0:ue.id)||(e==null?void 0:e.id),we=q({},h);we.targetAudience==="Other"&&(we.targetAudience=z),te&&(yield s(q({id:te},we))),f("Profile updated successfully!","success");const Te=u.name==="edit_student_profile"&&u.onSaveAndContinue?u.onSaveAndContinue:null;c({name:"none"}),Te&&Te(we)}catch(te){f("Failed to save profile. Please try again.","error")}finally{x(!1)}}),oe=ue=>{const{name:te,value:we}=ue.target;H[te]&&B(Te=>{const Me=q({},Te);return delete Me[te],Me}),te==="targetAudience"&&we!=="Other"&&G(""),m(Te=>X(q({},Te),{[te]:we}))},ge=ue=>{const{name:te,value:we}=ue.target;U(Te=>X(q({},Te),{[te]:we}))},fe=()=>{if(!K.name||!K.date){f("Please provide both an exam name and a date.","error");return}const ue=X(q({},K),{id:gn()});m(te=>X(q({},te),{customExams:[...te.customExams||[],ue]})),U({name:"",date:"",targetAudience:eo[0].value})},be=ue=>{m(te=>X(q({},te),{customExams:(te.customExams||[]).filter(we=>we.id!==ue)}))},Y=ue=>{const{name:te,value:we}=ue.target;H[te]&&B(Te=>{const Me=q({},Te);return delete Me[te],Me}),m(Te=>X(q({},Te),{address:X(q({},Te.address),{[te]:we})}))},re=(ue,te)=>{m(we=>X(q({},we),{[ue]:te}))},me=()=>ne(void 0,null,function*(){var ue;if(I){if(!bt.currentUser){N("Session error. Please try again.");return}D(te=>X(q({},te),{email:!0})),N("");try{h.email!==(e==null?void 0:e.email)&&h.email?(yield a(h.email),e&&(yield s({id:e.id,email:h.email})),f(`Verification link sent to ${h.email}. Check your inbox to complete the update.`,"info")):(yield t(bt.currentUser),f(`Verification email re-sent to ${h.email}.`,"info"))}catch(te){te.message&&te.message.includes("already associated")?N("This email is already in use by another account. Please use a different email or contact support."):te.message&&(te.message.toLowerCase().includes("firebase:")||(ue=te.code)!=null&&ue.toLowerCase().includes("auth/"))?N("An unexpected error occurred while processing your email update. Please try again or contact support if the issue persists."):N(te.message||"Failed to send email.")}finally{D(te=>X(q({},te),{email:!1}))}}}),xe=()=>ne(void 0,null,function*(){var ue;if(I){if(!(e!=null&&e.email)){N("An email address is required to set/reset a password.");return}D(te=>X(q({},te),{password:!0})),N("");try{yield i(e.email),f(`A password reset link has been sent to ${e.email}.`,"info")}catch(te){te.message&&(te.message.toLowerCase().includes("firebase:")||(ue=te.code)!=null&&ue.toLowerCase().includes("auth/"))?N("An unexpected error occurred while sending the password reset link. Please try again or contact support."):N(te.message||"Failed to send password reset email.")}finally{D(te=>X(q({},te),{password:!1}))}}}),se=()=>ne(void 0,null,function*(){var ue;if(I){if(!h.contactNumber){N("Please enter a phone number.");return}D(te=>X(q({},te),{phone:!0})),N("");try{yield r(h.contactNumber),w("enter_otp"),O(Bj)}catch(te){te.message&&(te.message.toLowerCase().includes("firebase:")||(ue=te.code)!=null&&ue.toLowerCase().includes("auth/"))?N("An unexpected error occurred while sending the OTP. Please check the number and try again, or contact support if the issue persists."):N(te.message||"Failed to send OTP. The phone number might be invalid or already in use by another account.")}finally{D(te=>X(q({},te),{phone:!1}))}}}),ee=()=>ne(void 0,null,function*(){var ue;if(I){if(!v||!h.contactNumber){N("Please enter the 6-digit OTP code.");return}D(te=>X(q({},te),{phone:!0})),N("");try{yield n(v,h.contactNumber),w("enter_number"),y("")}catch(te){te.message&&te.message.toLowerCase().includes("already in use")?N("This phone number is already in use by another account. Please use a different number or contact support."):te.message&&(te.message.toLowerCase().includes("firebase:")||(ue=te.code)!=null&&ue.toLowerCase().includes("auth/"))?N("An unexpected error occurred during phone verification. Please try again or contact support."):N(te.message||"Failed to verify OTP. The code may be incorrect or expired.")}finally{D(te=>X(q({},te),{phone:!1}))}}}),ae=(ue,te,we,Te)=>{m(Me=>{const de=(Me[ue]||[]).map(Ce=>Ce.id===te?X(q({},Ce),{[we]:Te}):Ce);return X(q({},Me),{[ue]:de})})},le=ue=>{let te;switch(ue){case"education":te={id:gn(),qualification:"",institution:"",period:""};break;case"experience":te={id:gn(),role:"",organization:"",period:"",description:""};break;case"projects":te={id:gn(),name:"",description:""};break;case"references":te={id:gn(),name:"",title:"",organization:"",email:"",phone:""};break;default:return}m(we=>X(q({},we),{[ue]:[...we[ue]||[],te]}))},Be=(ue,te)=>{m(we=>X(q({},we),{[ue]:(we[ue]||[]).filter(Te=>Te.id!==te)}))},Le=()=>{var ue,te,we,Te,Me,He;switch(p){case 0:return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:"First Name",name:"firstName",value:h.firstName||"",onChange:oe,required:!0,error:H.firstName}),l.jsx(De,{label:"Last Name",name:"lastName",value:h.lastName||"",onChange:oe,required:!0,error:H.lastName})]}),l.jsx(rl,{label:"Gender",name:"gender",value:h.gender||"",onChange:oe,options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"},{value:"Prefer not to say",label:"Prefer not to say"}]}),l.jsx(De,{label:"Date of Birth",name:"dateOfBirth",type:"date",value:h.dateOfBirth||"",onChange:oe}),l.jsx(rl,{label:"Preferred Language",name:"preferredLanguage",value:h.preferredLanguage||"",onChange:oe,options:[{value:"Sinhala",label:"Sinhala"},{value:"English",label:"English"},{value:"Tamil",label:"Tamil"}]}),l.jsx(rl,{label:"Which category best describes you?",name:"targetAudience",value:h.targetAudience||"",onChange:oe,options:eo,required:!0}),h.targetAudience==="Other"&&l.jsx(De,{label:"Please specify",name:"customTargetAudience",value:z,onChange:de=>G(de.target.value),required:!0,placeholder:"e.g., International school grade 8"})]});case 1:return l.jsxs("div",{className:"space-y-4",children:[R&&l.jsx("p",{className:"text-sm text-center text-red-500",children:R}),l.jsxs("div",{className:"p-3 bg-light-background dark:bg-dark-background rounded-md border border-light-border dark:border-dark-border",children:[l.jsx(De,{label:`Email Address ${A?"(Mandatory for payments)":""}`,name:"email",type:"email",value:h.email||"",onChange:oe,placeholder:"Add your email",error:H.email}),I&&l.jsxs("div",{className:"mt-2 flex items-center space-x-4",children:[h.isEmailVerified?l.jsxs("p",{className:"text-sm font-medium text-green-600 dark:text-green-400 flex items-center",children:[l.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Verified"]}):h.email?l.jsx("button",{type:"button",onClick:me,disabled:P.email,className:"text-sm font-medium text-primary hover:text-primary-dark disabled:opacity-50",children:P.email?"Sending...":"Send Verification Link"}):null,h.isEmailVerified&&l.jsx("button",{type:"button",onClick:xe,disabled:P.password,className:"text-sm font-medium text-primary hover:text-primary-dark disabled:opacity-50",children:P.password?"Sending...":"Set / Reset Password"})]}),!I&&l.jsx("p",{className:"mt-2 text-xs text-light-subtle dark:text-dark-subtle italic",children:"Verification options are disabled when editing another user's profile."})]}),l.jsxs("div",{className:"p-3 bg-light-background dark:bg-dark-background rounded-md border border-light-border dark:border-dark-border",children:[E==="enter_number"?l.jsx(De,{label:`Contact Number ${A?"(Mandatory for payments)":""}`,name:"contactNumber",type:"tel",value:h.contactNumber||"",onChange:oe,placeholder:"+94771234567",error:H.contactNumber}):l.jsx(De,{label:"Enter OTP",name:"otp",type:"text",value:v,onChange:de=>y(de.target.value),placeholder:"6-digit code",required:!0}),I&&(h.isMobileVerified?l.jsxs("p",{className:"mt-2 text-sm font-medium text-green-600 dark:text-green-400 flex items-center",children:[l.jsx(Zn,{className:"w-4 h-4 mr-1"}),"Verified"]}):h.contactNumber?E==="enter_number"?l.jsx("button",{type:"button",onClick:se,disabled:P.phone,className:"mt-2 text-sm font-medium text-primary hover:text-primary-dark disabled:opacity-50",children:P.phone?"Sending...":"Verify Number"}):l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("button",{type:"button",onClick:ee,disabled:P.phone,className:"text-sm font-medium text-primary hover:text-primary-dark disabled:opacity-50",children:P.phone?"Verifying...":"Submit Code"}),l.jsxs("button",{type:"button",onClick:se,disabled:C>0||P.phone,className:"text-sm font-medium text-primary hover:text-primary-dark disabled:opacity-50",children:["Resend ",C>0?`(${C}s)`:""]})]}):null)]})]});case 2:return l.jsxs("div",{className:"space-y-4",children:[l.jsx(De,{label:`Address Line 1 ${A?"(Mandatory for payments)":""}`,name:"line1",value:((ue=h.address)==null?void 0:ue.line1)||"",onChange:Y,error:H.line1}),l.jsx(De,{label:"Address Line 2 (Optional)",name:"line2",value:((te=h.address)==null?void 0:te.line2)||"",onChange:Y}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:`City ${A?"(Mandatory for payments)":""}`,name:"city",value:((we=h.address)==null?void 0:we.city)||"",onChange:Y,error:H.city}),l.jsx(De,{label:"State / Province",name:"state",value:((Te=h.address)==null?void 0:Te.state)||"",onChange:Y})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:"Postal Code",name:"postalCode",value:((Me=h.address)==null?void 0:Me.postalCode)||"",onChange:Y}),l.jsx(De,{label:"Country",name:"country",value:((He=h.address)==null?void 0:He.country)||"Sri Lanka",onChange:oe,required:!0,disabled:!0})]})]});case 3:return l.jsxs("div",{className:"space-y-6",children:[l.jsx(da,{label:"Current & Previous Schools",tags:h.schools||[],onTagsChange:de=>re("schools",de)}),l.jsx(da,{label:"Learning Institutes (Online or Physical)",tags:h.learningInstitutes||[],onTagsChange:de=>re("learningInstitutes",de)}),l.jsx(da,{label:"Awards & Achievements",tags:h.achievements||[],onTagsChange:de=>re("achievements",de)}),l.jsx(nl,{label:"Career Aspirations",id:"careerAspirations",name:"careerAspirations",value:h.careerAspirations||"",onChange:oe,rows:3,placeholder:"e.g., Software Engineer, Doctor, Entrepreneur..."}),l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h4",{className:"font-semibold text-light-text dark:text-dark-text mb-2",children:"My Personal Exams"}),l.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2",children:[(h.customExams||[]).map(de=>l.jsxs("div",{className:"flex justify-between items-center p-2 bg-light-surface dark:bg-dark-surface rounded-md",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:de.name}),l.jsx("p",{className:"text-xs text-light-subtle dark:text-dark-subtle",children:new Date(de.date).toLocaleDateString()})]}),l.jsx("button",{type:"button",onClick:()=>be(de.id),className:"p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},de.id)),(h.customExams||[]).length===0&&l.jsx("p",{className:"text-center text-xs text-light-subtle dark:text-dark-subtle py-4",children:"No personal exams added yet."})]}),l.jsxs("div",{className:"mt-4 space-y-3 p-3 border-t border-light-border dark:border-dark-border",children:[l.jsx("h5",{className:"text-sm font-semibold text-light-text dark:text-dark-text",children:"Add New Exam"}),l.jsx(De,{label:"Exam Name",name:"name",value:K.name,onChange:ge,placeholder:"e.g., Mid-term Test"}),l.jsx(De,{label:"Date",name:"date",type:"date",value:K.date,onChange:ge}),l.jsx(rl,{label:"Audience",name:"targetAudience",value:K.targetAudience,onChange:ge,options:eo}),l.jsxs("button",{type:"button",onClick:fe,className:"w-full flex items-center justify-center gap-2 text-sm font-medium text-primary border border-primary rounded-md py-2 hover:bg-primary/10",children:[l.jsx(ri,{className:"w-4 h-4"})," Add Exam"]})]})]})]});case 4:return l.jsxs("div",{className:"space-y-6",children:[l.jsx(nl,{label:"Profile Summary",id:"profileSummary",name:"profileSummary",value:h.profileSummary||"",onChange:oe,rows:4,placeholder:"A brief summary about your academic interests and goals for your CV."}),l.jsx(da,{label:"Technical Skills",tags:h.technicalSkills||[],onTagsChange:de=>re("technicalSkills",de)}),l.jsx(da,{label:"Soft Skills",tags:h.softSkills||[],onTagsChange:de=>re("softSkills",de)}),l.jsx(da,{label:"Languages",tags:h.languages||[],onTagsChange:de=>re("languages",de)}),l.jsx(da,{label:"Certifications & Trainings",tags:h.certifications||[],onTagsChange:de=>re("certifications",de)}),l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h4",{className:"font-semibold mb-2 text-light-text dark:text-dark-text",children:"Work Experience"}),l.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:(h.experience||[]).map(de=>l.jsxs("div",{className:"p-3 bg-light-surface dark:bg-dark-surface rounded-md border border-light-border dark:border-dark-border relative space-y-2",children:[l.jsx(De,{label:"Role",name:"role",value:de.role,onChange:Ce=>ae("experience",de.id,"role",Ce.target.value)}),l.jsx(De,{label:"Organization",name:"organization",value:de.organization,onChange:Ce=>ae("experience",de.id,"organization",Ce.target.value)}),l.jsx(De,{label:"Period",name:"period",value:de.period,onChange:Ce=>ae("experience",de.id,"period",Ce.target.value),placeholder:"e.g., 2023 - Present"}),l.jsx(nl,{label:"Description",id:`exp-desc-${de.id}`,name:"description",value:de.description,onChange:Ce=>ae("experience",de.id,"description",Ce.target.value),rows:3}),l.jsx("button",{type:"button",onClick:()=>Be("experience",de.id),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},de.id))}),l.jsxs("button",{type:"button",onClick:()=>le("experience"),className:"mt-2 w-full flex items-center justify-center gap-2 text-sm font-medium text-primary border-2 border-dashed border-primary/50 rounded-md py-2 hover:bg-primary/10",children:[l.jsx(ri,{className:"w-4 h-4"})," Add Experience"]})]}),l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h4",{className:"font-semibold mb-2 text-light-text dark:text-dark-text",children:"Education History"}),l.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:(h.education||[]).map(de=>l.jsxs("div",{className:"p-3 bg-light-surface dark:bg-dark-surface rounded-md border border-light-border dark:border-dark-border relative space-y-2",children:[l.jsx(De,{label:"Qualification",name:"qualification",value:de.qualification,onChange:Ce=>ae("education",de.id,"qualification",Ce.target.value)}),l.jsx(De,{label:"Institution",name:"institution",value:de.institution,onChange:Ce=>ae("education",de.id,"institution",Ce.target.value)}),l.jsx(De,{label:"Period",name:"period",value:de.period,onChange:Ce=>ae("education",de.id,"period",Ce.target.value),placeholder:"e.g., 2020 - 2024"}),l.jsx("button",{type:"button",onClick:()=>Be("education",de.id),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},de.id))}),l.jsxs("button",{type:"button",onClick:()=>le("education"),className:"mt-2 w-full flex items-center justify-center gap-2 text-sm font-medium text-primary border-2 border-dashed border-primary/50 rounded-md py-2 hover:bg-primary/10",children:[l.jsx(ri,{className:"w-4 h-4"})," Add Education"]})]}),l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h4",{className:"font-semibold mb-2 text-light-text dark:text-dark-text",children:"Projects"}),l.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:(h.projects||[]).map(de=>l.jsxs("div",{className:"p-3 bg-light-surface dark:bg-dark-surface rounded-md border border-light-border dark:border-dark-border relative space-y-2",children:[l.jsx(De,{label:"Project Name",name:"name",value:de.name,onChange:Ce=>ae("projects",de.id,"name",Ce.target.value)}),l.jsx(nl,{label:"Description",id:`proj-desc-${de.id}`,name:"description",value:de.description,onChange:Ce=>ae("projects",de.id,"description",Ce.target.value),rows:3}),l.jsx("button",{type:"button",onClick:()=>Be("projects",de.id),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},de.id))}),l.jsxs("button",{type:"button",onClick:()=>le("projects"),className:"mt-2 w-full flex items-center justify-center gap-2 text-sm font-medium text-primary border-2 border-dashed border-primary/50 rounded-md py-2 hover:bg-primary/10",children:[l.jsx(ri,{className:"w-4 h-4"})," Add Project"]})]}),l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h4",{className:"font-semibold mb-2 text-light-text dark:text-dark-text",children:"References"}),l.jsx("div",{className:"space-y-4 max-h-60 overflow-y-auto pr-2",children:(h.references||[]).map(de=>l.jsxs("div",{className:"p-3 bg-light-surface dark:bg-dark-surface rounded-md border border-light-border dark:border-dark-border relative space-y-2",children:[l.jsx(De,{label:"Full Name",name:"name",value:de.name,onChange:Ce=>ae("references",de.id,"name",Ce.target.value)}),l.jsx(De,{label:"Title / Position",name:"title",value:de.title,onChange:Ce=>ae("references",de.id,"title",Ce.target.value)}),l.jsx(De,{label:"Organization",name:"organization",value:de.organization,onChange:Ce=>ae("references",de.id,"organization",Ce.target.value)}),l.jsx(De,{label:"Email",name:"email",value:de.email,onChange:Ce=>ae("references",de.id,"email",Ce.target.value)}),l.jsx(De,{label:"Phone",name:"phone",value:de.phone,onChange:Ce=>ae("references",de.id,"phone",Ce.target.value)}),l.jsx("button",{type:"button",onClick:()=>Be("references",de.id),className:"absolute top-2 right-2 p-1 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},de.id))}),l.jsxs("button",{type:"button",onClick:()=>le("references"),className:"mt-2 w-full flex items-center justify-center gap-2 text-sm font-medium text-primary border-2 border-dashed border-primary/50 rounded-md py-2 hover:bg-primary/10",children:[l.jsx(ri,{className:"w-4 h-4"})," Add Reference"]})]})]});default:return null}};return l.jsx(Tn,{isOpen:u.name==="edit_student_profile",onClose:j,title:"Complete Your Profile",size:"3xl",children:l.jsxs("div",{className:"space-y-4",children:[A&&l.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 rounded-r-md text-yellow-800 dark:text-yellow-200",children:l.jsxs("p",{className:"text-sm font-medium",children:[l.jsx("b",{children:"Action Required:"})," To proceed with your payment, please complete the required fields in your profile (name, contact, address). This information is necessary for our payment gateway to process the transaction securely."]})}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Rj,{value:L,max:100}),l.jsxs("span",{className:"font-bold text-lg text-light-text dark:text-dark-text",children:[L,"%"]})]}),l.jsxs("div",{className:"relative p-4 bg-light-background dark:bg-dark-background rounded-lg border border-light-border dark:border-dark-border min-h-[300px]",children:[l.jsx("h3",{className:"text-lg font-bold mb-4 text-light-text dark:text-dark-text",children:F[p].name}),Le()]}),l.jsxs("div",{className:"flex justify-between items-center pt-4",children:[l.jsxs("button",{onClick:()=>b(ue=>ue-1),disabled:p===0||S,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium border border-primary text-primary rounded-md hover:bg-primary/10 transition-colors disabled:opacity-50",children:[l.jsx(G8,{className:"w-4 h-4"}),l.jsx("span",{children:"Previous"})]}),l.jsxs("button",{onClick:p<F.length-1?pe:ce,disabled:S,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary-dark transition-colors disabled:opacity-50",children:[l.jsx("span",{children:S?"Saving...":p===F.length-1?"Finish":"Continue"}),p<F.length-1?l.jsx(Y8,{className:"w-4 h-4"}):l.jsx(Zn,{className:"w-4 h-4"})]})]})]})})},dy="youtube-player-container",Fj=({videoId:e,currentUser:t})=>{const r=T.useRef(null),n=T.useRef(null),[a,i]=T.useState(!1),[s,u]=T.useState(!1),[c,f]=T.useState(!1),[h,m]=T.useState(!1),p=T.useRef(null),[b,S]=T.useState("");T.useEffect(()=>{if(t&&a){const P=setInterval(()=>{S(new Date().toLocaleString())},1e3);return()=>clearInterval(P)}},[t,a]);const x=t?`${t.firstName} ${t.lastName} (${t.id}) - ${b}`:"";if(T.useEffect(()=>{const P=()=>{window.YT&&(console.log(`[YouTubePlayer.tsx] Creating player for videoId: ${e}`),r.current&&r.current.destroy(),r.current=new window.YT.Player(dy,{videoId:e,playerVars:{autoplay:1,controls:0,rel:0,mute:0,loop:1,playlist:e,iv_load_policy:3,origin:window.location.origin},events:{onReady:()=>{var D;console.log("[YouTubePlayer.tsx] Player is ready."),(D=r.current)==null||D.setVolume(100),u(!0)},onStateChange:D=>{D.data===window.YT.PlayerState.PLAYING?i(!0):i(!1)}}}))};if(window.onYouTubeIframeAPIReady=P,window.YT&&window.YT.Player)P();else if(!document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){console.log("[YouTubePlayer.tsx] Loading YouTube IFrame API script.");const D=document.createElement("script");D.src="https://www.youtube.com/iframe_api",document.body.appendChild(D)}return()=>{var D;(D=r.current)==null||D.destroy(),r.current=null,console.log("[YouTubePlayer.tsx] Player destroyed on cleanup.")}},[e]),T.useEffect(()=>{const P=()=>{var N;a&&(console.warn("[Security] Potential screen recording detected (Focus Lost). Pausing video."),(N=r.current)==null||N.pauseVideo(),f(!0))},D=()=>{c&&(console.log("[Security] User returned to view."),f(!1))},R=()=>{document.visibilityState==="hidden"?P():D()};return window.addEventListener("blur",P),document.addEventListener("visibilitychange",R),window.addEventListener("focus",D),()=>{window.removeEventListener("blur",P),document.removeEventListener("visibilitychange",R),window.removeEventListener("focus",D)}},[a,c]),T.useEffect(()=>{const P=()=>{p.current&&clearInterval(p.current),p.current=window.setInterval(()=>{var R;Math.random()<.008333333333333333&&(console.warn("[Security] Active analysis detected potential screen capture. Pausing video."),(R=r.current)==null||R.pauseVideo(),m(!0),p.current&&clearInterval(p.current))},2500)},D=()=>{p.current&&(clearInterval(p.current),p.current=null)};return a&&!c&&!h?P():D(),()=>D()},[a,c,h]),!e)return l.jsx("div",{className:"aspect-video w-full rounded-lg bg-black flex items-center justify-center",children:l.jsx("p",{className:"text-red-500",children:"Invalid YouTube Video ID provided."})});const E=()=>{var P;m(!1),(P=r.current)==null||P.playVideo()},w=()=>{var P;(P=r.current)==null||P.pauseVideo()},v=()=>{var P;(P=r.current)==null||P.stopVideo()},y=()=>{if(!r.current)return;const P=r.current.getCurrentTime()||0,D=Math.max(0,P-10);r.current.seekTo(D,!0)},C=()=>{if(!r.current)return;const P=r.current.getCurrentTime()||0,D=r.current.getDuration()||0,R=Math.min(D,P+10);r.current.seekTo(R,!0)},O=()=>{const P=n.current;P&&(P.requestFullscreen?P.requestFullscreen():P.mozRequestFullScreen?P.mozRequestFullScreen():P.webkitRequestFullscreen?P.webkitRequestFullscreen():P.msRequestFullscreen&&P.msRequestFullscreen())};return l.jsxs("div",{children:[l.jsxs("div",{ref:n,className:"relative aspect-video w-full rounded-lg bg-black shadow-2xl overflow-hidden",children:[l.jsx("div",{id:dy,className:"absolute top-0 left-0 w-full h-full"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden",onContextMenu:P=>P.preventDefault(),children:a&&t&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute text-white/30 text-xl font-mono whitespace-nowrap select-none pointer-events-none",style:{animation:"flow-watermark 20s linear infinite",animationDelay:"0s"},children:x}),l.jsx("div",{className:"absolute text-white/30 text-xl font-mono whitespace-nowrap select-none pointer-events-none",style:{animation:"flow-watermark-reverse 18s linear infinite",animationDelay:"-10s"},children:x}),l.jsx("div",{className:"absolute text-white/30 text-xl font-mono whitespace-nowrap select-none pointer-events-none",style:{animation:"flow-watermark 22s linear infinite",animationDelay:"-5s"},children:x})]})}),(c||h)&&l.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-80 flex flex-col items-center justify-center text-center p-4 z-10 transition-opacity duration-300",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mt-4",children:"Playback Paused"}),h?l.jsx("p",{className:"text-gray-300 mt-2 max-w-md",children:"Active security monitoring has detected a potential screen recording threat. Playback has been stopped."}):l.jsxs("p",{className:"text-gray-300 mt-2 max-w-md",children:["For security reasons, video playback is paused when the tab is not active.",l.jsx("br",{}),"Please use the controls to resume."]})]})]}),l.jsxs("div",{className:"flex justify-center items-center flex-wrap gap-2 mt-6",children:[l.jsxs("button",{onClick:y,disabled:!s,"aria-label":"Rewind 10 seconds",className:"w-28 flex items-center justify-center gap-2 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75",children:[l.jsx(fj,{className:"h-6 w-6"}),l.jsx("span",{children:"Rewind"})]}),l.jsxs("button",{onClick:E,disabled:a||!s,"aria-label":"Play video",className:"w-28 flex items-center justify-center gap-2 bg-cyan-500 hover:bg-cyan-600 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-opacity-75",children:[l.jsx(uj,{className:"h-6 w-6"}),l.jsx("span",{children:"Play"})]}),l.jsxs("button",{onClick:w,disabled:!a||!s,"aria-label":"Pause video",className:"w-28 flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-opacity-75",children:[l.jsx(lj,{className:"h-6 w-6"}),l.jsx("span",{children:"Pause"})]}),l.jsxs("button",{onClick:v,disabled:!s,"aria-label":"Stop video",className:"w-28 flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-75",children:[l.jsx(dj,{className:"h-6 w-6"}),l.jsx("span",{children:"Stop"})]}),l.jsxs("button",{onClick:C,disabled:!s,"aria-label":"Forward 10 seconds",className:"w-28 flex items-center justify-center gap-2 bg-gray-500 hover:bg-gray-600 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75",children:[l.jsx(hj,{className:"h-6 w-6"}),l.jsx("span",{children:"Forward"})]}),l.jsxs("button",{onClick:O,disabled:!s,"aria-label":"Enter fullscreen",className:"w-28 flex items-center justify-center gap-2 bg-indigo-500 hover:bg-indigo-600 disabled:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-3 px-4 rounded-lg transition-all duration-200 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-75",children:[l.jsx(cj,{className:"h-6 w-6"}),l.jsx("span",{children:"Fullscreen"})]})]})]})},zj=e=>{const{url:t}=e.contentState.getEntity(e.entityKey).getData(),r=t&&!t.startsWith("http")?`https://${t}`:t;return l.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:e.children})},Uj=(e,t,r)=>{e.findEntityRanges(n=>{const a=n.getEntity();return a!==null&&r.getEntity(a).getType()==="LINK"},t)},Hj=({content:e,className:t})=>{if(T.useMemo(()=>{if(!e||typeof e!="string"||!e.startsWith("{"))return!1;try{const i=JSON.parse(e);return typeof i=="object"&&i!==null&&Array.isArray(i.blocks)&&"entityMap"in i}catch(i){return!1}},[e])){const i=T.useMemo(()=>{try{const u=new at.CompositeDecorator([{strategy:Uj,component:zj}]),c=JSON.parse(e),f=at.convertFromRaw(c);return at.EditorState.createWithContent(f,u)}catch(u){return console.error("Error creating Draft.js state from raw content, falling back to plain text:",u),at.EditorState.createWithContent(at.ContentState.createFromText(e))}},[e]);return l.jsx("div",{className:`prose prose-slate dark:prose-invert max-w-none prose-p:my-2 ${t||""}`,children:l.jsx(at.Editor,{editorState:i,onChange:()=>{},readOnly:!0})})}const n=T.useMemo(()=>{if(typeof marked=="undefined"||typeof DOMPurify=="undefined"||!e)return{__html:"<p>"+(e?String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):"").replace(/\\n/g,"<br />").replace(/\n/g,"<br />")+"</p>"};const i=e.replace(/\\n/g,`
`),s=marked.parse(i,{gfm:!0,breaks:!0});return{__html:DOMPurify.sanitize(s)}},[e]);return l.jsx("div",{className:`
        prose 
        prose-slate 
        dark:prose-invert 
        max-w-none 
        prose-p:leading-relaxed 
        prose-p:my-2
        prose-headings:my-2 
        prose-a:text-primary 
        prose-a:no-underline 
        hover:prose-a:underline
     ${t||""}`,dangerouslySetInnerHTML:n})},Wj=()=>{const{videoPlayerState:e,setVideoPlayerState:t}=At(),{isOpen:r,lecture:n,course:a,isEnrolled:i}=e,{currentUser:s}=Gt(),{logLectureWatch:u}=ln(),[c,f]=T.useState(n),[h,m]=T.useState({provider:"unknown",videoId:null}),p=w=>{if(!w)return{provider:"unknown",videoId:null};try{const v=new URL(w);if(v.hostname.includes("vimeo.com"))return{provider:"vimeo",videoId:v.pathname.split("/").pop()};if(v.hostname.includes("youtube.com")||v.hostname.includes("youtu.be")){let y=null;if(v.hostname.includes("youtu.be"))y=v.pathname.split("/").pop()||null;else if(v.pathname.includes("/shorts/")){const C=v.pathname.split("/shorts/");y=C[1]?C[1].split("/")[0]:null}else y=v.searchParams.get("v");return{provider:"youtube",videoId:y}}if(v.hostname.includes("drive.google.com")){const y=v.pathname.split("/"),C=y.indexOf("d");if(C>-1&&y.length>C+1)return{provider:"googledrive",videoId:y[C+1]}}}catch(v){console.error("Invalid video URL",v)}return{provider:"unknown",videoId:null}};T.useEffect(()=>{r?(f(n),n!=null&&n.videoUrl&&m(p(n.videoUrl))):m({provider:"unknown",videoId:null})},[r,n]),T.useEffect(()=>{r&&a&&c&&i&&u(a.id,c.id)},[r,a,c,i,u]);const b=w=>{if(!w)return null;try{const v=new URL(w);if(v.hostname.includes("vimeo.com"))return`https://player.vimeo.com/video/${v.pathname.split("/").pop()}?autoplay=1`;if(v.hostname.includes("youtube.com")||v.hostname.includes("youtu.be"))return`https://www.youtube.com/embed/${v.hostname.includes("youtu.be")?v.pathname.split("/").pop():v.searchParams.get("v")}?autoplay=1`;if(v.hostname.includes("drive.google.com")){const y=v.pathname.split("/"),C=y.indexOf("d");if(C>-1&&y.length>C+1)return`https://drive.google.com/file/d/${y[C+1]}/preview`}}catch(v){return console.error("Invalid video URL",v),null}return w},S=T.useCallback(()=>t({isOpen:!1,lecture:null,course:null,isEnrolled:!1}),[t]);if(!r||!a||!c)return null;const x=b(c.videoUrl),E=w=>{(i||w.isFreePreview)&&(f(w),m(p(w.videoUrl)))};return l.jsx(Tn,{isOpen:r,onClose:S,title:a.title,size:"5xl",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2",children:[h.provider==="youtube"&&h.videoId?l.jsx(Fj,{videoId:h.videoId,currentUser:s}):l.jsx("div",{className:"aspect-video bg-black rounded-lg",children:x?l.jsx("iframe",{src:x,className:"w-full h-full rounded-lg",frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:c.title}):l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-light-subtle dark:text-dark-subtle",children:[l.jsx(qx,{className:"w-16 h-16 text-gray-400 dark:text-gray-600"}),l.jsx("p",{className:"mt-4 font-semibold",children:"Video not available"}),l.jsx("p",{className:"text-sm",children:"The link for this lecture may be missing or invalid."})]})}),l.jsxs("div",{className:"mt-4 p-2",children:[l.jsx("h2",{className:"text-2xl font-bold text-light-text dark:text-dark-text",children:c.title}),l.jsx(Hj,{content:c.description||"",className:"mt-2 text-sm text-light-subtle dark:text-dark-subtle"})]})]}),l.jsxs("div",{className:"lg:col-span-1",children:[l.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Course Content"}),l.jsx("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto pr-2",children:a.lectures.map((w,v)=>{const y=i||w.isFreePreview,C=w.id===c.id;return l.jsxs("button",{disabled:!y,onClick:()=>E(w),className:`w-full flex items-center justify-between p-3 rounded-md border text-left transition-colors
                                ${C?"bg-primary/10 border-primary":"bg-light-background dark:bg-dark-background border-light-border dark:border-dark-border"}
                                ${y?"cursor-pointer hover:border-primary":"cursor-not-allowed opacity-70"}
                            `,children:[l.jsxs("div",{className:"flex items-start",children:[l.jsx("span",{className:`mr-3 mt-1 font-bold text-sm ${C?"text-primary":"text-light-subtle dark:text-dark-subtle"}`,children:v+1}),l.jsxs("div",{children:[l.jsx("p",{className:`font-semibold ${C?"text-primary":"text-light-text dark:text-dark-text"}`,children:w.title}),l.jsxs("p",{className:"text-xs text-light-subtle dark:text-dark-subtle",children:[w.durationMinutes," mins",w.isFreePreview&&l.jsx("span",{className:"text-green-500 font-medium ml-2",children:"(Free Preview)"})]})]})]}),l.jsx("div",{className:"flex-shrink-0 ml-2",children:y?l.jsx(sj,{className:`w-6 h-6 ${C?"text-primary":"text-light-subtle dark:text-dark-subtle"}`}):l.jsx(ij,{className:"w-5 h-5 text-light-subtle dark:text-dark-subtle"})})]},w.id)})})]})]})})},qj=({label:e,currentImage:t,onImageChange:r,aspectRatio:n="aspect-video"})=>{const a=T.useRef(null),i=()=>{var f;(f=a.current)==null||f.click()},s=f=>{var b;const h=(b=f.target.files)==null?void 0:b[0];if(!h)return;const m=5;if(h.size>m*1024*1024){alert(`File size exceeds the ${m}MB limit. Please upload a smaller image.`),f.target&&(f.target.value="");return}const p=new FileReader;p.onload=S=>{var E;const x=(E=S.target)==null?void 0:E.result;x&&r(x)},p.readAsDataURL(h),f.target&&(f.target.value="")},u=n==="aspect-square"?"Recommended: Square image (1:1)":"Recommended: Landscape image (16:9)",c=Li(t||"",400);return l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1",children:e}),l.jsxs("div",{onClick:i,className:`relative w-full ${n} rounded-md border-2 border-dashed border-light-border dark:border-dark-border cursor-pointer group flex items-center justify-center bg-light-background dark:bg-dark-background hover:border-primary dark:hover:border-primary transition-colors`,children:[l.jsx("input",{type:"file",ref:a,onChange:s,accept:"image/png, image/jpeg, image/webp",className:"hidden"}),t?l.jsxs(l.Fragment,{children:[l.jsx("img",{src:t.startsWith("data:")?t:c,alt:"Preview",className:"w-full h-full object-cover rounded-md",crossOrigin:"anonymous"}),l.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-md flex items-center justify-center text-white opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs("div",{className:"text-center",children:[l.jsx(oj,{className:"w-8 h-8 mx-auto"}),l.jsx("p",{className:"text-sm font-semibold mt-1",children:"Change Image"})]})})]}):l.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[l.jsx(tj,{className:"w-10 h-10 mx-auto"}),l.jsx("p",{className:"mt-2 text-sm",children:"Click to upload an image"}),l.jsx("p",{className:"text-xs",children:u})]})]}),l.jsx("p",{className:"text-xs text-light-subtle dark:text-dark-subtle mt-1 text-center sm:text-left",children:"Max file size: 5MB. Accepted types: PNG, JPG, WEBP."})]})},Vj=e=>l.jsxs("svg",X(q({className:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e),{children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})),Gj=()=>{const{imageUploadModal:e,setImageUploadModal:t}=At(),{handleImageSave:r}=ln(),[n,a]=T.useState(null),[i,s]=T.useState(null),[u,c]=T.useState(1),[f,h]=T.useState({x:0,y:0}),[m,p]=T.useState(!1),[b,S]=T.useState({x:0,y:0}),x=T.useRef(null),E=T.useRef(null),[w,v]=T.useState(!1),y=e.type==="profile"||e.type==="student_profile",C=T.useCallback(()=>{w||(t({isOpen:!1,type:null,context:void 0}),a(null),s(null),E.current=null)},[w,t]);T.useEffect(()=>{e.isOpen||(s(null),a(null),E.current=null)},[e.isOpen]);const O=T.useCallback(()=>{const A=x.current,j=E.current;if(!A||!j)return;const I=A.getContext("2d");if(!I)return;const L=A.width;I.clearRect(0,0,L,L);const F=Math.max(L/j.width,L/j.height),W=Math.max(u,F),pe=j.width*W,ye=j.height*W,ce=(L-pe)/2+f.x,oe=(L-ye)/2+f.y;I.drawImage(j,ce,oe,pe,ye)},[u,f]);T.useEffect(()=>{i&&E.current&&O()},[i,O]);const P=A=>{if(y){const j=new Image;j.onload=()=>{E.current=j;const I=x.current,L=I?I.width:300,F=Math.max(L/j.width,L/j.height);c(F),h({x:0,y:0}),s(A)},j.src=A}else a(A)},D=()=>{const A=x.current,j=E.current;if(!A||!j)return null;const I=256,L=document.createElement("canvas");L.width=I,L.height=I;const F=L.getContext("2d");if(!F)return null;const W=A.width,pe=Math.max(W/j.width,W/j.height),ye=Math.max(u,pe),ce=j.width*ye,oe=j.height*ye,ge=(W-ce)/2+f.x,fe=(W-oe)/2+f.y,be=-ge/ye,Y=-fe/ye,re=W/ye;return F.drawImage(j,be,Y,re,re,0,0,I,I),L.toDataURL("image/png")},R=()=>ne(void 0,null,function*(){let A=null;if(y?A=D():A=n,A&&!w){v(!0);try{yield r(A,e.type,e.context)}finally{v(!1),C()}}}),N=A=>{A.preventDefault(),p(!0),S({x:A.clientX,y:A.clientY})},z=A=>{if(!m)return;const j=A.clientX-b.x,I=A.clientY-b.y;h(L=>({x:L.x+j,y:L.y+I})),S({x:A.clientX,y:A.clientY})},G=()=>p(!1),K=A=>{A.preventDefault(),c(j=>Math.max(.1,j-A.deltaY*.001))},U=()=>{const A=e.type;return A==="student_profile"?"Update Your Profile Picture":A==="profile"?"Update Profile Picture":A==="cover_add"?"Add New Cover Image":A==="id_verification_front"||A==="id_verification_back"?"Upload ID Verification":A==="bank_verification"?"Upload Bank Verification":A==="admin_default_cover"?"Add Default Cover Image":"Change Cover Image"},H=()=>{const A=E.current?Math.max(300/E.current.width,300/E.current.height):.1;return l.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[l.jsx("div",{className:"relative w-[300px] h-[300px] bg-light-border dark:bg-dark-border rounded-full touch-none cursor-move overflow-hidden",onPointerDown:N,onPointerMove:z,onPointerUp:G,onPointerLeave:G,onWheel:K,children:l.jsx("canvas",{ref:x,width:300,height:300,className:"absolute top-0 left-0"})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-light-text dark:text-dark-text mb-1 text-center",children:"Zoom"}),l.jsx("input",{type:"range",min:A,max:A+2,step:"0.01",value:u,onChange:j=>c(parseFloat(j.target.value)),className:"w-64"})]}),l.jsx("button",{onClick:()=>s(null),className:"text-sm text-primary hover:underline",children:"Change Image"})]})},B=()=>{const A=e.type==="profile"||e.type==="student_profile"?"aspect-square":"aspect-video";return l.jsx(qj,{label:y?"Select an image to crop":"Select an image",currentImage:n,onImageChange:y?P:a,aspectRatio:A})};return l.jsx(Tn,{isOpen:e.isOpen,onClose:C,title:U(),children:l.jsxs("div",{className:"space-y-4",children:[y&&i?H():B(),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsx("button",{type:"button",onClick:R,disabled:!n&&!i||w,className:"inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-light transition-colors disabled:opacity-50",children:w?l.jsxs(l.Fragment,{children:[l.jsx(Vj,{className:"w-5 h-5 mr-2"}),"Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Z8,{className:"w-5 h-5 mr-2"}),"Save Image"]})})})]})})},Yj=({toast:e,onRemove:t})=>{T.useEffect(()=>{const a=setTimeout(()=>{t(e.id)},5e3);return()=>clearTimeout(a)},[e.id,t]);const r={success:"bg-green-100 dark:bg-green-900 border-green-500 text-green-800 dark:text-green-200",error:"bg-red-100 dark:bg-red-900 border-red-500 text-red-800 dark:text-red-200",info:"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-800 dark:text-blue-200"},n={success:l.jsx(Zn,{className:"w-5 h-5"}),error:l.jsx(rj,{className:"w-5 h-5"}),info:l.jsx(Zn,{className:"w-5 h-5"})};return l.jsxs("div",{className:`flex items-center w-full max-w-sm p-4 space-x-4 rounded-lg shadow-lg border-l-4 animate-fadeIn ${r[e.type]}`,role:"alert",children:[l.jsx("div",{className:"flex-shrink-0",children:n[e.type]}),l.jsx("div",{className:"text-sm font-medium",children:e.message}),l.jsxs("button",{type:"button",className:"ml-auto -mx-1.5 -my-1.5 p-1.5 rounded-lg inline-flex h-8 w-8 hover:bg-white/20",onClick:()=>t(e.id),"aria-label":"Close",children:[l.jsx("span",{className:"sr-only",children:"Close"}),l.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})},Qj=()=>{const{toasts:e,removeToast:t}=At();return e.length===0?null:l.jsx("div",{className:"fixed top-20 right-4 z-50 space-y-3",children:e.map(r=>l.jsx(Yj,{toast:r,onRemove:t},r.id))})},Jj=()=>{const{prePurchaseVerificationModal:e,setPrePurchaseVerificationModal:t,setModalState:r}=At(),{currentUser:n,handleResendVerificationEmail:a}=Gt(),{isOpen:i,missing:s,onSkip:u}=e,[c,f]=T.useState(!1),[h,m]=T.useState(""),[p,b]=T.useState(""),S=T.useCallback(()=>{t({isOpen:!1})},[t]);T.useEffect(()=>{i&&(m(""),f(!1),b(""))},[i]);const x=()=>ne(void 0,null,function*(){if(!bt.currentUser){m("Session error. Please log out and log back in.");return}f(!0),m("");try{yield a(bt.currentUser),b(`A verification link has been sent to ${bt.currentUser.email}. Please check your inbox (and spam folder), click the link, and then you can close this window and try your purchase again.`)}catch(C){m(C.message||"Failed to send verification email.")}finally{f(!1)}}),E=()=>{S(),r({name:"edit_student_profile"})},w=()=>{u&&(u(),S())},v=()=>p?l.jsxs("div",{className:"text-center p-4 animate-fadeIn",children:[l.jsx(Zn,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold",children:"Success!"}),l.jsx("p",{className:"text-light-subtle dark:text-dark-subtle mt-2",children:p})]}):s==="email"?n!=null&&n.email?l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-center text-light-subtle dark:text-dark-subtle",children:"Your email address is not verified. Please click the button below to receive a verification link."}),l.jsx("div",{className:"p-4 bg-light-background dark:bg-dark-background rounded-md border border-light-border dark:border-dark-border text-center",children:l.jsx("p",{className:"font-semibold text-light-text dark:text-dark-text",children:n==null?void 0:n.email})}),h&&l.jsx("p",{className:"text-sm text-red-500 text-center",children:h}),l.jsxs("div",{className:"pt-2 space-y-2",children:[l.jsxs("button",{onClick:x,disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark disabled:opacity-50",children:[l.jsx(Vh,{className:"w-5 h-5 mr-2"}),c?"Sending...":"Send Verification Link"]}),l.jsx("button",{onClick:w,className:"w-full text-center text-sm text-light-subtle dark:text-dark-subtle hover:text-primary hover:underline",children:"Skip for now"})]})]}):l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle",children:"A verified email address is suggested for course updates."}),l.jsxs("div",{className:"pt-2 space-y-2",children:[l.jsx("button",{onClick:E,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark",children:"Go to Profile"}),l.jsx("button",{onClick:w,className:"w-full text-sm text-light-subtle dark:text-dark-subtle hover:text-primary hover:underline",children:"Skip for now"})]})]}):s==="mobile"?n!=null&&n.contactNumber?l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsxs("p",{className:"text-sm text-light-subtle dark:text-dark-subtle",children:["Your mobile number ",l.jsx("span",{className:"font-semibold",children:n.contactNumber})," is not verified."]}),l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle",children:"Please go to your profile to complete the verification process."}),l.jsxs("div",{className:"pt-2 space-y-2",children:[l.jsx("button",{onClick:E,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark",children:"Go to Profile"}),l.jsx("button",{onClick:w,className:"w-full text-sm text-light-subtle dark:text-dark-subtle hover:text-primary hover:underline",children:"Skip for now"})]})]}):l.jsxs("div",{className:"space-y-4 text-center",children:[l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle",children:"A verified mobile number is recommended for important alerts."}),l.jsxs("div",{className:"pt-2 space-y-2",children:[l.jsx("button",{onClick:E,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark",children:"Go to Profile"}),l.jsx("button",{onClick:w,className:"w-full text-sm text-light-subtle dark:text-dark-subtle hover:text-primary hover:underline",children:"Skip for now"})]})]}):null,y=s==="email"?"Verify Your Email":"Verify Your Mobile Number";return l.jsx(Tn,{isOpen:i,onClose:S,title:y,children:v()})},Xj=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(!1);T.useEffect(()=>{const i=()=>{const s=window.scrollY>200,u=window.scrollY>window.innerHeight/2;t(s),n(u)};return window.addEventListener("scroll",i,{passive:!0}),()=>window.removeEventListener("scroll",i)},[]);const a=()=>{r?window.scrollTo({top:0,behavior:"smooth"}):window.scrollBy({top:window.innerHeight*.8,behavior:"smooth"})};return l.jsx("button",{onClick:a,className:`fixed bottom-36 md:bottom-24 right-8 z-50 p-3 rounded-full bg-primary/70 dark:bg-primary/50 text-white backdrop-blur-sm shadow-lg hover:bg-primary dark:hover:bg-primary/80 transition-all duration-300 ${e?"opacity-100 scale-100":"opacity-0 scale-0"}`,"aria-label":r?"Scroll to top":"Scroll down",children:r?l.jsx(Q8,{className:"w-6 h-6"}):l.jsx(J8,{className:"w-6 h-6"})})},Zj=()=>{const{modalState:e,setModalState:t,cart:r,removeFromCart:n,updateCartItemQuantity:a,clearCart:i,addToast:s}=At(),{tuitionInstitutes:u,teachers:c}=ln(),{handleNavigate:f}=Ir(),{currentUser:h}=Gt(),[m,p]=T.useState("cart"),[b,S]=T.useState({billingFirstName:"",billingLastName:"",billingEmail:"",billingContactNumber:"",billingAddressLineOne:"",billingCity:"",billingState:"",billingPostalCode:"",billingCountry:"Sri Lanka"}),[x,E]=T.useState({line1:"",line2:"",city:"",state:"",postalCode:"",country:"Sri Lanka"}),[w,v]=T.useState(!0),y=e.name==="cart",C=T.useMemo(()=>r.some(B=>B.type==="product"&&B.product.type==="physical"||B.type==="photo_print"),[r]);T.useEffect(()=>{y&&m==="billing"&&h&&S(B=>{var A,j,I,L;return X(q({},B),{billingFirstName:B.billingFirstName||h.firstName,billingLastName:B.billingLastName||h.lastName,billingEmail:B.billingEmail||h.email,billingContactNumber:B.billingContactNumber||h.contactNumber||"",billingAddressLineOne:B.billingAddressLineOne||((A=h.address)==null?void 0:A.line1)||"",billingCity:B.billingCity||((j=h.address)==null?void 0:j.city)||"",billingState:B.billingState||((I=h.address)==null?void 0:I.state)||"",billingPostalCode:B.billingPostalCode||((L=h.address)==null?void 0:L.postalCode)||"",billingCountry:"Sri Lanka"})})},[y,m,h]);const O=T.useCallback(()=>{p("cart"),t({name:"none"})},[t]),{subtotal:P,discount:D,total:R,groupedBySeller:N}=T.useMemo(()=>{var F,W;let B=0;const A={};r.forEach(pe=>{let ye=0,ce="",oe="Unknown Seller";if(pe.type==="product"){const ge=pe;ye=ge.product.price*ge.quantity,ce=ge.product.teacherId;const fe=c.find(be=>be.id===ce);oe=(fe==null?void 0:fe.name)||"Unknown Teacher"}else{const ge=pe;ye=ge.price*ge.quantity,ce=ge.instituteId;const fe=u.find(be=>be.id===ce);oe=(fe==null?void 0:fe.name)||"Unknown Institute"}B+=ye,A[ce]||(A[ce]={name:oe,items:[]}),A[ce].items.push(pe)});let j=0;const I=r.filter(pe=>pe.type.startsWith("photo"));if(I.length>0){const pe=I[0],ye=u.find(ge=>ge.id===pe.instituteId),ce=(F=ye==null?void 0:ye.events)==null?void 0:F.find(ge=>ge.id===pe.eventId),oe=((W=ce==null?void 0:ce.gallery)==null?void 0:W.bulkDiscounts)||[];if(oe.length>0){const ge=[...oe].sort((fe,be)=>be.quantity-fe.quantity);for(const fe of ge)if(I.length>=fe.quantity){j=I.reduce((Y,re)=>Y+re.price*re.quantity,0)*(fe.discountPercent/100);break}}}const L=B-j;return{subtotal:B,discount:j,total:L,groupedBySeller:A}},[r,u,c]),z=new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR"}),G=B=>{S(A=>X(q({},A),{[B.target.name]:B.target.value}))},K=B=>{E(A=>X(q({},A),{[B.target.name]:B.target.value}))},U=B=>{var I;if(B==null||B.preventDefault(),r.length===0)return;const A=C?w?{line1:b.billingAddressLineOne,city:b.billingCity||"",state:b.billingState||"",postalCode:b.billingPostalCode||"",country:b.billingCountry||"Sri Lanka"}:x:void 0;if(r.some(L=>L.type.startsWith("photo"))){const L=r,F=(I=L[0])==null?void 0:I.instituteId;if(!F){s("Could not process photo order. Missing event information.","error");return}f({name:"payment_redirect",payload:{type:"photo_purchase",cart:L,totalAmount:R,instituteId:F,billingDetails:b,shippingAddress:A}})}else f({name:"payment_redirect",payload:{type:"marketplace_purchase",cart:r,totalAmount:R,billingDetails:b,shippingAddress:A}});O()},H=()=>l.jsxs("form",{onSubmit:U,className:"space-y-4 text-light-text dark:text-dark-text",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Billing Information"}),l.jsx("p",{className:"text-sm text-light-subtle dark:text-dark-subtle -mt-2",children:"Please provide your details for the invoice and payment."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:"First Name",name:"billingFirstName",value:b.billingFirstName,onChange:G,required:!0}),l.jsx(De,{label:"Last Name",name:"billingLastName",value:b.billingLastName,onChange:G,required:!0})]}),l.jsx(De,{label:"Email",name:"billingEmail",type:"email",value:b.billingEmail,onChange:G,required:!0}),l.jsx(De,{label:"Contact Number",name:"billingContactNumber",type:"tel",value:b.billingContactNumber,onChange:G,required:!0}),l.jsx(De,{label:"Address Line 1",name:"billingAddressLineOne",value:b.billingAddressLineOne,onChange:G,required:!0}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:"City",name:"billingCity",value:b.billingCity||"",onChange:G,required:C}),l.jsx(De,{label:"State / Province",name:"billingState",value:b.billingState||"",onChange:G,required:C})]}),l.jsx(De,{label:"Postal Code",name:"billingPostalCode",value:b.billingPostalCode||"",onChange:G,required:C}),C&&l.jsxs("div",{className:"pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"Shipping Information"}),l.jsxs("div",{className:"mt-2 flex items-center",children:[l.jsx("input",{type:"checkbox",id:"sameAsBilling",checked:w,onChange:B=>v(B.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-light-border dark:border-dark-border rounded"}),l.jsx("label",{htmlFor:"sameAsBilling",className:"ml-2 block text-sm",children:"Shipping address is same as billing"})]}),!w&&l.jsxs("div",{className:"mt-4 space-y-4 animate-fadeIn",children:[l.jsx(De,{label:"Address Line 1",name:"line1",value:x.line1,onChange:K,required:!0}),l.jsx(De,{label:"Address Line 2 (Optional)",name:"line2",value:x.line2||"",onChange:K}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(De,{label:"City",name:"city",value:x.city,onChange:K,required:!0}),l.jsx(De,{label:"State / Province",name:"state",value:x.state,onChange:K,required:!0})]}),l.jsx(De,{label:"Postal Code",name:"postalCode",value:x.postalCode,onChange:K,required:!0})]})]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:z.format(P)})]}),D>0&&l.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[l.jsx("span",{children:"Bulk Discount"}),l.jsxs("span",{children:["- ",z.format(D)]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-light-border dark:border-dark-border",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:z.format(R)})]})]}),l.jsxs("button",{type:"submit",className:"mt-4 w-full bg-primary text-white font-bold py-3 rounded-md hover:bg-primary-dark transition-colors",children:["Pay ",z.format(R)]}),l.jsx("button",{type:"button",onClick:()=>p("cart"),className:"mt-2 w-full text-sm text-light-subtle dark:text-dark-subtle hover:text-primary",children:" Back to Cart"})]})]});return l.jsx(Tn,{isOpen:y,onClose:O,title:"Your Shopping Cart",size:"3xl",children:r.length>0?m==="cart"?l.jsxs("div",{className:"flex flex-col h-[70vh]",children:[l.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:Object.entries(N).map(([B,A])=>{const j=A;return l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-md mb-2",children:j.name}),l.jsx("div",{className:"space-y-3",children:j.items.map(I=>{var fe,be;const L=I.type==="product",F=I.type==="photo_print",W=L?I:null,pe=L?null:I;let ye="",ce="",oe="",ge=0;return L&&W?(ye=W.product.title,ce=Li((fe=W.product.coverImages)==null?void 0:fe[0],100)||"https://via.placeholder.com/150.png?text=No+Img",oe=W.product.type,ge=W.product.price):pe&&(ye=`Photo #${pe.photo.id.slice(-6)}`,ce=Li(pe.photo.url_thumb,100),ge=pe.price,F?oe=`Print (${(be=pe.printOption)==null?void 0:be.size})`:pe.type==="photo_download_highres"?oe="Download (Full Quality)":oe="Download (Standard)"),l.jsxs("div",{className:"flex items-center gap-4 p-2 bg-light-background dark:bg-dark-background rounded-md",children:[l.jsx("img",{src:ce,alt:"thumbnail",className:"w-16 h-16 rounded-md object-cover"}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("p",{className:"font-semibold text-sm text-light-text dark:text-dark-text",children:ye}),l.jsx("p",{className:"text-xs capitalize text-light-subtle dark:text-dark-subtle",children:oe})]}),(L||F)&&l.jsx("input",{type:"number",value:I.quantity,onChange:Y=>a(I.id,parseInt(Y.target.value,10)),min:"1",className:"w-16 p-1 border rounded bg-light-surface dark:bg-dark-surface border-light-border dark:border-dark-border text-light-text dark:text-dark-text"}),l.jsx("p",{className:"font-semibold text-sm text-light-text dark:text-dark-text",children:z.format(ge*I.quantity)}),l.jsx("button",{onClick:()=>n(I.id),className:"p-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/50 rounded-full",children:l.jsx(ni,{className:"w-4 h-4"})})]},I.id)})})]},B)})}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-light-border dark:border-dark-border",children:[l.jsxs("div",{className:"space-y-1 text-sm text-light-text dark:text-dark-text",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:z.format(P)})]}),D>0&&l.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[l.jsx("span",{children:"Bulk Discount"}),l.jsxs("span",{children:["- ",z.format(D)]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-lg pt-2 border-t border-light-border dark:border-dark-border",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:z.format(R)})]})]}),l.jsx("button",{onClick:()=>p("billing"),className:"mt-4 w-full bg-primary text-white font-bold py-3 rounded-md hover:bg-primary-dark transition-colors",children:"Proceed to Checkout"}),l.jsx("button",{onClick:i,className:"mt-2 w-full text-sm text-light-subtle dark:text-dark-subtle hover:text-red-500",children:"Clear Cart"})]})]}):H():l.jsxs("div",{className:"text-center py-12",children:[l.jsx(e2,{className:"w-16 h-16 mx-auto text-light-subtle dark:text-dark-subtle"}),l.jsx("p",{className:"mt-4 font-semibold text-light-text dark:text-dark-text",children:"Your cart is empty"}),l.jsx("p",{className:"mt-1 text-sm text-light-subtle dark:text-dark-subtle",children:"Add items from the store or event galleries to get started."})]})})},eL=({onLogin:e,onBrowse:t})=>l.jsxs("div",{className:"fixed inset-0 bg-light-background dark:bg-dark-background z-50 flex flex-col items-center justify-center p-8 text-center animate-fadeIn md:hidden",children:[l.jsx(Tu,{className:"h-20 w-20 text-primary"}),l.jsx("h1",{className:"mt-6 text-3xl font-bold text-light-text dark:text-dark-text",children:"Welcome to clazz.lk"}),l.jsx("p",{className:"mt-2 text-md text-light-subtle dark:text-dark-subtle",children:"Sri Lanka's Premier Online Learning Platform."}),l.jsxs("div",{className:"mt-12 w-full max-w-xs space-y-4",children:[l.jsx("button",{onClick:e,className:"w-full bg-primary text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-primary-dark transition-transform hover:scale-105",children:"Login / Sign Up"}),l.jsx("button",{onClick:t,className:"w-full text-primary font-semibold py-3 px-6 rounded-lg hover:bg-primary/10 transition-colors",children:"Browse as Guest"})]})]}),tL=Ke.lazy(()=>Je(()=>import("./ChatWidget-B2-wkd5o.js"),__vite__mapDeps([0,1]))),rL=()=>{const[e,t]=T.useState(!1);return e?l.jsx(T.Suspense,{fallback:null,children:l.jsx(tL,{})}):l.jsxs("div",{className:"fixed bottom-20 md:bottom-8 right-6 z-[60] flex flex-col items-end group",children:[l.jsxs("span",{className:"absolute flex h-4 w-4 -top-1 -right-1 z-[61]",children:[l.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),l.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-500 border-2 border-white"})]}),l.jsxs("button",{onClick:()=>t(!0),className:"flex items-center p-4 bg-gradient-to-tr from-primary to-blue-500 text-white rounded-2xl shadow-xl hover:shadow-primary/40 transition-all duration-300 transform hover:scale-110 active:scale-95","aria-label":"Chat Now",children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.8,stroke:"currentColor",className:"w-8 h-8 group-hover:rotate-12 transition-transform duration-300",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),l.jsx("span",{className:"max-w-0 overflow-hidden group-hover:max-w-xs group-hover:ml-3 transition-all duration-500 ease-in-out whitespace-nowrap font-bold",children:"Chat with us"})]})]})},nL=()=>{const e=["#FFD700","#E5E4E2","#FFFFFF"],t=T.useMemo(()=>Array.from({length:5}).map((a,i)=>({id:i,left:Math.random()*98,size:6+Math.random()*4,duration:22+Math.random()*15,delay:Math.random()*12,color:e[i%e.length],drift:Math.random()*40-20})),[]),[r,n]=T.useState("");return T.useEffect(()=>{const a=new Date("2026-01-01T00:00:00"),i=setInterval(()=>{const s=new Date,u=a.getTime()-s.getTime();if(u<=0){n("Happy New Year "),clearInterval(i);return}const c=Math.floor(u/(1e3*60*60)),f=Math.floor(u/(1e3*60)%60),h=Math.floor(u/1e3%60);n(`2026 in ${c.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`)},1e3);return()=>clearInterval(i)},[]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[l.jsx("style",{children:`
          @keyframes confetti-fall {
            0% {
              top: -10%;
              opacity: 0;
              transform: translateX(0) rotate(0deg);
            }
            15% { opacity: 0.8; }
            100% {
              top: 110%;
              opacity: 0.3;
              transform: translateX(var(--drift)) rotate(180deg);
            }
          }
        `}),t.map(a=>l.jsx("span",{className:"absolute rounded-sm",style:{left:`${a.left}%`,width:`${a.size}px`,height:`${a.size}px`,backgroundColor:a.color,animation:`confetti-fall ${a.duration}s linear ${a.delay}s infinite`,"--drift":`${a.drift}px`}},a.id))]}),l.jsx("div",{className:"fixed bottom-4 right-4 z-[61] pointer-events-none",children:l.jsx("div",{className:"backdrop-blur-md bg-black/40 text-white text-sm px-3 py-1.5 rounded-full shadow-md",children:r})})]})};var aL=typeof Element!="undefined",iL=typeof Map=="function",oL=typeof Set=="function",sL=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function wl(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,a;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!wl(e[n],t[n]))return!1;return!0}var i;if(iL&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;for(i=e.entries();!(n=i.next()).done;)if(!wl(n.value[1],t.get(n.value[0])))return!1;return!0}if(oL&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(n=i.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(sL&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;if(aL&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&e.$$typeof)&&!wl(e[a[n]],t[a[n]]))return!1;return!0}return e!==e&&t!==t}var lL=function(t,r){try{return wl(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const uL=Yo(lL);var cL=function(e,t,r,n,a,i,s,u){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[r,n,a,i,s,u],h=0;c=new Error(t.replace(/%s/g,function(){return f[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},dL=cL;const fy=Yo(dL);var fL=function(t,r,n,a){var i=n?n.call(a,t,r):void 0;if(i!==void 0)return!!i;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var s=Object.keys(t),u=Object.keys(r);if(s.length!==u.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),f=0;f<s.length;f++){var h=s[f];if(!c(h))return!1;var m=t[h],p=r[h];if(i=n?n.call(a,m,p,h):void 0,i===!1||i===void 0&&m!==p)return!1}return!0};const hL=Yo(fL);var t2=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(t2||{}),sd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},hy=Object.values(t2),Gh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},pL=Object.entries(Gh).reduce((e,[t,r])=>(e[r]=t,e),{}),Rr="data-rh",_i={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ci=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},mL=e=>{let t=Ci(e,"title");const r=Ci(e,_i.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=Ci(e,_i.DEFAULT_TITLE);return t||n||void 0},gL=e=>Ci(e,_i.ON_CHANGE_CLIENT_STATE)||(()=>{}),ld=(e,t)=>t.filter(r=>typeof r[e]!="undefined").map(r=>r[e]).reduce((r,n)=>q(q({},r),n),{}),vL=(e,t)=>t.filter(r=>typeof r.base!="undefined").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let i=0;i<a.length;i+=1){const u=a[i].toLowerCase();if(e.indexOf(u)!==-1&&n[u])return r.concat(n)}}return r},[]),yL=e=>console&&typeof console.warn=="function"&&console.warn(e),co=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]!="undefined"&&yL(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,i)=>{const s={};i.filter(c=>{let f;const h=Object.keys(c);for(let p=0;p<h.length;p+=1){const b=h[p],S=b.toLowerCase();t.indexOf(S)!==-1&&!(f==="rel"&&c[f].toLowerCase()==="canonical")&&!(S==="rel"&&c[S].toLowerCase()==="stylesheet")&&(f=S),t.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(f=b)}if(!f||!c[f])return!1;const m=c[f].toLowerCase();return n[f]||(n[f]={}),s[f]||(s[f]={}),n[f][m]?!1:(s[f][m]=!0,!0)}).reverse().forEach(c=>a.push(c));const u=Object.keys(s);for(let c=0;c<u.length;c+=1){const f=u[c],h=q(q({},n[f]),s[f]);n[f]=h}return a},[]).reverse()},wL=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},xL=e=>({baseTag:vL(["href"],e),bodyAttributes:ld("bodyAttributes",e),defer:Ci(e,_i.DEFER),encode:Ci(e,_i.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ld("htmlAttributes",e),linkTags:co("link",["rel","href"],e),metaTags:co("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:co("noscript",["innerHTML"],e),onChangeClientState:gL(e),scriptTags:co("script",["src","innerHTML"],e),styleTags:co("style",["cssText"],e),title:mL(e),titleAttributes:ld("titleAttributes",e),prioritizeSeoTags:wL(e,_i.PRIORITIZE_SEO_TAGS)}),r2=e=>Array.isArray(e)?e.join(""):e,kL=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},ud=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(kL(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},py=(e,t)=>X(q({},e),{[t]:void 0}),bL=["noscript","script","style"],_f=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),n2=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]!="undefined"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),SL=(e,t,r,n)=>{const a=n2(r),i=r2(t);return a?`<${e} ${Rr}="true" ${a}>${_f(i,n)}</${e}>`:`<${e} ${Rr}="true">${_f(i,n)}</${e}>`},_L=(e,t,r=!0)=>t.reduce((n,a)=>{const i=a,s=Object.keys(i).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,h)=>{const m=typeof i[h]=="undefined"?h:`${h}="${_f(i[h],r)}"`;return f?`${f} ${m}`:m},""),u=i.innerHTML||i.cssText||"",c=bL.indexOf(e)===-1;return`${n}<${e} ${Rr}="true" ${s}${c?"/>":`>${u}</${e}>`}`},""),a2=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=Gh[n];return r[a||n]=e[n],r},t),CL=(e,t,r)=>{const n={key:t,[Rr]:!0},a=a2(r,n);return[Ke.createElement("title",a,t)]},xl=(e,t)=>t.map((r,n)=>{const a={key:n,[Rr]:!0};return Object.keys(r).forEach(i=>{const u=Gh[i]||i;if(u==="innerHTML"||u==="cssText"){const c=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:c}}else a[u]=r[i]}),Ke.createElement(e,a)}),kr=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>CL(e,t.title,t.titleAttributes),toString:()=>SL(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>a2(t),toString:()=>n2(t)};default:return{toComponent:()=>xl(e,t),toString:()=>_L(e,t,r)}}},EL=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=ud(e,sd.meta),i=ud(t,sd.link),s=ud(r,sd.script);return{priorityMethods:{toComponent:()=>[...xl("meta",a.priority),...xl("link",i.priority),...xl("script",s.priority)],toString:()=>`${kr("meta",a.priority,n)} ${kr("link",i.priority,n)} ${kr("script",s.priority,n)}`},metaTags:a.default,linkTags:i.default,scriptTags:s.default}},TL=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:i,styleTags:s,title:u="",titleAttributes:c,prioritizeSeoTags:f}=e;let{linkTags:h,metaTags:m,scriptTags:p}=e,b={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:b,linkTags:h,metaTags:m,scriptTags:p}=EL(e)),{priority:b,base:kr("base",t,n),bodyAttributes:kr("bodyAttributes",r,n),htmlAttributes:kr("htmlAttributes",a,n),link:kr("link",h,n),meta:kr("meta",m,n),noscript:kr("noscript",i,n),script:kr("script",p,n),style:kr("style",s,n),title:kr("title",{title:u,titleAttributes:c},n)}},Cf=TL,al=[],i2=!!(typeof window!="undefined"&&window.document&&window.document.createElement),Ef=class{constructor(e,t){cn(this,"instances",[]);cn(this,"canUseDOM",i2);cn(this,"context");cn(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?al:this.instances,add:e=>{(this.canUseDOM?al:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?al:this.instances).indexOf(e);(this.canUseDOM?al:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Cf({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},NL={},o2=Ke.createContext(NL),xa,s2=(xa=class extends T.Component{constructor(r){super(r);cn(this,"helmetData");this.helmetData=new Ef(this.props.context||{},xa.canUseDOM)}render(){return Ke.createElement(o2.Provider,{value:this.helmetData.value},this.props.children)}},cn(xa,"canUseDOM",i2),xa),ei=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${Rr}]`),a=[].slice.call(n),i=[];let s;return t&&t.length&&t.forEach(u=>{const c=document.createElement(e);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")c.innerHTML=u.innerHTML;else if(f==="cssText")c.styleSheet?c.styleSheet.cssText=u.cssText:c.appendChild(document.createTextNode(u.cssText));else{const h=f,m=typeof u[h]=="undefined"?"":u[h];c.setAttribute(f,m)}c.setAttribute(Rr,"true"),a.some((f,h)=>(s=h,c.isEqualNode(f)))?a.splice(s,1):i.push(c)}),a.forEach(u=>{var c;return(c=u.parentNode)==null?void 0:c.removeChild(u)}),i.forEach(u=>r.appendChild(u)),{oldTags:a,newTags:i}},Tf=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(Rr),a=n?n.split(","):[],i=[...a],s=Object.keys(t);for(const u of s){const c=t[u]||"";r.getAttribute(u)!==c&&r.setAttribute(u,c),a.indexOf(u)===-1&&a.push(u);const f=i.indexOf(u);f!==-1&&i.splice(f,1)}for(let u=i.length-1;u>=0;u-=1)r.removeAttribute(i[u]);a.length===i.length?r.removeAttribute(Rr):r.getAttribute(Rr)!==s.join(",")&&r.setAttribute(Rr,s.join(","))},IL=(e,t)=>{typeof e!="undefined"&&document.title!==e&&(document.title=r2(e)),Tf("title",t)},my=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:i,metaTags:s,noscriptTags:u,onChangeClientState:c,scriptTags:f,styleTags:h,title:m,titleAttributes:p}=e;Tf("body",n),Tf("html",a),IL(m,p);const b={baseTag:ei("base",r),linkTags:ei("link",i),metaTags:ei("meta",s),noscriptTags:ei("noscript",u),scriptTags:ei("script",f),styleTags:ei("style",h)},S={},x={};Object.keys(b).forEach(E=>{const{newTags:w,oldTags:v}=b[E];w.length&&(S[E]=w),v.length&&(x[E]=b[E].oldTags)}),t&&t(),c(e,S,x)},fo=null,DL=e=>{fo&&cancelAnimationFrame(fo),e.defer?fo=requestAnimationFrame(()=>{my(e,()=>{fo=null})}):(my(e),fo=null)},ML=DL,gy=class extends T.Component{constructor(){super(...arguments);cn(this,"rendered",!1)}shouldComponentUpdate(t){return!hL(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=xL(t.get().map(i=>{const s=q({},i.props);return delete s.context,s}));s2.canUseDOM?ML(a):Cf&&(n=Cf(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},dd,$A=(dd=class extends T.Component{shouldComponentUpdate(e){return!uL(py(this.props,"helmetData"),py(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return X(q({},t),{[e.type]:[...t[e.type]||[],q(q({},r),this.mapNestedChildrenToProps(e,n))]})}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return X(q({},t),{[e.type]:n,titleAttributes:q({},r)});case"body":return X(q({},t),{bodyAttributes:q({},r)});case"html":return X(q({},t),{htmlAttributes:q({},r)});default:return X(q({},t),{[e.type]:q({},r)})}}mapArrayTypeChildrenToProps(e,t){let r=q({},t);return Object.keys(e).forEach(n=>{r=X(q({},r),{[n]:e[n]})}),r}warnOnInvalidChildren(e,t){return fy(hy.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${hy.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),fy(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return Ke.Children.forEach(e,n=>{if(!n||!n.props)return;const c=n.props,{children:a}=c,i=ks(c,["children"]),s=Object.keys(i).reduce((f,h)=>(f[pL[h]||h]=i[h],f),{});let{type:u}=n;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(n,a),u){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,s,a);break;default:t=this.mapObjectTypeChildren(n,t,s,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const a=this.props,{children:e}=a,t=ks(a,["children"]);let r=q({},t),{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof Ef)){const i=n;n=new Ef(i.context,!0),delete r.helmetData}return n?Ke.createElement(gy,X(q({},r),{context:n.value})):Ke.createElement(o2.Consumer,null,i=>Ke.createElement(gy,X(q({},r),{context:i})))}},cn(dd,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),dd);const PL=Ke.lazy(()=>Je(()=>import("./HomePage-DkuGlg7R.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14,1]))),jL=Ke.lazy(()=>Je(()=>import("./AllTeachersPage-DmAGlbZI.js"),__vite__mapDeps([15,4,5,3,16,1]))),LL=Ke.lazy(()=>Je(()=>import("./AllCoursesPage-gGDvCYZQ.js"),__vite__mapDeps([17,6,5,7,3,16,1]))),AL=Ke.lazy(()=>Je(()=>import("./AllClassesPage-D-Fy3wVK.js"),__vite__mapDeps([18,8,5,7,3,19,1]))),OL=Ke.lazy(()=>Je(()=>import("./AllQuizzesPage-DXkTZ-58.js"),__vite__mapDeps([20,9,5,7,3,1]))),RL=Ke.lazy(()=>Je(()=>import("./AllExamsPage-9WLjcXQx.js"),__vite__mapDeps([21,11,12,16,1]))),BL=Ke.lazy(()=>Je(()=>import("./AllEventsPage-eQaNyrqT.js"),__vite__mapDeps([22,10,3,7,1]))),$L=Ke.lazy(()=>Je(()=>import("./AllProductsPage-2_j5662J.js"),__vite__mapDeps([23,24,7,3,16,1]))),vy=Ke.lazy(()=>Je(()=>import("./TeacherProfilePage-K1VyrcZt.js"),__vite__mapDeps([25,26,5,27,19,28,14,1,7,29,8,6,30,9,24,10]))),yy=Ke.lazy(()=>Je(()=>import("./StudentDashboard-Di9KSJmB.js"),__vite__mapDeps([31,6,5,7,8,9,10,27,30,32,13,11,12,1,28]))),KL=Ke.lazy(()=>Je(()=>import("./AdminDashboard-BVzgTL6y.js"),__vite__mapDeps([33,26,28,1]))),FL=Ke.lazy(()=>Je(()=>import("./EditProfilePage-BBDFjFu4.js"),__vite__mapDeps([34,19,1]))),zL=Ke.lazy(()=>Je(()=>import("./CourseEditorPage-2GuXQJAT.js"),__vite__mapDeps([35,1]))),wy=Ke.lazy(()=>Je(()=>import("./CourseDetailPage-DL0Of4mJ.js"),__vite__mapDeps([36,5,12,7,14,28,32,1]))),xy=Ke.lazy(()=>Je(()=>import("./ClassDetailPage-B7OuyDGP.js"),__vite__mapDeps([37,12,5,28,32,14,7,1]))),ky=Ke.lazy(()=>Je(()=>import("./QuizDetailPage-Bk3Tf8So.js"),__vite__mapDeps([38,12,28,16,7,1]))),by=Ke.lazy(()=>Je(()=>import("./EventDetailPage-BmUnkJTP.js"),__vite__mapDeps([39,12,28,14,7,1]))),Sy=Ke.lazy(()=>Je(()=>import("./ProductDetailPage-Cea4ybjo.js"),__vite__mapDeps([40,16,7,1]))),UL=Ke.lazy(()=>Je(()=>import("./QuizEditorPage-B6WRuO1l.js"),__vite__mapDeps([41,1]))),HL=Ke.lazy(()=>Je(()=>import("./QuizTakingPage-BwLIbCNM.js"),__vite__mapDeps([42,28,1]))),WL=Ke.lazy(()=>Je(()=>import("./PaymentRedirectPage-TBXI_AyF.js"),__vite__mapDeps([43,1]))),qL=Ke.lazy(()=>Je(()=>import("./StaticPage-DV9ND5zc.js"),__vite__mapDeps([44,1]))),cd=Ke.lazy(()=>Je(()=>import("./GiftVoucherPage-4kpBk52H.js"),__vite__mapDeps([45,30,1]))),VL=Ke.lazy(()=>Je(()=>import("./ReferralDashboardPage-lFVl3MLe.js"),__vite__mapDeps([46,28,1]))),_y=Ke.lazy(()=>Je(()=>import("./TuitionInstituteDashboard-Dnsgj-lU.js"),__vite__mapDeps([47,19,29,8,5,7,28,1]))),GL=Ke.lazy(()=>Je(()=>import("./AttendanceScannerPage-CBx2aGbX.js"),__vite__mapDeps([48,1]))),YL=Ke.lazy(()=>Je(()=>import("./TeacherReferralLandingPage-Bz_aOcCQ.js"),__vite__mapDeps([49,1]))),QL=Ke.lazy(()=>Je(()=>import("./SubscriptionSuccessPage-xh1IysCi.js"),__vite__mapDeps([50,1]))),JL=()=>{const[e,t]=T.useState(window.innerWidth<768);return T.useEffect(()=>{const r=()=>{t(window.innerWidth<768)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e},XL=()=>{const{notificationPopup:e,setNotificationPopup:t}=At(),{isOpen:r,title:n,message:a}=e;return r?l.jsx(Tn,{isOpen:r,onClose:()=>t(i=>X(q({},i),{isOpen:!1})),title:n||"Notification",size:"md",children:l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("p",{className:"text-lg text-light-text dark:text-dark-text mb-6",children:a}),l.jsx("button",{onClick:()=>t(i=>X(q({},i),{isOpen:!1})),className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary-dark transition-colors",children:"OK"})]})}):null};function ZL(){const{pageState:e,staticPageContent:t,handleNavigate:r,handleBack:n}=Ir(),{modalState:a,setModalState:i,videoPlayerState:s,imageUploadModal:u,prePurchaseVerificationModal:c,addToast:f,setChatWidgetOpen:h,setNotificationPopup:m}=At(),{currentUser:p,loading:b}=Gt(),{teachers:S,sales:x,handleFinishQuiz:E,handleUpdateTeacher:w,handleSaveCourse:v,handleSaveQuiz:y,handlePaymentResponse:C,loading:O}=ln(),P=T.useRef(!1),D=JL(),[R,N]=T.useState(()=>!sessionStorage.getItem("hasDismissedWelcomeGate")),z=()=>{i({name:"login"}),N(!1),sessionStorage.setItem("hasDismissedWelcomeGate","true")},G=()=>{N(!1),sessionStorage.setItem("hasDismissedWelcomeGate","true")};T.useEffect(()=>{ne(this,null,function*(){const B=new URLSearchParams(window.location.search);B.get("action")==="open_chat"&&(h(!0),window.history.replaceState({},document.title,window.location.pathname+window.location.hash));const A=B.get("notification_id");if(A){try{const j=he(Q,"notifications",A),I=yield ea(j);if(I.exists()){const L=I.data();m({isOpen:!0,title:`Message from ${L.teacherName}`,message:L.content})}}catch(j){console.error("Failed to fetch initial notification details",j)}window.history.replaceState({},document.title,window.location.pathname+window.location.hash)}})},[h,m]),T.useEffect(()=>{if("serviceWorker"in navigator){const H=B=>{const A=B.data;if(A&&A.type==="NOTIFICATION_CLICK"){const j=A.payload;console.log("App received SW message:",j),j.type==="chat_reply"?h(!0):j.type==="teacher_notification"&&(m({isOpen:!0,title:j.title||"Notification",message:j.message||"You have a new message."}),j.teacherId&&r({name:"teacher_profile",teacherId:j.teacherId}))}};return navigator.serviceWorker.addEventListener("message",H),()=>navigator.serviceWorker.removeEventListener("message",H)}},[h,m,r]),T.useEffect(()=>{if(window.gtag){const H=window.location.hash.substring(1)||"/";window.gtag("config","G-98MHPV86X9",{page_path:H}),console.log(`GA Page View Sent: ${H}`)}},[e]),T.useEffect(()=>{if(b)return;const H=["admin_dashboard","admin_view_student_dashboard","admin_ti_dashboard"],B=["ti_dashboard"],A=H.includes(e.name),j=B.includes(e.name);A&&(p?p.role!=="admin"&&(f("You do not have permission to access this page.","error"),r({name:"home"})):(f("Please log in to access this page.","error"),r({name:"home"}),i({name:"login"}))),j&&(p?p.role!=="tuition_institute"&&(f("You must be a Tuition Institute to access this page.","error"),r({name:"home"})):(f("Please log in to access this page.","error"),r({name:"home"}),i({name:"login"})))},[e.name,p,b,f,r,i]),T.useEffect(()=>{ne(this,null,function*(){if(b||O||P.current)return;let B=window.location.search;if(!B&&window.location.hash.includes("?")&&(B=window.location.hash.substring(window.location.hash.indexOf("?"))),!B)return;const A=new URLSearchParams(B),j=A.has("status_code")&&A.has("custom_fields"),I=A.has("payment_gateway")&&A.get("payment_gateway")==="marxipg";if(!(!j&&!I)){if(P.current=!0,j){const L=yield C(A);L&&r(L)}else if(I){const L=A.get("trId"),F=A.get("merchantRID");if(L&&F)try{const ye=yield(yield fetch("https://marxpaymenthandler-gtlcyfs7jq-uc.a.run.app/completePayment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trId:L,merchantRID:F})})).json();if(ye.success&&ye.finalStatus==="SUCCESS"){const ce=new URLSearchParams;ce.append("status_code","00"),ce.append("custom_fields",ye.custom_fields);const oe=yield C(ce);oe&&r(oe)}else f(`Payment failed: ${ye.message&&ye.message!=="null"?ye.message:"Transaction was unsuccessful."}`,"error"),r({name:"home"})}catch(W){console.error("Error completing Marx payment:",W),f("There was an issue verifying your payment. Please contact support.","error"),r({name:"home"})}}}})},[b,O,C,r,f]);const K=()=>{const H=["admin_dashboard","admin_view_student_dashboard","admin_ti_dashboard"],B=["ti_dashboard"];if(H.includes(e.name)&&(!p||p.role!=="admin"))return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx(id,{className:"w-8 h-8 text-primary"})});if(B.includes(e.name)&&(!p||p.role!=="tuition_institute"))return l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx(id,{className:"w-8 h-8 text-primary"})});switch(e.name){case"home":return l.jsx(PL,{});case"all_teachers":return l.jsx(jL,{});case"all_courses":return l.jsx(LL,{});case"all_classes":return l.jsx(AL,{});case"all_quizzes":return l.jsx(OL,{});case"all_exams":return l.jsx(RL,{});case"all_events":return l.jsx(BL,{});case"all_products":return l.jsx($L,{});case"teacher_profile_slug":return l.jsx(vy,{slug:e.slug});case"teacher_profile":return l.jsx(vy,{teacherId:e.teacherId});case"gift_voucher":return l.jsx(cd,{});case"voucher_success":return l.jsx(cd,{vouchers:e.vouchers});case"topup_success":return l.jsx(cd,{successData:e.successData});case"referral_dashboard":return l.jsx(VL,{});case"teacher_referral_landing":return l.jsx(YL,{refCode:e.refCode,level:e.level});case"course_detail":return l.jsx(wy,{courseId:e.courseId});case"course_detail_slug":return l.jsx(wy,{slug:e.slug});case"class_detail":return l.jsx(xy,{classId:e.classId});case"class_detail_slug":return l.jsx(xy,{slug:e.slug});case"quiz_detail":return l.jsx(ky,{quizId:e.quizId,instanceId:e.instanceId});case"quiz_detail_slug":return l.jsx(ky,{slug:e.slug,instanceId:e.instanceId});case"event_detail":return l.jsx(by,{eventId:e.eventId});case"event_detail_slug":return l.jsx(by,{slug:e.slug});case"product_detail":return l.jsx(Sy,{productId:e.productId});case"product_detail_slug":return l.jsx(Sy,{slug:e.slug});case"student_dashboard":return l.jsx(yy,{});case"admin_dashboard":return l.jsx(KL,{});case"admin_view_student_dashboard":return l.jsx(yy,{userId:e.userId,isAdminView:!0});case"ti_dashboard":return l.jsx(_y,{});case"admin_ti_dashboard":return l.jsx(_y,{instituteId:e.instituteId,isAdminView:!0});case"attendance_scanner":return l.jsx(GL,{classId:e.classId,eventId:e.eventId});case"edit_teacher_profile":{const{teacherId:j}=e,I=S.find(L=>L.id===j);return I?l.jsx(FL,{teacher:I,onSave:L=>{w(L.id,L),L.username?r({name:"teacher_profile_slug",slug:L.username}):r({name:"teacher_profile",teacherId:L.id})},onCancel:()=>r({name:"teacher_profile",teacherId:I.id})}):l.jsx("div",{children:"Teacher not found"})}case"course_editor":{const{courseId:j,teacherId:I}=e,L=S.find(W=>W.id===I);if(!L)return l.jsx("div",{children:"Teacher not found"});const F=j?L.courses.find(W=>W.id===j):null;return j&&!F?l.jsx("div",{children:"Course not found"}):l.jsx(zL,{courseData:F||null,teacherId:I,onSave:v,onCancel:()=>r({name:"teacher_profile",teacherId:L.id})})}case"quiz_editor":{const{quizId:j,teacherId:I}=e,L=S.find(W=>W.id===I),F=L==null?void 0:L.quizzes.find(W=>W.id===j);return!L||j&&!F?l.jsx("div",{children:"Quiz not found"}):l.jsx(UL,{quizData:F,teacherId:I,onSave:y,onCancel:()=>r({name:"teacher_profile",teacherId:L.id})})}case"quiz_taking":{const{quizId:j}=e;let I=null;for(const L of S){const F=L.quizzes.find(W=>W.id===j);if(F){I=F;break}}if(!I&&p){const L=x.find(F=>F.studentId===p.id&&F.itemType==="quiz"&&F.itemId===j);L&&(I=L.itemSnapshot)}return!I||!p?l.jsx("div",{children:"Quiz not found or user not logged in"}):l.jsx(HL,{quizData:I,currentUser:p,onFinishQuiz:E,onBack:n})}case"payment_redirect":return!p&&e.payload.type!=="voucher"&&e.payload.type!=="external_topup"&&e.payload.type!=="marketplace_purchase"&&e.payload.type!=="photo_purchase"&&e.payload.type!=="teacher_subscription"?l.jsx("div",{children:"Please log in to complete the payment."}):l.jsx(WL,{user:p,payload:e.payload});case"subscription_success":return l.jsx(QL,{planLevel:e.planLevel,amount:e.amount,transactionId:e.transactionId,billingDetails:e.billingDetails,refCode:e.refCode});case"static":const A=t[e.pageKey];return l.jsx(qL,{title:A.title,content:A.content,onBack:n});default:return l.jsx("div",{children:"Page Not Found"})}},U=()=>a.name==="login"?l.jsx(Pj,{}):a.name==="forgot_password"?l.jsx(Oj,{}):a.name==="edit_student_profile"?l.jsx(Kj,{}):a.name==="cart"?l.jsx(Zj,{}):a.name==="register"?l.jsx(Aj,{refCode:a.refCode,googleUser:a.googleUser,firebaseUser:a.firebaseUser,initialMethod:a.initialMethod,prefillData:a.prefillData}):null;return l.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-light-background dark:bg-dark-background text-light-text dark:text-dark-text",children:[D&&!p&&!b&&R&&l.jsx(eL,{onLogin:z,onBrowse:G}),l.jsx(Nj,{}),l.jsx("main",{className:"flex-grow pb-24 md:pb-0 pb-safe",children:l.jsx(T.Suspense,{fallback:l.jsx("div",{className:"flex justify-center items-center h-screen",children:l.jsx(id,{className:"w-10 h-10 text-primary animate-spin"})}),children:K()})}),l.jsx(Ij,{}),l.jsx(rL,{}),U(),u.isOpen&&l.jsx(Gj,{}),s.isOpen&&s.lecture&&s.course&&l.jsx(Wj,{}),c.isOpen&&l.jsx(Jj,{}),l.jsx(XL,{}),l.jsx(Xj,{}),l.jsx(Qj,{}),l.jsx(nL,{}),l.jsx(Mj,{})]})}function eA(){return l.jsx(s2,{children:l.jsx(X5,{children:l.jsx(F5,{children:l.jsx(Z5,{children:l.jsx(q8,{children:l.jsx(V8,{children:l.jsx(ZL,{})})})})})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/firebase-messaging-sw.js").then(e=>{console.log("Service Worker registration successful with scope: ",e.scope)}).catch(e=>{console.log("Service Worker registration failed: ",e)})});const l2=document.getElementById("root");if(!l2)throw new Error("Could not find root element to mount to");const tA=fd.createRoot(l2);tA.render(l.jsx(Ke.StrictMode,{children:l.jsx(eA,{})}));export{kA as $,RA as A,pj as B,G8 as C,kj as D,LA as E,Tn as F,De as G,X8 as H,rl as I,nl as J,ri as K,Tu as L,Hj as M,Z8 as N,Zn as O,yA as P,qj as Q,Ke as R,id as S,ni as T,mj as U,qx as V,da as W,qh as X,DA as Y,oA as Z,gn as _,Y8 as a,Zx as a0,gA as a1,NA as a2,PA as a3,tj as a4,MA as a5,rj as a6,lj as a7,Vh as a8,AA as a9,J8 as aA,uj as aB,P8 as aC,hA as aD,ij as aE,$A as aF,OA as aG,Q8 as aH,Hn as aI,Yo as aJ,xj as aa,pA as ab,j8 as ac,vj as ad,Fj as ae,uA as af,sj as ag,Q as ah,vA as ai,mA as aj,aj as ak,nj as al,gj as am,oj as an,EA as ao,D8 as ap,e2 as aq,I8 as ar,Je as as,IA as at,xA as au,wA as av,CA as aw,_A as ax,jA as ay,BA as az,Gt as b,lA as c,ln as d,At as e,cA as f,C8 as g,E8 as h,cy as i,l as j,sA as k,Li as l,fA as m,aA as n,ej as o,dA as p,Rj as q,T as r,iA as s,eo as t,Ir as u,Sf as v,TA as w,bA as x,bj as y,SA as z};
